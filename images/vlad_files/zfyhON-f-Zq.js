if (self.CavalryLogger) { CavalryLogger.start_js(["zzTtb"]); }

/** __static_js_modules__/videochannelloggereventtargets.js */




__d("VideoChannelLoggerEventTargets",[],(function a(b,c,d,e,f,g){

f.exports={CLOSE:"close",WASH:"wash",PREVIOUS_ARROW:"previous_arrow",PREVIOUS_ARROW_KEY:"previous_arrow_key",NEXT_ARROW:"next_arrow",NEXT_ARROW_KEY:"next_arrow_key",UP_NEXT:"up_next",THUMBNAIL:"thumbnail",SHOW_SIDE_PANE:"show_side_pane",HIDE_SIDE_PANE:"hide_side_pane",SHARE:"share",WATCH_AND_SCROLL:"watch_and_scroll",WWW_CHANNEL_PIVOT:"www_channel_pivot",BACK:"back",WNS:"wns",STORY_HEADER:"story_header",SECONDARY_ACTION:"secondary_action",FULLSCREEN:"fullscreen",STORY_DESCRIPTION:"story_description",ACTION_LINK:"action_link",UFI_COUNTS:"ufi_counts",LIKE:"like",COMMENT:"comment",STORY:"story"};}),

null);

/** __static_js_modules__/videohomeevents.js */




__d("VideoHomeEvents",[],(function a(b,c,d,e,f,g){

f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",MARK_VISIT_WITH_BADGE:"mark_visit_with_badge",MARK_VISIT_WATCHLIST:"mark_visit_watchlist",SECTION_PAGINATION_ERROR:"section_pagination_error",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",UNIT_PREFETCH:"unit_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SWIPE:"swipe",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",MARK_DATA_DIRTY:"mark_data_dirty",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss",VIDEO_JEWEL_IMPRESSION:"video_jewel_impression",SCROLL_PERF:"scroll_perf",SCROLL_PERF_HSCROLL:"scroll_perf_hscroll",APPENDED_HSCROLL_STORIES:"appended_hscroll_stories",LOAD_UNIT_ATTEMPT:"load_unit_attempt",UNIT_STORY_EXCEPTION:"unit_story_exception"};}),

null);

/** __static_js_modules__/videohomeeventtargets.js */




__d("VideoHomeEventTargets",[],(function a(b,c,d,e,f,g){

f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",SPINNER:"spinner",NUX:"nux",NONE:"none"};}),

null);

/** __static_js_modules__/videohomeexitpointtypes.js */




__d("VideoHomeExitPointTypes",[],(function a(b,c,d,e,f,g){

f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"};}),

null);

/** __static_js_modules__/videohomeloggerfields.js */




__d("VideoHomeLoggerFields",[],(function a(b,c,d,e,f,g){

f.exports={BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CHANNEL_ID:"channel_id",REACTION_CHANNEL_ID:"reaction_channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",CREATOR_STATUS:"creator_status",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",WITH_FETCH_CURSOR:"with_fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",IS_DIALTONE:"is_dialtone",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",SECTION_VIDEO_CHANNEL_TYPE:"section_video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",SCROLL_PERF_DURATION:"scroll_perf_duration",SCROLL_PERF_SMALL_DROP:"scroll_perf_small_drop",SCROLL_PERF_LARGE_DROP:"scroll_perf_large_drop",UNSEEN_NOTIFICATIONS_COUNT:"unseen_notifications_count",PREFETCH_ENABLED:"prefetch_enabled",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components",ELIGIBLE_FOR_HSCROLL_COUNT:"eligible_for_hscroll_count",RENDERED_IN_HSCROLL_COUNT:"rendered_in_hscroll_count",ASYNCHRONOUSLY_LOADED_HSCROLL_CONTENT:"asynchronously_loaded_hscroll_content",FIRST_N:"first_n",EXCEPTION:"exception",EXCEPTION_TRACE:"exception_trace",REQUESTED_UNIT_IDS:"requested_unit_ids",GENERATED_UNIT_IDS:"generated_unit_ids"};}),

null);

/** __static_js_modules__/videohomerequeststatus.js */




__d("VideoHomeRequestStatus",[],(function a(b,c,d,e,f,g){

f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};}),

null);

/** js/components/core/XUI/Stepper/StepperAnimation.js */




__d('StepperAnimation',['invariant','Animation','mixInEventEmitter'],(function a(b,c,d,e,f,g,h){











var i={done:true,go:true},

j=function n(o){

!o||h(0,
'cannot call `go` on StepperAnimation more than once');};




function k(n){'use strict';
this.$StepperAnimation_animation=new (c('Animation'))(n);
this.$StepperAnimation_animation.ondone(this.emit.bind(this,'done'));
this.__fired__=false;}
k.prototype.

from=function(){'use strict';
this.$StepperAnimation_animation.from.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

to=function(){'use strict';
this.$StepperAnimation_animation.to.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

ease=function(){'use strict';
this.$StepperAnimation_animation.ease.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

go=function(){'use strict';
j(this.__fired__);
this.__fired__=true;
this.$StepperAnimation_animation.go();
this.emit('go');
return this;};
k.prototype.

checkpoint=function(){'use strict';
this.$StepperAnimation_animation.checkpoint.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

show=function(){'use strict';
this.$StepperAnimation_animation.show.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

duration=function(){'use strict';
this.$StepperAnimation_animation.duration.apply(this.$StepperAnimation_animation,arguments);
return this;};
k.prototype.

stop=function(){'use strict';
this.$StepperAnimation_animation.stop.apply(this.$StepperAnimation_animation,arguments);
return this;};




function l(n){'use strict';
this.$SerialAnimations_animations=n||[];
this.$SerialAnimations_finished=0;
for(var o=0,p=n.length;o<p;o++){
var q=n[o+1];
if(q)
n[o].addListener('done',q.go.bind(q));}


if(this.$SerialAnimations_animations.length){
var r=this.emit.bind(this,'go');
this.$SerialAnimations_animations[0].addListener('go',r);
var s=this.emit.bind(this,'done');
this.$SerialAnimations_animations.slice(-1)[0].addListener('done',s);}}

l.prototype.

go=function(){'use strict';
j(this.__fired__);
this.__fired__=true;
this.$SerialAnimations_animations.length&&this.$SerialAnimations_animations[0].go();
this.emit('go');
return this;};
l.prototype.

stop=function(){'use strict';
for(var n=0,o=this.$SerialAnimations_animations.length;n<o;n++)
this.$SerialAnimations_animations[n].stop.apply(this.$SerialAnimations_animations[n],arguments);

return this;};
l.prototype.

duration=function(){'use strict';
for(var n=0,o=this.$SerialAnimations_animations.length;n<o;n++)
this.$SerialAnimations_animations[n].duration.apply(this.$SerialAnimations_animations[n],arguments);

return this;};




function m(n){'use strict';
this.$ParallelAnimations_animations=n||[];
this.$ParallelAnimations_finished=0;
for(var o=0;o<n.length;o++)
n[o].addListener('done',this.$ParallelAnimations_onAnimationDone.bind(this));}

m.prototype.

$ParallelAnimations_onAnimationDone=function(){'use strict';

if(++this.$ParallelAnimations_finished===this.$ParallelAnimations_animations.length)
this.emit('done');};

m.prototype.

go=function(){'use strict';
j(this.__fired__);
this.__fired__=true;
for(var n=0;n<this.$ParallelAnimations_animations.length;n++)
this.$ParallelAnimations_animations[n].go();

this.emit('go');
return this;};
m.prototype.

stop=function(){'use strict';
for(var n=0,o=this.$ParallelAnimations_animations.length;n<o;n++)
this.$ParallelAnimations_animations[n].stop.apply(this.$ParallelAnimations_animations[n],arguments);

return this;};
m.prototype.

duration=function(){'use strict';
for(var n=0,o=this.$ParallelAnimations_animations.length;n<o;n++)
this.$ParallelAnimations_animations[n].duration.apply(this.$ParallelAnimations_animations[n],arguments);

return this;};



c('mixInEventEmitter')(k,i);
c('mixInEventEmitter')(l,i);
c('mixInEventEmitter')(m,i);

k.Serial=l;
k.Parallel=m;

f.exports=k;}),null);

/** js/components/core/XUI/Carousel/XUICarouselAnimator.js */





__d('XUICarouselAnimator',['cx','StepperAnimation','Ease','Style','Locale'],(function a(b,c,d,e,f,g,h){

'use strict';








var i=0,
j=1,
k=['vertical','horizontal','showcase'];












function l(m){
var n=m.type,o=m.centered,p=m.firstAndLastAligned;
n=n===undefined?'horizontal':n;





var q=this.$XUICarouselAnimator_isShowcase=n==='showcase',
r=this.$XUICarouselAnimator_isHorizontal=n==='horizontal',
s=this.$XUICarouselAnimator_isVertical=n==='vertical';
this.$XUICarouselAnimator_isCentered=!!o;
this.$XUICarouselAnimator_isFirstAndLastAligned=!!p;
this.$XUICarouselAnimator_rootCSS=
(q?"_9bn":'')+
(s?' '+"_9bo":'')+
(r?' '+"_9bp":'');}

l.prototype.


update=function(m){
if(this.$XUICarouselAnimator_isShowcase){
this.$XUICarouselAnimator_setShowcase(m);}else 

this.$XUICarouselAnimator_setCarouselContainerOffset(m);};

l.prototype.

createAnimation=function(m){
var n=m.nextIndex,o=m.items;
if(n>=0&&n<o.length)
if(this.$XUICarouselAnimator_isShowcase){
return this.$XUICarouselAnimator_animateShowcaseTo(m);}else 

return this.$XUICarouselAnimator_animateCarouselTo(m);};




l.prototype.

getCSSClassForRoot=function(){
return this.$XUICarouselAnimator_rootCSS;};
l.prototype.

getViewportHeight=function(m){
return this.$XUICarouselAnimator_getItemsMaxHeight(m);};
l.prototype.

getViewportWidth=function(m){
return this.$XUICarouselAnimator_getItemsMaxWidth(m);};
l.prototype.

getContainerHeight=function(m){
return this.$XUICarouselAnimator_isVertical?
this.$XUICarouselAnimator_getItemsTotalHeight(m):
this.$XUICarouselAnimator_getItemsMaxHeight(m);};
l.prototype.

getContainerWidth=function(m){
return this.$XUICarouselAnimator_isHorizontal?
this.$XUICarouselAnimator_getItemsTotalWidth(m):
this.$XUICarouselAnimator_getItemsMaxWidth(m);};
l.prototype.

needsNextArrow=function(m,n){
var o=m.viewport,p=m.container;
if(!p||!o)
return true;

if(this.$XUICarouselAnimator_isShowcase)
return n!==m.items.length-1;

var q=this.$XUICarouselAnimator_getCarouselContainerOffset(m,n),
r=void 0,
s=void 0;
if(this.$XUICarouselAnimator_isHorizontal){
r=p.offsetWidth;
s=o.offsetWidth;}else{

r=p.offsetHeight;
s=o.offsetHeight;}

return r+q>s;};
l.prototype.

remove=function(m){
if(this.$XUICarouselAnimator_isShowcase){
this.$XUICarouselAnimator_removeShowcase(m);}else 

this.$XUICarouselAnimator_removeCarousel(m);};

l.prototype.

$XUICarouselAnimator_removeShowcase=function(m){
var n=m.items;
for(var o=0,p=n.length;o<p;o++){
var q=n[o];
c('Style').set(q,'opacity',1);
c('Style').set(q,'left','auto');
c('Style').set(q,'top','auto');
c('Style').set(q,'position','static');}};

l.prototype.

$XUICarouselAnimator_removeCarousel=function(m){
var n=this.$XUICarouselAnimator_isHorizontal?'margin-left':'margin-top';
c('Style').set(m.container,n,0);};
l.prototype.

$XUICarouselAnimator_setShowcase=function(m){
var n=m.items,o=m.index;
this.$XUICarouselAnimator_setShowcaseInternal(m,n,o);};
l.prototype.

$XUICarouselAnimator_setShowcaseInternal=function(m,n,o){
c('Style').set(m.container,'marginTop',0);
c('Style').set(m.container,'marginLeft',0);
for(var p=0,q=n.length;p<q;p++){
var r=n[p];
c('Style').set(r,'opacity',p===o?1:0);
c('Style').set(r,'position','absolute');
this.$XUICarouselAnimator_centerOrUncenterShowcaseItem(m,r);}};

l.prototype.

$XUICarouselAnimator_setCarouselContainerOffset=function(m){
var n=m.index,o=m.container;
this.$XUICarouselAnimator_setCarouselContainerOffsetInternal(m,n,o);};
l.prototype.

$XUICarouselAnimator_setCarouselContainerOffsetInternal=function(m,n,o){
var p=this.$XUICarouselAnimator_isHorizontal?'margin-left':'margin-top',
q=this.$XUICarouselAnimator_getCarouselContainerOffset(m,n);
c('Style').set(o,p,q+'px');};
l.prototype.

$XUICarouselAnimator_getCarouselContainerOffset=function(m,n){
var o=this.$XUICarouselAnimator_getDimension(),
p=this.$XUICarouselAnimator_getMaxOverflowForAlignment(m,o),
q=this.$XUICarouselAnimator_getContainerOffsetForItem(m,n),
r=this.$XUICarouselAnimator_getCarouselItemCenterOff(m,n);

return -Math.min(p,q-r);};
l.prototype.

$XUICarouselAnimator_getContainerOffsetForItem=function(m,n){
var o=m.items,
p=o[n],
q=0;
if(p){
var r=void 0,
s=void 0;
if(this.$XUICarouselAnimator_isHorizontal){
r='marginLeft';
s=this.$XUICarouselAnimator_getItemOuterWidth;}else{

r='marginTop';
s=this.$XUICarouselAnimator_getItemOuterHeight;}

for(var t=0;t<n;t++)
q+=s.call(this,o[t]);

q+=parseInt(c('Style').get(p,r),10);}

return q;};
l.prototype.

$XUICarouselAnimator_animateShowcaseTo=function(m){
var n=m.nextIndex,o=m.items,p=m.curIndex,
q=o[p],
r=o[n],
s=c('Style').get(q,'opacity'),
t=null;
if(m.animate){
t=new (c('StepperAnimation').Parallel)
([new (c('StepperAnimation'))(q).
from('opacity',s).
to('opacity',0).
ease(c('Ease').sineInOut),
new (c('StepperAnimation'))(r).
from('opacity',0).
to('opacity',1).
ease(c('Ease').sineInOut)]);}else 


this.$XUICarouselAnimator_setShowcaseInternal(m,o,n);


return t;};
l.prototype.

$XUICarouselAnimator_centerOrUncenterShowcaseItem=function(m,n){
if(this.$XUICarouselAnimator_isCentered){
var o=m.viewport,
p=o.offsetWidth,
q=o.offsetHeight,
r=this.$XUICarouselAnimator_getItemOuterDim(n,i),
s=this.$XUICarouselAnimator_getItemOuterDim(n,j);
c('Style').set(n,'left',(p-r)/2+'px');
c('Style').set(n,'top',(q-s)/2+'px');}else{

c('Style').set(n,'left',0);
c('Style').set(n,'top','auto');}};

l.prototype.

$XUICarouselAnimator_animateCarouselTo=function(m){
var n=m.container,o=m.nextIndex,
p=void 0;
if(this.$XUICarouselAnimator_isHorizontal){
p=c('Locale').isRTL()?'margin-right':'margin-left';}else 

p='margin-top';

var q=this.$XUICarouselAnimator_getCarouselContainerOffset(m,o),
r=new (c('StepperAnimation'))(n);
if(m.animate){
r.
from(p,c('Style').get(n,p)).
to(p,q+'px').
ease(c('Ease').sineInOut);}else 

this.$XUICarouselAnimator_setCarouselContainerOffsetInternal(m,o,n);

return r;};
l.prototype.

$XUICarouselAnimator_getCarouselItemCenterOff=function(m,n){
var o=m.viewport,p=m.items,
q=p[n];

if(this.$XUICarouselAnimator_isFirstAndLastAligned)
if(n===0||n===m.items.length-1)
return 0;



if(this.$XUICarouselAnimator_isCentered){
if(this.$XUICarouselAnimator_isHorizontal)
return (o.offsetWidth-q.offsetWidth)/2;

if(this.$XUICarouselAnimator_isVertical)
return (o.offsetHeight-q.offsetHeight)/2;}


return 0;};
l.prototype.

$XUICarouselAnimator_getItemsMaxHeight=function(m){
return this.$XUICarouselAnimator_getItemsMaxDimension(m,j);};
l.prototype.

$XUICarouselAnimator_getItemsMaxWidth=function(m){
return this.$XUICarouselAnimator_getItemsMaxDimension(m,i);};
l.prototype.

$XUICarouselAnimator_getItemsMaxDimension=function(m,n){
return Math.max.apply(null,this.$XUICarouselAnimator_getAllItemDimensions(m,n));};
l.prototype.

$XUICarouselAnimator_getItemOuterHeight=function(m){
return this.$XUICarouselAnimator_getItemOuterDim(m,j);};
l.prototype.

$XUICarouselAnimator_getItemOuterWidth=function(m){
return this.$XUICarouselAnimator_getItemOuterDim(m,i);};
l.prototype.

$XUICarouselAnimator_getItemOuterDim=function(m,n){
var o=void 0,
p=void 0,
q=void 0,
r=m.style.position;
c('Style').set(m,'position','static');
if(n===i){
o='offsetWidth';
p='marginLeft';
q='marginRight';}else{

o='offsetHeight';
p='marginTop';
q='marginBottom';}

p=parseInt(c('Style').get(m,p),10);
q=parseInt(c('Style').get(m,q),10);
var s=m[o]+p+q;
c('Style').set(m,'position',r);
return s;};
l.prototype.

$XUICarouselAnimator_getItemsTotalHeight=function(m){
return this.$XUICarouselAnimator_getItemsTotalDimension(m,j);};
l.prototype.

$XUICarouselAnimator_getItemsTotalWidth=function(m){
return this.$XUICarouselAnimator_getItemsTotalDimension(m,i);};
l.prototype.

$XUICarouselAnimator_getAllItemDimensions=function(m,n){
return m.items.map(function(o){return this.$XUICarouselAnimator_getItemOuterDim(o,n);}.bind(this));};
l.prototype.

$XUICarouselAnimator_getItemsTotalDimension=function(m,n){
var o=this.$XUICarouselAnimator_getAllItemDimensions(m,n);
return o.reduce(function(p,q){return p+q;},0);};
l.prototype.

$XUICarouselAnimator_getMaxOverflowForAlignment=function(m,n){
if(!this.$XUICarouselAnimator_isFirstAndLastAligned)
return Infinity;


var o=m.viewport,
p=this.$XUICarouselAnimator_getItemsTotalDimension(m,n),

q=n===i?
o.offsetWidth:
o.offsetHeight;

return p-q;};
l.prototype.

$XUICarouselAnimator_getDimension=function(){
return this.$XUICarouselAnimator_isHorizontal?i:j;};



f.exports=l;}),null);

/** js/components/core/XUI/Carousel/XUICarousel.react.js */





__d('XUICarousel.react',['cx','fbt','ArbiterMixin','React','ReactDOM','ReactComponentWithPureRenderMixin','XUICarouselAnimator','joinClasses'],(function a(b,c,d,e,f,g,h,i){

'use strict';











var j=c('React').PropTypes,

k=
'`arrows` must be an array of [<prevArrow/>, <nextArrow/>] or null',

l='prev',
m='next',

n=c('React').createClass({displayName:'XUICarousel',
mixins:[c('ArbiterMixin'),c('ReactComponentWithPureRenderMixin')],

propTypes:







{arrows:function p(q,r){

var p=q[r];
if(p){
if(!Array.isArray(p)||p.length!==2)
return new Error(k);

var s=p[0],t=p[1];
if(!c('React').isValidElement(s)||
!c('React').isValidElement(t))
return new Error(k);}},




animator:j.shape




({createAnimation:j.func.isRequired,






getCSSClassForRoot:j.func.isRequired,



getViewportWidth:j.func.isRequired,



getViewportHeight:j.func.isRequired,






getContainerWidth:j.func.isRequired,






getContainerHeight:j.func.isRequired,





update:j.func.isRequired,




remove:j.func.isRequired}).
isRequired,



initialIndex:j.number,



moveStep:j.number,




animationDuration:j.number,
initialAutoplay:j.bool,






wrapAround:j.bool,
autoplayDirection:j.oneOf(['forward','backward']),




stopAutoplayOnHover:j.bool,




autoplayInterval:j.number,










resizeViewport:j.oneOf(['disabled','fixed','dynamic']),
viewportWidth:j.number,
viewportHeight:j.number,






onItemClick:j.func,




resetInitialIndex:j.bool},


getDefaultProps:function p(){

return {animator:
new (c('XUICarouselAnimator'))
({type:'horizontal',
centered:true,
firstAndLastAligned:false}),

initialIndex:0,
moveStep:1,
animationDuration:200,
initialAutoplay:true,
autoplayInterval:5000,
autoplayDirection:'forward',
stopAutoplayOnHover:true,
resizeViewport:'fixed',
wrapAround:true,
resetInitialIndex:false};},



getInitialState:function p(){

return {index:this.props.initialIndex,
autoplay:this.props.initialAutoplay,
containerWidth:0,
animatorClassForRoot:this.props.animator.getCSSClassForRoot(),
containerHeight:0,
viewportWidth:'auto',
viewportHeight:'auto'};},



getItemCount:function p(){
return c('React').Children.count(this.props.children);},


_getItems:function p(){
var q=this.getItemCount(),
r=[];
for(var s=0;s<q;s++)
if(this.refs.itemsContainer&&this.refs.itemsContainer.childNodes[s])
r[s]=this.refs.itemsContainer.childNodes[s];


return r;},


_getContextForAnimator:function p(){
var q=this._getItems().map(function(r){return c('ReactDOM').findDOMNode(r);});
if(this.props.resetInitialIndex&&this.state.index>q.length-1)
this.setIndex(0);


return {container:c('ReactDOM').findDOMNode(this.refs.itemsContainer),
items:q,
viewport:c('ReactDOM').findDOMNode(this.refs.viewport)};},



componentDidMount:function p(){


var q=this.props.animator,
r=this._getContextForAnimator();
this.setState
({containerWidth:q.getContainerWidth(r),
containerHeight:q.getContainerHeight(babelHelpers['extends']({},
r,{index:this.state.index})),

viewportWidth:q.getViewportWidth(r),
viewportHeight:q.getViewportHeight(babelHelpers['extends']({},
r,{index:this.state.index}))});


q.update(babelHelpers['extends']({},
r,
{index:this.state.index}));

if(this.state.autoplay)
this._autoplay();},



componentWillMount:function p(){
this._isHovering=false;
this._autoplayInterval=null;
this._animation=null;},


componentWillUnmount:function p(){
this._stopCurrentAnimation();
this._stopAutoplay();},


componentWillUpdate:function p(q,r){
var s=o(this.props,q),
t=o(this.state,r),

u=this._getContextForAnimator();
if(q.children.length<r.index)

this.setState({index:0});

var v=q.animator;
if(s.animator){
this._stopCurrentAnimation();
this.props.animator.remove(u);}

var w=void 0,
x=this.state.index;
if(this._prevReactItems){
var y=
c('React').Children.map(q.children,function(z){return z.props.childIndex;});
x=
Math.max
(y.indexOf(this._prevReactItems[this.state.index]),
0);}


if(this.state.index!==x)
this._nextIndex=x;

if(t.index){
this.inform('animation_start',r.index);




if(this._animation)
this._animation.stop();

w=v.createAnimation(babelHelpers['extends']({},
u,
{nextIndex:r.index,
curIndex:x,
animate:!this._nextIndex}));

this._animation=w;
w.duration(q.animationDuration);
w.addListener
('done',
this._onAnimationDone.bind(this,r.index));

w.go();}

if(t.autoplay||s.autoplayInterval||
s.autoplayDirection){

this._stopAutoplay();
if(r.autoplay&&
(!this._isHovering||!q.stopAutoplayOnHover))
this._autoplay();}


this._prevReactItems=
c('React').Children.map(this.props.children,function(z){return z.props.childIndex;});},


componentDidUpdate:function p(q,r){
var s=this.props.animator,
t=this._getContextForAnimator(),
u=false,
v=false,
w=false,
x=this._prevItems,
y=this._getItems(),
z=!x||x.length!==y.length||
!x.every(function(aa,ba){return aa===y[ba];});

if(this._nextIndex){
this.setState({index:this._nextIndex});
this._nextIndex=null;}

if(z){
w=true;
u=true;
v=this.props.resizeViewport==='dynamic';
this.inform('item_count_updated',this.getItemCount());}

if(s!==q.animator){
this.setState
({animatorClassForRoot:s.getCSSClassForRoot()});

u=true;
w=true;}

if(q.resizeViewport!==this.props.resizeViewport){
v=q.resizeViewport==='disabled'||
this.props.resizeViewport==='dynamic';
u=true;}

if(w)
this.setState
({containerWidth:s.getContainerWidth(t),
containerHeight:s.getContainerHeight(babelHelpers['extends']({},
t,{index:this.state.index}))});



if(v)
this.setState
({viewportWidth:s.getViewportWidth(t),
viewportHeight:s.getViewportHeight(babelHelpers['extends']({},
t,{index:this.state.index}))});



if(u)
s.update(babelHelpers['extends']({},t,{index:this.state.index}));},



setAutoplayEnabled:function p(q){
this.setState({autoplay:q});},


_autoplay:function p(){
if(!this._autoplayInterval){
var q=
this.props.autoplayDirection==='forward'?this.next:this.prev;
this._autoplayInterval=
setInterval(q,this.props.autoplayInterval);}},



_stopAutoplay:function p(){
clearInterval(this._autoplayInterval);
this._autoplayInterval=null;},


_stopCurrentAnimation:function p(){
if(this._animation){
this._animation.stop();
this._animation=null;}},



_onAnimationDone:function p(q){
this._animation=null;
this.inform('animationEnd',q);},


_onMouseEnter:function p(){
this._isHovering=true;
if(this.props.stopAutoplayOnHover)
this._stopAutoplay();},



_onMouseLeave:function p(){
this._isHovering=false;
if(this.state.autoplay)
this._autoplay();},







setIndex:function p(q){
if(q>=0&&q<this.props.children.length){
this.setState({index:q});
this._stopAutoplay();
if(this.state.autoplay)
this._autoplay();

return true;}



return false;},


next:function p(){
var q=this.state.index,
r=this.getItemCount(),
s=r-1;
if((q!==s||q===s&&this.props.wrapAround)&&
r){
var p=q===s?0:
Math.min(s,q+this.props.moveStep);

this.setIndex(p);}},



prev:function p(){
var q=this.state.index,
r=this.getItemCount();
if(q!==0||q===0&&this.props.wrapAround){
var p=q===0?r-1:
Math.max(q-this.props.moveStep,0);

this.setIndex(p);}},



_renderChildren:function p(){
return c('React').Children.map
(this.props.children,
function(q,r){
return (c('React').cloneElement
(q,

{ref:q.props.childIndex,
index:r,
onClick:function(){
if(this.props.onItemClick){
this.props.onItemClick(r);}else 

this.setIndex(r);}.

bind(this),
selected:r===this.state.index}));}.bind(this));},





_shouldRenderNextArrow:function p(){var q=
this.props,r=q.wrapAround,s=q.animator;
if(r||this.props.children.length-1!==this.state.index)
return true;


var t=this._getContextForAnimator();
return s.needsNextArrow(t,this.state.index);},


_renderArrows:function p(){
if(this.props.arrows){var q=
this.props.arrows,r=q[0],s=q[1];
r=c('React').cloneElement(r,
{key:l,
onClick:
r.props.onClick?r.props.onClick:this.prev,
disabled:!this.props.wrapAround&&this.state.index===0,
className:c('joinClasses')
("_50z1",
r.props.className),

"aria-label":i._(["Previous","bd6ab6f5d9d152c5451b6566f7d0873b"])});


s=c('React').cloneElement(s,
{key:m,
onClick:
s.props.onClick?s.props.onClick:this.next,
disabled:!this._shouldRenderNextArrow(),
className:c('joinClasses')
("_50z2",
s.props.className),

"aria-label":i._(["Next","8737bf3e1eb7572cd768585ffb195125"])});

return [r,s];}

return null;},


render:function p(){var q=
this.props,r=q.className,s=q.viewportWidth,t=q.viewportHeight,u=q.resizeViewport;

r=c('joinClasses')(r,this.state.animatorClassForRoot,"_50z3"+


(this.state.animating?' '+"_50zi":''));














var v={height:t,width:s};
if(u!=='disabled'){
v.width=s||this.state.viewportWidth;
v.height=t||this.state.viewportHeight;}



return (c('React').createElement('div',{className:r},
c('React').createElement('div',{className:"_50zm",
ref:'viewport',
onMouseEnter:this._onMouseEnter,
onMouseLeave:this._onMouseLeave,
style:babelHelpers['extends']({},v)},
c('React').createElement('div',{style:
{width:this.state.viewportWidth||'auto',
height:this.state.viewportHeight||'auto'}},

c('React').createElement('div',
{className:"_50zn clearfix",
style:
{width:this.state.containerWidth||'auto',
height:this.state.containerHeight||'auto'},

ref:'itemsContainer'},
this._renderChildren())),


this._renderArrows())));}});











function o(p,q){
var r={};
for(var s in p)
if(Object.prototype.hasOwnProperty.call(p,s))
r[s]=p[s]!==q[s];


for(var t in q)
if(Object.prototype.hasOwnProperty.call(q,t)&&!Object.prototype.hasOwnProperty.call(r,t))
r[t]=p[t]!==q[t];


return r;}


f.exports=n;}),null);

/** js/components/core/XUI/Carousel/XUICarouselArrow.react.js */






__d('XUICarouselArrow.react',['cx','Link.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j,







k=c('React').PropTypes;i=babelHelpers.inherits

(l,c('React').Component);j=i&&i.prototype;l.prototype.










render=function(){var m=

this.props,n=m.children,o=m.className,p=m.disabled,q=m.onClick;
o=c('joinClasses')(o,"_-op"+

(p?' '+"_-oq":''));


return (c('React').createElement(c('Link.react'),{className:o,onClick:q},
n));};


function l(){i.apply(this,arguments);}l.propTypes={onClick:k.func,disabled:k.bool};


f.exports=l;}),null);

/** js/components/core/XUI/Carousel/XUICarouselItem.react.js */





__d('XUICarouselItem.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j,






k=c('React').PropTypes;i=babelHelpers.inherits

(l,c('React').Component);j=i&&i.prototype;l.prototype.







render=function(){var m=
this.props,n=m.children,o=m.className,p=m.selected,q=babelHelpers.objectWithoutProperties(m,['children','className','selected']);
o=c('joinClasses')(o,"_3el6"+

(p?' '+"_3el7":''));


return (c('React').createElement('div',{className:"_3el8 clearfix"},
c('React').createElement('div',babelHelpers['extends']({},q,{className:o}),
n)));};



function l(){i.apply(this,arguments);}l.propTypes={selected:k.bool};


f.exports=l;}),null);

/** shared/core/Clipboard.js */





__d('Clipboard',['UserAgent'],(function a(b,c,d,e,f,g){



var h=
{isSupported:function i(){

return (document.queryCommandSupported instanceof Function&&
document.queryCommandSupported('copy')&&

!c('UserAgent').isBrowser('Firefox < 41')||

c('UserAgent').isBrowser('Chrome >= 43'));},



copy:function i(j,k){



k=k||document.body;

var l=true,
m=document.createElement('textarea');




k.appendChild(m);
m.value=j;
m.select();

try{l=document.execCommand('copy');}catch(
n){
l=false;}




k.removeChild(m);

return l;}};



f.exports=h;}),null);

/** js/pages/messages/PagesMessengerLinkConfirmationDialog.react.js */






__d('PagesMessengerLinkConfirmationDialog.react',['ix','cx','fbt','Image.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIGrayText.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){
'use strict';var k,l,
















m=494;k=babelHelpers.inherits







(n,
c('React').Component);l=k&&k.prototype;n.prototype.

render=function(){

return (c('React').createElement(c('XUIDialog.react'),
{shown:this.props.shown,
onToggle:function(o){return !o&&this.props.onDismiss;}.bind(this),
width:m},
c('React').createElement(c('XUIDialogBody.react'),
{className:"_3-95 _3pa-"},

c('React').createElement(c('Image.react'),
{className:"_3-97 _3-8x",

src:'/images/pages/linkshare/checkmark.png'}),

c('React').createElement(c('XUIText.react'),{size:'large',display:'block'},j._(["The Messenger Link was copied.","fc3840fbd98f0f500e40177f180361dd"])),




c('React').createElement(c('XUIText.react'),
{className:"_3-8y",
display:'block',
size:'medium'},j._(["The Messenger Link was copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page.","04bb431684e77e80edbfeb4ab3357a14"]))),







c('React').createElement(c('XUIDialogFooter.react'),
{className:"_3pa_",

fullbleedborder:'true',
leftContent:
c('React').createElement('div',null,
c('React').createElement(c('Image.react'),
{className:"_1-vn _3-8_",

src:h("126379")}),





c('React').createElement(c('XUIGrayText.react'),null,
this.props.url))},



c('React').createElement(c('XUIDialogButton.react'),
{use:'confirm',
label:j._(["Done","69433a8f53266939415398ad28d25b86"]),




onClick:this.props.onDismiss}))));};




function n(){k.apply(this,arguments);}


f.exports=n;}),null);

/** www/__virtual__/x/XPagesOnlineIndicatorAsyncController.js */



__d("XPagesOnlineIndicatorAsyncController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/pages\/messaging\/show_online_indicator\/",{page_id:{type:"FBID",required:true}});}),

null);

/** js/pages/messages/PagesMessageButton.react.js */






__d('PagesMessageButton.react',['cx','fbt','ix','AsyncRequest','ChatOpenTabEventLogger','Clipboard','ContextualDialogArrow','ContextualLayerUpdateOnScroll','FantaTabActions','Image.react','InlineBlock.react','MenuSeparator.react','MercuryIDs','MessagingSourceEnum','PagesEventObserver','PagesEventType','PagesMessengerLinkConfirmationDialog.react','PopoverMenu.react','PopoverMenuShowOnHover','React','XBasicFBNuxDismissController','XPagesOnlineIndicatorAsyncController','XUIAmbientNUX.react','XUIButton.react','ReactXUIMenu','XUIPopoverButton.react','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){
'use strict';var k,l,



























m=c('ReactXUIMenu').Item,








n=3997,
o=j("125460");k=babelHelpers.inherits



















(p,c('React').Component);l=k&&k.prototype;


function p(q){
l.constructor.call(this,q);this.












































































































$PagesMessageButton_onButtonClick=function(event){
var r=this.props.pageID,
s=c('MercuryIDs').getThreadIDFromUserID(r);
c('FantaTabActions').openTab(s);
c('ChatOpenTabEventLogger').logPage
(this.props.settings.ref,
r);}.

bind(this);this.




































$PagesMessageButton_onShareLinkClick=function(event){
var r=this.props.settings.adminSettings&&
this.props.settings.adminSettings.messengerLinkURI;
if(!r)
return;


c('Clipboard').copy(r);
this.setState({linkDialogShown:true});
c('PagesEventObserver').notify
(c('PagesEventType').SHARED_MESSAGE_LINK_COPY,
this.props.pageID,

{source:c('MessagingSourceEnum').PAGES_MESSAGE_SHORTLINK});}.


bind(this);this.

$PagesMessageButton_onLinkDialogDismiss=function(){
this.setState({linkDialogShown:false});}.
bind(this);this.












































$PagesMessageButton_onNUXDismiss=function(){
this.setState({nuxDismissed:true});}.
bind(this);this.




























$PagesMessageButton_onMessengerLinkNUXDismiss=function(){
this.setState({messengerLinkNUXDismissed:true});
var r=c('XBasicFBNuxDismissController').
getURIBuilder().
setInt('nux_id',n).
getURI();
new (c('AsyncRequest'))().setURI(r).send();}.
bind(this);this.state={isOnline:false,linkDialogShown:false,messengerLinkNUXDismissed:false,nuxDismissed:false};}p.prototype.componentWillMount=function(){var q=c('XPagesOnlineIndicatorAsyncController').getURIBuilder().setFBID('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))().setURI(q).setHandler(function(r){var s=r.payload;this.setState({isOnline:s.showOnlneIndicator});}.bind(this)).send();};p.getButtonSize=function(q){return c('XUIButton.react').getButtonSize(q);};p.prototype.componentDidMount=function(){c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_BUTTON_RENDER,this.props.pageID,{source:'refresh',logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref});};p.prototype.render=function(){if(!this.props.settings.isLoggedIn)return null;var q=this.props.settings.adminSettings?c('React').createElement(c('XUIPopoverButton.react'),{className:this.props.className,image:c('React').createElement(c('Image.react'),{src:o}),label:i._(["Message","604b0e1eae150a4906dc6aea68132714"]),onClick:this.$PagesMessageButton_onButtonClick,ref:'messageButton',size:this.props.size,'data-testid':'page-message-button'}):c('React').createElement(c('XUIButton.react'),{className:this.props.className,image:c('React').createElement(c('Image.react'),{src:this.props.className?null:o}),imageRight:this.$PagesMessageButton_renderImageRight(),label:this.props.className?i._(["Send Message","477c4d80b73f19713f10c2bc4ced1be1"]):i._(["Message","604b0e1eae150a4906dc6aea68132714"]),onClick:this.$PagesMessageButton_onButtonClick,ref:'messageButton',size:this.props.size,'data-testid':'page-message-button'});if(this.props.settings.adminSettings)q=c('React').createElement(c('PopoverMenu.react'),{className:c('joinClasses')(this.props.className,"_3u42"),alignh:'right',menu:this.$PagesMessageButton_getAdminMenu(),behaviors:[c('PopoverMenuShowOnHover')],layerBehaviors:[c('ContextualDialogArrow')]},q,this.$PagesMessageButton_getLinkDialog());return c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_3u43"},q,this.$PagesMessageButton_getNUX());};p.prototype.$PagesMessageButton_renderImageRight=function(){if(!this.state.isOnline)return null;return c('React').createElement('span',{className:"_ljx"},c('React').createElement(c('Image.react'),{src:j("287445")}));};p.prototype.$PagesMessageButton_getAdminMenu=function(){if(!this.props.settings.adminSettings)return null;var q=null;if(this.props.settings.adminSettings.messengerLinkURI)q=c('React').createElement(m,{onclick:this.$PagesMessageButton_onShareLinkClick},i._(["Copy Messenger Link","af11062848c678cdac8a61bf3681a119"]));return c('React').createElement(c('ReactXUIMenu'),null,c('React').createElement(m,{href:this.props.settings.adminSettings.inboxURI},i._(["View Messages","bccd212fd3f09c8248f28f70b5593c88"])),this.props.settings.adminSettings.messengerLinkURI?c('React').createElement(c('MenuSeparator.react'),null):null,q);};p.prototype.$PagesMessageButton_getLinkDialog=function(){var q=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!q)return null;return c('React').createElement(c('PagesMessengerLinkConfirmationDialog.react'),{onDismiss:this.$PagesMessageButton_onLinkDialogDismiss,shown:this.state.linkDialogShown,url:q});};p.prototype.$PagesMessageButton_getNUX=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$PagesMessageButton_getMessengerLinkNUX();if(!this.props.settings.showNUX)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')},contextRef:function(){return this.refs.messageButton;}.bind(this),onCloseButtonClick:this.$PagesMessageButton_onNUXDismiss,position:'below',shown:!this.state.nuxDismissed,width:'auto'},i._(["Send a message to this Page.","39a55df70803d6f3240f41fe5f63fd64"]));};p.prototype.$PagesMessageButton_getMessengerLinkNUX=function(){if(!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'right',autofocus:false,behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')},contextRef:function(){return this.refs.messageButton;}.bind(this),onCloseButtonClick:this.$PagesMessageButton_onMessengerLinkNUXDismiss,position:'below',shown:!this.state.messengerLinkNUXDismissed,width:'wide'},i._(["Now you can share a direct link that makes it easy for people to message your Page.","a9aea0494e292b5f3d61950962af0d44"]));};


f.exports=p;}),null);

/** js/pages/action_framework/PageMessageAction.react.js */





__d('PageMessageAction.react',['PagesMessageButton.react','React'],(function a(b,c,d,e,f,g){

'use strict';var h,i;h=babelHelpers.inherits




(j,c('React').Component);i=h&&h.prototype;j.prototype.

render=function(){
var k=this.props.action;

return (c('React').createElement(c('PagesMessageButton.react'),
{className:this.props.className,
icon:this.props.icon,
pageID:k.page.id,
settings:
{adminSettings:k.admin_inbox_url?

{inboxURI:k.admin_inbox_url,
messengerLinkURI:k.admin_messenger_link_url,
showMessengerLinkNUX:k.admin_show_messenger_link_nux}:

null,
isLoggedIn:true,
ref:'page_header',
showNUX:k.show_nux},

size:this.props.size}));};


function j(){h.apply(this,arguments);}


f.exports=j;}),null);

/** js/pages/action_framework/PageReportAction.react.js */





__d('PageReportAction.react',['ix','Image.react','PageActionOpenURLAsyncDialog.react','React','fbglyph'],(function a(b,c,d,e,f,g,h){

'use strict';









var i=function j(k){
return (c('React').createElement(c('PageActionOpenURLAsyncDialog.react'),babelHelpers['extends']({},
k,
{image:
c('React').createElement(c('Image.react'),
{src:h("126706")})})));};









f.exports=i;}),null);

/** js/pages/action_framework/PageSuggestEditsAction.react.js */





__d('PageSuggestEditsAction.react',['ix','Image.react','PageActionOpenURLAsyncDialog.react','React','fbglyph'],(function a(b,c,d,e,f,g,h){

'use strict';









var i=function j(k){
return (c('React').createElement(c('PageActionOpenURLAsyncDialog.react'),babelHelpers['extends']({},
k,
{image:
c('React').createElement(c('Image.react'),
{src:h("126554")})})));};









f.exports=i;}),null);

/** js/pages/video_hub/PagesVideoUnitUtils.js */





__d('PagesVideoUnitUtils',['DOMDimensions','LitestandEllipsis'],(function a(b,c,d,e,f,g){




var h=

{setTitleText:function i(j,k){
var l=c('DOMDimensions').getElementDimensions(j).height;
c('LitestandEllipsis').add(k,l);}};



f.exports=h;}),null);

/** www/__virtual__/x/XChannelToWatchAndScrollNuxController.js */



__d("XChannelToWatchAndScrollNuxController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/",{});}),

null);

/** www/__virtual__/x/XChannelToWatchAndScrollNuxDismissController.js */



__d("XChannelToWatchAndScrollNuxDismissController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/dismiss\/",{});}),

null);

/** js/video/channel_view/VideoChannelWatchAndScrollIcon.react.js */





__d('VideoChannelWatchAndScrollIcon.react',['cx','fbt','AsyncRequest','Image.react','React','XUIAmbientNUX.react','XChannelToWatchAndScrollNuxController','XChannelToWatchAndScrollNuxDismissController'],(function a(b,c,d,e,f,g,h,i){var j,k,











l=c('React').PropTypes;j=babelHelpers.inherits

(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.






state=
{nuxShown:false},this.


$VideoChannelWatchAndScrollIcon_nuxRequest=null,this.























$VideoChannelWatchAndScrollIcon_onClick=function(event){
var s=
c('XChannelToWatchAndScrollNuxDismissController').getURIBuilder().getURI(),
t=new (c('AsyncRequest'))().setURI(s);
t.send();

this.props.onClick(event);}.
bind(this),this.

renderLayers=function(){

return (c('React').createElement(c('XUIAmbientNUX.react'),
{contextRef:function(){return this.refs.icon;}.bind(this),
onCloseButtonClick:function(){return this.setState({nuxShown:false});}.bind(this),
position:'left',
shown:this.state.nuxShown,
width:'auto',
key:'wns'},i._(["You can now enter Watch and Scroll to continue browsing!","b2f8e0650b16b508ccc59fd6f0b180cb"])));}.







bind(this),o;}m.prototype.componentDidMount=function(){'use strict';var n=c('XChannelToWatchAndScrollNuxController').getURIBuilder().getURI();this.$VideoChannelWatchAndScrollIcon_nuxRequest=new (c('AsyncRequest'))().setURI(n).setHandler(function(o){if(!o)return;if(o.payload)this.setState({nuxShown:o.payload.shouldShow});}.bind(this));this.$VideoChannelWatchAndScrollIcon_nuxRequest.send();};m.prototype.componentWillUnmount=function(){'use strict';this.$VideoChannelWatchAndScrollIcon_nuxRequest&&this.$VideoChannelWatchAndScrollIcon_nuxRequest.abandon();};m.prototype.

render=function(){'use strict';

return (c('React').createElement('span',null,
c('React').createElement('a',
{href:'#',
className:"_27p2",
onClick:this.$VideoChannelWatchAndScrollIcon_onClick,
ref:'icon'},
c('React').createElement(c('Image.react'),
{alt:i._(["Enter Watch and Scroll","d857ef30eeed1131cde1f854c10ed0d2"]),








height:14,
src:'/images/video/player/embedded_controls/icons/wns.png',
width:14})),


this.renderLayers()));};


m.propTypes={onClick:l.func.isRequired};


f.exports=m;}),null);

/** js/video/video_home/VideoHomeViewportTracking.js */





__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j;



















function k
(n){


return {getDataFromConfig:function o
(p,
q){

q.log=p.log;},


getAllStories:function o(){
var p=c('DOM').scry(n.container,"._5bll");
return p.filter(function(q){return q.getAttribute('data-home-vpv');});},


getStoryID:function o(p){

var q=JSON.parse(p.getAttribute('data-home-vpv'));
return q&&q.storyID;},


getDataToLog:function o(p){

return JSON.parse(p.getAttribute('data-home-vpv'));}};}


i=babelHelpers.inherits

(l,c('ViewportTracking'));j=i&&i.prototype;l.prototype.
sendDataToLog=function(n,o){
var p={};
p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;
p[c('VideoHomeLoggerFields').SESSION_ID]=o.sessionID;
p[c('VideoHomeLoggerFields').DATA_SOURCE]=o.dataSource;
p[c('VideoHomeLoggerFields').CHANNEL_ID]=o.channelID;
p[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;
p[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=o.storyID;
p[c('VideoHomeLoggerFields').CHANNEL_POSITION]=o.channelPosition;
p[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=
o.positionInChannel;
p[c('VideoHomeLoggerFields').TRACKING_DATA]=o.trackingData;
this.log&&this.log(p);};
l.prototype.

cleanup=function(){
m.clearSingleton();
j.cleanup.call(this);};
function l(){i.apply(this,arguments);}


var m=c('viewportTrackingBuilder')
(function(n){

var o=new l
(k(n));

o.init(n);
return o;});


f.exports=m;}),null);

/** js/video/video_home/VideoHomeLogger.js */





__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],(function a(b,c,d,e,f,g){














var h=void 0,
i=void 0,
j=void 0,

k=0,

l=


{init:function m(n){
j=n.session_id;
k=Date.now();


var o=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),

n.container);

i=o;


var p=c('VideoHomeViewportTracking').factory
({log:l.log,
container:n.container,
record_delay:0});

h=p;


c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;
if(t){
t.subscribe(c('BigPipe').Events.tti,function(event,u){
var v={};
v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;
v[c('VideoHomeLoggerFields').SESSION_ID]=j;
v[c('VideoHomeLoggerFields').PERF_TIME_MS]=
Date.now()-k;
l.log(v);});

t.subscribe(c('BigPipe').Events.loaded,function(event,u){
var v={};
v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;
v[c('VideoHomeLoggerFields').SESSION_ID]=j;
v[c('VideoHomeLoggerFields').PERF_TIME_MS]=
Date.now()-k;
l.log(v);});}});




function q(){
if(j!==n.session_id)
return;


var r={};
r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;
r[c('VideoHomeLoggerFields').SESSION_ID]=j;
r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=
c('VideoHomeExitPointTypes').UNKNOWN;
l.log(r);

o.updateTimeTrackingData(true);
p.updateTimeTrackingData(true);

j=null;
i=null;
h=null;}




c('Run').onLeave(q);
c('Banzai').subscribe(c('Banzai').SHUTDOWN,q);},


updateViewportTracking:function m(){
if(i){
i.fireTimer();
i.updateTimeTrackingData(false,'scroll');}

if(h){
h.fireTimer();
h.updateTimeTrackingData(false,'scroll');}},



_pause:function m(n,o){
if(j){
var p={};
p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;
p[c('VideoHomeLoggerFields').SESSION_ID]=j;
p[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=
c('VideoHomeExitPointTypes').CHANNEL;
p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;
l.log(p);}},



_resume:function m(n,o){
if(j){
var p={};
p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;
p[c('VideoHomeLoggerFields').SESSION_ID]=j;
p[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=
c('VideoHomeExitPointTypes').CHANNEL;
p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;
l.log(p);}},



getPlayerLoggingData:function m(){
if(!j)
return {};


return {video_home_session_id:j};},



log:function m(n){
if(j&&k){
var o=Date.now()-k;

n[c('VideoHomeLoggerFields').TIME_SINCE_START]=o+.001;}

c('BanzaiLogger').log('VideoHomeLoggerConfig',n);}};




c('Arbiter').subscribe('LogEnterChannel',l._pause);
c('Arbiter').subscribe('LogExitChannel',l._resume);

f.exports=l;}),null);

/** www/__virtual__/x/XVideoHomeAsyncController.js */



__d("XVideoHomeAsyncController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/video\/home\/async\/{id}\/",{id:{type:"String",required:true},session_id:{type:"String",required:true},data_source:{type:"String",required:true},channel_position:{type:"Int",required:true},cursor:{type:"String"},count:{type:"Int",defaultValue:4}});}),

null);

/** js/video/video_home/VideoHomeCarousel.js */





__d('VideoHomeCarousel',['collectDataAttributes','AsyncRequest','DOM','VideoHomeLogger','VideoHomeEvents','VideoHomeRequestStatus','VideoHomeLoggerFields','XVideoHomeAsyncController'],(function a(b,c,d,e,f,g){










var h={},
i={};















function j
(k,
l,
m,
n,
o,
p,
q){
'use strict';
this.$VideoHomeCarousel_carousel=k;
this.$VideoHomeCarousel_sessionID=l;
this.$VideoHomeCarousel_dataSource=m;
this.$VideoHomeCarousel_channelID=n;
this.$VideoHomeCarousel_channelPosition=o;
this.$VideoHomeCarousel_hasNextPage=p;
this.$VideoHomeCarousel_cursor=q;


this.$VideoHomeCarousel_request=null;
this.$VideoHomeCarousel_retries=5;

if(!this.$VideoHomeCarousel_hasNextPage)
this.$VideoHomeCarousel_carousel.endCarousel();


this.$VideoHomeCarousel_carousel.subscribe('needsitems',this.$VideoHomeCarousel_loadMoreItems.bind(this));}
j.


register=
function(k,
l,
m,
n,
o,
p,
q,
r,
s){
'use strict';
var t=l.map(function(u){
return c('collectDataAttributes')(u.children[0],['ft']);});


h[o]=new j
(k,
m,
n,
o,
p,
q,
r);

i[o]=
{videoIDs:s,
feedTrackingData:t,
cursorInfo:
{cursor:r,
hasNextPage:q}};};


j.

getChannelInfoMap=function(){'use strict';
return i;};
j.


load=
function(k,
l,
m,
n,
o){
'use strict';
var p=l.map(function(s){
return c('collectDataAttributes')(s.children[0],['ft']);}),


q=i[k];
q.videoIDs=q.videoIDs.concat(o);
q.feedTrackingData=
q.feedTrackingData.concat(p);
q.cursorInfo.cursor=n;
q.cursorInfo.hasNextPage=m;

var r=h[k];

r.$VideoHomeCarousel_hasNextPage=m;
r.$VideoHomeCarousel_cursor=n;
r.$VideoHomeCarousel_request=null;


if(l&&l.length){
l=l.map(function(s){return c('DOM').create('li',{},s);});
r.$VideoHomeCarousel_carousel.addItems(l);}


if(!m)
r.$VideoHomeCarousel_carousel.endCarousel();};

j.prototype.

$VideoHomeCarousel_loadMoreItems=function(){'use strict';
if(!this.$VideoHomeCarousel_hasNextPage||this.$VideoHomeCarousel_request!==null)
return;

var k=this.$VideoHomeCarousel_dataSource,
l=this.$VideoHomeCarousel_channelID,
m=c('XVideoHomeAsyncController').
getURIBuilder().
setString('session_id',this.$VideoHomeCarousel_sessionID).
setString('data_source',k).
setInt('channel_position',this.$VideoHomeCarousel_channelPosition).
setString('id',l);
if(this.$VideoHomeCarousel_cursor)
m.setString('cursor',this.$VideoHomeCarousel_cursor);

var n=m.getURI(),

o=Date.now();

function p(r){
var s={};
s[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').LOAD_ITEMS;
s[c('VideoHomeLoggerFields').REQUEST_STATUS]=r;
s[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-o;
s[c('VideoHomeLoggerFields').DATA_SOURCE]=k;
s[c('VideoHomeLoggerFields').CHANNEL_ID]=l;
c('VideoHomeLogger').log(s);}


var q=new (c('AsyncRequest'))().
setURI(n).
setHandler(function(){p(c('VideoHomeRequestStatus').SUCCEEDED);}).
setAbortHandler(function(){p(c('VideoHomeRequestStatus').ABORTED);}).
setErrorHandler(function(){
p(c('VideoHomeRequestStatus').FAILED);
if(q!==this.$VideoHomeCarousel_request)
return;

if(this.$VideoHomeCarousel_retries>0){
this.$VideoHomeCarousel_request.abort();

this.$VideoHomeCarousel_request=null;
this.$VideoHomeCarousel_loadMoreItems();
this.$VideoHomeCarousel_retries--;}else 

this.$VideoHomeCarousel_carousel.endCarousel();}.

bind(this));
this.$VideoHomeCarousel_request=q;
q.send();};



f.exports=j;}),null);

/** js/video/channel_view/VideoStripThumbnailPlaceholder.react.js */





__d('VideoStripThumbnailPlaceholder.react',['cx','React','XUICarouselItem.react'],(function a(b,c,d,e,f,g,h){var i,j,






k=c('React').PropTypes;i=babelHelpers.inherits

(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.












render=function(){'use strict';
var m=this.props.thumbnailWidth,
n=this.props.thumbnailHeight,

o=
{height:n+'px',
width:m+'px'},


p="_4n83"+

(this.props.pageLead?' '+"_3ger":''),


q=
c('React').createElement('span',
{className:p,
style:o},
c('React').createElement('div',{className:"_4n84"}));




return (c('React').createElement(c('XUICarouselItem.react'),
{selected:false},
q));};


function l(){'use strict';i.apply(this,arguments);}l.propTypes={pageLead:k.bool,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired};


f.exports=l;}),null);

/** js/video/channel_view/VideoStripThumbnailCarousel.react.js */





__d('VideoStripThumbnailCarousel.react',['csx','cx','fbt','invariant','ix','CSS','DOM','DOMContainer.react','Image.react','React','VideoChannelViewVariables','VideoStripThumbnailPlaceholder.react','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,




















o=c('React').PropTypes,

p=85,
q=8,
r=60,


s=8,
t=c('VideoChannelViewVariables').thumbnailRedesign,
u=c('VideoChannelViewVariables').channelPivots,

v=t?82:0,
w=t?12:0,


x=16,
y=t?-4:16;m=babelHelpers.inherits
















(z,c('React').PureComponent);n=m&&m.prototype;






function z(aa,ba){'use strict';
n.constructor.call(this,aa,ba);

this.$VideoStripThumbnailCarousel_thumbnailWidth=0;
this.$VideoStripThumbnailCarousel_thumbnailHeight=0;
this.$VideoStripThumbnailCarousel_thumbnailsPerPage=0;
this.$VideoStripThumbnailCarousel_viewportWidth=0;

this.state={pageNumber:0};}
z.prototype.

shouldComponentUpdate=function(aa,ba){'use strict';
return c('shallowCompare')(this,aa,ba);};
z.prototype.

componentWillUpdate=function(aa,ba){'use strict';
if(!u&&this.props.index!==aa.index){
var ca=Math.floor(aa.index/this.$VideoStripThumbnailCarousel_thumbnailsPerPage);
if(ca!==ba.pageNumber)
this.setState
({pageNumber:ca});}};



z.prototype.

componentWillReceiveProps=function(aa){'use strict';
if(u&&aa.pageNumber!==this.state.pageNumber)
this.setState
({pageNumber:aa.pageNumber});};


z.prototype.

$VideoStripThumbnailCarousel_setupPageLayout=function(){'use strict';
var aa=z.calculateThumbDimensions
(this.props.dialogWidth,
this.props.extraThumbnailHeight);

this.$VideoStripThumbnailCarousel_thumbnailWidth=aa.width;
this.$VideoStripThumbnailCarousel_thumbnailHeight=aa.height;
this.$VideoStripThumbnailCarousel_thumbnailsPerPage=aa.thumbnailsPerPage;
this.$VideoStripThumbnailCarousel_viewportWidth=this.$VideoStripThumbnailCarousel_calculateViewportWidth(this.$VideoStripThumbnailCarousel_thumbnailWidth);};
z.

calculateThumbDimensions=
function(aa,
ba){
'use strict';

var ca=p+ba,


da=ca*1.7778,

ea=aa-y,
fa=Math.floor
(ea/(da+q)),

ga=
ea-fa*q,


ha=
Math.ceil(ga/(fa+.5)),

ia=ha*.5625;


return {width:ha,
height:ia,
thumbnailsPerPage:fa};};

z.

getVideoStripHeight=
function(aa,
ba){
'use strict';
var ca=z.calculateThumbDimensions
(aa,
ba);

return ca.height+s+x+v-w;};
z.prototype.

$VideoStripThumbnailCarousel_calculateViewportWidth=function(aa){'use strict';
var ba=this.props.dialogWidth;

if(!this.props.hasNext){
var ca=
this.props.thumbnails.length+
this.props.pendingPreviousThumbnails;
ba=Math.min
(ba,
ca*(aa+q));}



return ba;};
z.prototype.

$VideoStripThumbnailCarousel_renderCarouselItem=
function(aa,
ba,
ca,
da,
ea){
'use strict';
if(da===this.props.dialogWidth&&
ea===0&&
this.props.pendingPreviousThumbnails===0){
c('CSS').addClass
(aa,
t?
"_533":
"_3ger");}else 


c('CSS').removeClass
(aa,
t?
"_533":
"_3ger");



var fa=
c('DOM').find(aa,"._38a3");

c('DOM').setAttributes(aa,{style:
{width:ba+'px'}});

c('DOM').setAttributes(fa,{style:
{width:ba+'px',height:ca+'px'}});


return (c('React').createElement(c('XUICarouselItem.react'),{key:ea},
c('React').createElement(c('DOMContainer.react'),null,
aa)));};



z.prototype.

$VideoStripThumbnailCarousel_onClickPreviousArrow=function(aa){'use strict';
if(this.state.pageNumber<=0){
aa.stopPropagation();
return;}

var ba=this.state.pageNumber-1;
this.setState
({pageNumber:ba});

if(u&&this.props.updatePageNumber)
this.props.updatePageNumber(ba);

aa.stopPropagation();};
z.prototype.

$VideoStripThumbnailCarousel_onClickNextArrow=function(aa,ba){'use strict';
var ca=this.state.pageNumber+1;
if(ba)
ca=this.state.pageNumber;

this.setState
({pageNumber:ca});

if(u&&this.props.updatePageNumber)
this.props.updatePageNumber(ca);

aa.stopPropagation();};
z.prototype.

$VideoStripThumbnailCarousel_renderArrows=function(aa){'use strict';
var ba=-((r+v)/2),
ca={marginTop:ba+'px'},

da=l("101565"),
ea=l("101566");

if(t){
da=
l("101719");
ea=
l("101720");}



return [c('React').createElement('div',
{className:"_1ed1",
onClick:function(fa){return this.$VideoStripThumbnailCarousel_onClickPreviousArrow(fa);}.bind(this),
style:ca},
c('React').createElement(c('XUICarouselArrow.react'),
{disabled:this.state.pageNumber===0},
c('React').createElement(c('Image.react'),
{alt:j._(["Prev","cb082c9ea2c34e53961c5691388d6374"]),
src:da}))),



c('React').createElement('div',
{className:"_1ed1",
onClick:function(fa){return this.$VideoStripThumbnailCarousel_onClickNextArrow(fa,aa);}.bind(this),
style:ca},
c('React').createElement(c('XUICarouselArrow.react'),
{disabled:aa},
c('React').createElement(c('Image.react'),
{alt:j._(["Next","e92b5ad15e1887ecdfcfa37c5a40d80b"]),
src:ea})))];};




z.prototype.

render=function(){'use strict';
this.$VideoStripThumbnailCarousel_setupPageLayout();
var aa=new (c('XUICarouselAnimator'))({type:'horizontal'}),
ba=null,
ca=this.$VideoStripThumbnailCarousel_thumbnailsPerPage*this.state.pageNumber,
da=ca+this.$VideoStripThumbnailCarousel_thumbnailsPerPage,
ea=
Math.min(da,this.props.thumbnails.length-1);



if(this.$VideoStripThumbnailCarousel_viewportWidth===this.props.dialogWidth){
var fa=da>this.props.thumbnails.length;
ba=this.$VideoStripThumbnailCarousel_renderArrows(fa);}


var ga=this.props.thumbnails,
ha=[];
for(var ia=0;ia<this.props.pendingPreviousThumbnails;ia++)
ha.push
(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),
{pageLead:ia===0,
thumbnailWidth:this.$VideoStripThumbnailCarousel_thumbnailWidth,
thumbnailHeight:this.$VideoStripThumbnailCarousel_thumbnailHeight,
key:ia-this.props.pendingPreviousThumbnails}));




for(ia=ca;ia<=da;ia++)
if(ia<=ea){
ha.push
(this.$VideoStripThumbnailCarousel_renderCarouselItem
(ga[ia],
this.$VideoStripThumbnailCarousel_thumbnailWidth,
this.$VideoStripThumbnailCarousel_thumbnailHeight,
this.$VideoStripThumbnailCarousel_viewportWidth,
ia-ca));}else


if(this.props.hasNext)
ha.push
(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),
{thumbnailWidth:this.$VideoStripThumbnailCarousel_thumbnailWidth,
thumbnailHeight:this.$VideoStripThumbnailCarousel_thumbnailHeight,
key:ia-ca}));





if(ea<da&&this.props.hasNext){
this.props.loadNextItems();}else 

this.props.onAllItemsLoaded();


var ja=
this.$VideoStripThumbnailCarousel_thumbnailHeight+s+v;


return (c('React').createElement(c('XUICarousel.react'),
{animator:aa,
arrows:ba,
initialAutoplay:false,
initialIndex:0,
onItemClick:function ka(){return null;},
resizeViewport:'disabled',
viewportHeight:ja,
viewportWidth:this.$VideoStripThumbnailCarousel_viewportWidth,
wrapAround:this.state.pageNumber!==0},
ha));};





z.propTypes=
{dialogWidth:o.number.isRequired,
extraThumbnailHeight:o.number.isRequired,
hasNext:o.bool.isRequired,
index:o.number.isRequired,
loadNextItems:o.func.isRequired,
pendingPreviousThumbnails:o.number.isRequired,
thumbnails:o.arrayOf(o.object).isRequired,
pageNumber:o.number,
updatePageNumber:o.func};


f.exports=z;}),null);

/** js/video/channel_view/VideoChannelController.js */





__d('VideoChannelController',['ix','csx','cx','fbt','Arbiter','CSS','DOM','DOMDimensions','DialogX','Event','Image.react','LayerDestroyOnHide','LayerHideOnEscape','LayerHideOnTransition','Map','PageTransitions','PageTransitionPriorities','React','ReactDOM','StreamViewportTracking','Style','SubscriptionsHandler','URI','VideoAutoplayControllerX','VideoChainingCaller','VideoChannel','VideoChannelLogger','VideoChannelLoggerEventTargets','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelStoryFetcher','VideoChannelViewVariables','VideoChannelWatchAndScrollIcon.react','VideoHomeCarousel','VideoPlayerExperiments','VideoPlayerLoggerSource','VideoPlayerReason','VideoStripThumbnailCarousel.react','VideoWatchAndScrollController','ViewportTrackingConfig','collectDataAttributes','fbglyph','getElementPosition','getVendorPrefixedName','getViewportDimensions','throttle','StreamingReactionsTrayEvents'],(function a(b,c,d,e,f,g,h,i,j,k){





















































var l=c('VideoChannelViewVariables').dynamicAspectRatios,
m=c('VideoChannelViewVariables').channelRedesign,



n=l&&!m?
720:
560,
o=1060,


p=.1,
q=1080,
r=c('VideoChannelViewVariables').wnsFromChannel,
s=c('VideoChannelViewVariables').channelPageTransitions,


t=300,


u=48+56+44,

v=480,

w=48+48,

x=300,

y=2160,
z=3840,

aa=600,

ba=c('VideoChannelViewVariables').channelPivots;













































function ca
(da,
ea,
fa,
ga,
ha,
ia){
'use strict';
this.$VideoChannelController_storyFetcherMap=new (c('Map'))();
this.$VideoChannelController_videoChannelID=da;
this.$VideoChannelController_caller=ea;
this.$VideoChannelController_videoID=fa;
this.$VideoChannelController_onHideCallback=ia;
this.$VideoChannelController_videoPlayerControllers=[];
this.$VideoChannelController_subscriptions=new (c('SubscriptionsHandler'))();
this.$VideoChannelController_enteredChannelFromVideoElement=false;
this.$VideoChannelController_isFullscreen=false;
if(ga&&l){
var ja=ga.getVideoNode(),
ka=ga.getRootNode(),
la=ja.getAttribute('data-original-aspect-ratio');
this.$VideoChannelController_feedVideoOriginalSize=
c('DOMDimensions').getElementDimensions(ka);
if(!la)
la=this.getOriginalAspectRatio();

this.$VideoChannelController_measureScreen(parseFloat(la));
ga.setDimensions(this.$VideoChannelController_videoWidth,this.$VideoChannelController_videoHeight);}else 

this.$VideoChannelController_measureScreen();

this.$VideoChannelController_isOpen=true;
this.$VideoChannelController_fromAd=false;
this.$VideoChannelController_adClientToken=null;
this.$VideoChannelController_createDialog();
this.$VideoChannelController_cameFromWNS=!!ha&&
ha.isFromWNS;
this.$VideoChannelController_cameFromVideoViewCarousel=!!ha&&
ha.isFromVideoViewCarousel;
this.$VideoChannelController_wnsChannelInteractionsToRegister=[];
this.$VideoChannelController_wnsControllersToRegister=[];
this.$VideoChannelController_wnsChannelVideoIndex=0;
this.$VideoChannelController_enteredFromURI=c('URI').getRequestURI();
if(this.isPageTransitionEligible()){
this.$VideoChannelController_pageTransitionsHandler=
this.$VideoChannelController_onPageTransition.bind(this);
c('PageTransitions').registerHandler
(this.$VideoChannelController_pageTransitionsHandler,
c('PageTransitionPriorities').DEFAULT+5);}



this.$VideoChannelController_viewportTracking=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),

this.$VideoChannelController_dialogContent);


if(!this.$VideoChannelController_cameFromWNS)
c('VideoChannelLogger').startSession(fa,da,ea);


var ma=null;
if(ga){
this.$VideoChannelController_enteredChannelFromVideoElement=true;
this.$VideoChannelController_fromAd=ga.isAd();
this.$VideoChannelController_adClientToken=ga.getAdClientToken();
this.$VideoChannelController_initialSource=ga.getSource();
ga.updateSource(c('VideoPlayerLoggerSource').CHANNEL);
var na=ga.getRootNode();
ma=c('collectDataAttributes')(na,['ft']);

if(!l)
this.$VideoChannelController_feedVideoOriginalSize=
c('DOMDimensions').getElementDimensions(na);

var oa=c('getElementPosition')(na);

if(!this.$VideoChannelController_cameFromWNS)
this.$VideoChannelController_createFeedVideoPlaceholder(ga);


this.$VideoChannelController_animateVideo(oa,ga);

ga.emit('VideoChannelController/enterChannel',{});

c('VideoAutoplayControllerX').setShouldAutoplay(false);



ga.play(c('VideoPlayerReason').USER);
ga.unmute();

ga.addListener
('toggleFullscreen',
function(ra){
this.$VideoChannelController_isFullscreen=ra.isFullscreen();}.
bind(this,ga));

this.$VideoChannelController_videoPlayerControllers.push(ga);}else 

this.$VideoChannelController_createLoadingPlaceholder();


if(ha&&this.$VideoChannelController_cameFromWNS){
this.$VideoChannelController_wnsControllersToRegister=ha.videoPlayerControllers;
this.$VideoChannelController_wnsChannelVideoIndex=ha.channelVideoIndex;
this.$VideoChannelController_wnsChannelInteractionsToRegister=
ha.channelInteractionsToRegister;
this.$VideoChannelController_wnsRootVideoPlayerController=
ha.rootVideoPlayerController;
if(this.$VideoChannelController_wnsRootVideoPlayerController)
this.$VideoChannelController_wnsRootVideoPlayerController.updateSource
(c('VideoPlayerLoggerSource').CHANNEL);


if(this.$VideoChannelController_wnsRootVideoPlayerController)
this.$VideoChannelController_fromAd=this.$VideoChannelController_wnsRootVideoPlayerController.isAd();

if(ha.storyFetcher)
this.$VideoChannelController_storyFetcher=ha.storyFetcher;}



if(ha&&this.$VideoChannelController_cameFromVideoViewCarousel){
var pa=ha.originalVideoIds,
qa=ha.shouldFetchMoreVideos;
this.$VideoChannelController_storyFetcher=new (c('VideoChannelStoryFetcher'))
(this.$VideoChannelController_videoID,
this.$VideoChannelController_videoChannelID,
ea,
this.$VideoChannelController_adClientToken,
null,
pa,
qa);}



if(!this.$VideoChannelController_storyFetcher)
this.$VideoChannelController_storyFetcher=new (c('VideoChannelStoryFetcher'))
(this.$VideoChannelController_videoID,
this.$VideoChannelController_videoChannelID,
ea,
this.$VideoChannelController_adClientToken,
c('VideoHomeCarousel').getChannelInfoMap()[this.$VideoChannelController_videoChannelID]);



if(ba)
this.$VideoChannelController_storyFetcherMap.set(this.$VideoChannelController_videoChannelID,this.$VideoChannelController_storyFetcher);


this.$VideoChannelController_subscriptions.addSubscriptions
(c('Event').listen(window,'resize',c('throttle')(this.$VideoChannelController_onResize.bind(this),200)));


this.$VideoChannelController_storyFetcher.fetchFirstStory
(this.$VideoChannelController_enteredChannelFromVideoElement,
ma,
this.$VideoChannelController_wnsChannelVideoIndex>0);


c('Arbiter').inform
('VideoChannelView/opened',
{controller:ga});}

ca.prototype.

isPageTransitionEligible=function(){'use strict';


return (this.$VideoChannelController_caller!==c('VideoChainingCaller').LIVE_MAP&&
s);};

ca.prototype.


$VideoChannelController_onPageTransition=function(da){'use strict';


if(da.getPath()!=this.$VideoChannelController_enteredFromURI.getPath())
return false;



this.close();
c('PageTransitions').transitionComplete();
return true;};
ca.prototype.

getWnsChannelVideoIndex=function(){'use strict';
return this.$VideoChannelController_wnsChannelVideoIndex;};
ca.prototype.

getViewportTracker=function(){'use strict';
return this.$VideoChannelController_viewportTracking;};
ca.prototype.

isOpen=function(){'use strict';
return this.$VideoChannelController_isOpen;};
ca.prototype.

getOriginalAspectRatio=function(){'use strict';
return this.$VideoChannelController_feedVideoOriginalSize.width/
this.$VideoChannelController_feedVideoOriginalSize.height;};
ca.prototype.

$VideoChannelController_onResize=function(event){'use strict';
this.$VideoChannelController_measureScreen();
c('Arbiter').inform
(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,

{videoWidth:this.$VideoChannelController_videoWidth,
videoHeight:this.$VideoChannelController_videoHeight});};


ca.prototype.

$VideoChannelController_measureScreen=function(){var da=arguments.length<=0||arguments[0]===undefined?16/9:arguments[0];'use strict';
if(this.$VideoChannelController_isFullscreen)
return;

var ea=c('getViewportDimensions').withoutScrollbars();
if(!this.$VideoChannelController_viewportSize||
this.$VideoChannelController_viewportSize.width!==ea.width||
this.$VideoChannelController_viewportSize.height!==ea.height){
this.$VideoChannelController_viewportSize=ea;

this.$VideoChannelController_dialogHeight=Math.max(n,ea.height);
this.$VideoChannelController_dialogWidth=Math.max(o,ea.width);

var fa=p*
(Math.min
(q,
this.$VideoChannelController_dialogHeight)-
n);

if(this.isFromAd())
fa=0;


var ga=t+fa*2,
ha=c('VideoStripThumbnailCarousel.react').getVideoStripHeight
(this.$VideoChannelController_dialogWidth,
fa);

if(m)
ga=u+ha;



var ia=Math.min
(y,
this.$VideoChannelController_dialogHeight-ga),

ja=this.$VideoChannelController_dialogWidth-
(m?w:v)-
(this.$VideoChannelController_interaction&&this.$VideoChannelController_interaction.isInDetailsMode()&&
m?
x:
0),

ka=Math.min
(z,
ja);


this.$VideoChannelController_availableVideoWidth=ka;
this.$VideoChannelController_availableVideoHeight=ia;

if(m){
this.setVideoDimensions
(ka,
ia,
fa);}else{



var la=Math.min
(ia,
ka*(1/da)),

ma=Math.min
(ka,
ia*da);


this.setVideoDimensions
(ma,Math.floor(la),
fa);}



if(this.$VideoChannelController_interaction)
this.$VideoChannelController_interaction.onWindowResize();}};


ca.prototype.

registerVideoController=
function(da){
'use strict';
if(this.$VideoChannelController_videoPlayerControllers.includes(da))
return;

da.addListener
('toggleFullscreen',
function(){return this.$VideoChannelController_isFullscreen=da.isFullscreen();}.bind(this));

this.$VideoChannelController_videoPlayerControllers.push(da);
da.setDimensions(this.$VideoChannelController_videoWidth,this.$VideoChannelController_videoHeight);};
ca.prototype.

setVideoDimensions=
function(da,
ea,
fa){
'use strict';
this.$VideoChannelController_videoWidth=da;
this.$VideoChannelController_videoHeight=ea;
this.$VideoChannelController_extraThumbnailHeight=fa;

this.$VideoChannelController_videoPlayerControllers.forEach(function(ga){
ga.setDimensions(this.$VideoChannelController_videoWidth,this.$VideoChannelController_videoHeight);}.
bind(this));};
ca.prototype.

findVideoControllerForStory=function(da){'use strict';
return this.$VideoChannelController_videoPlayerControllers.find(function(ea){
if(da.contains(ea.getRootNode()))
return true;

return false;});};

ca.prototype.

getVideoControllers=function(){'use strict';
return this.$VideoChannelController_videoPlayerControllers;};
ca.prototype.

getAvailableHeight=function(){'use strict';
return this.$VideoChannelController_getDialogHeight()-this.$VideoChannelController_getVideoStripHeight();};
ca.prototype.

$VideoChannelController_getDialogHeight=function(){'use strict';
return this.$VideoChannelController_dialogHeight;};
ca.prototype.

$VideoChannelController_getVideoStripHeight=function(){'use strict';
if(this.isFromAd())
return 0;

return c('VideoStripThumbnailCarousel.react').getVideoStripHeight
(this.$VideoChannelController_getDialogWidth(),
this.getExtraThumbnailHeight());};

ca.prototype.

getAvailableWidth=function(){'use strict';
return this.$VideoChannelController_getDialogWidth();};
ca.prototype.

$VideoChannelController_getDialogWidth=function(){'use strict';
return this.$VideoChannelController_dialogWidth;};
ca.prototype.

getVideoHeight=function(){'use strict';
return this.$VideoChannelController_videoHeight;};
ca.prototype.

getVideoWidth=function(){'use strict';
return this.$VideoChannelController_videoWidth;};
ca.prototype.

getAvailableVideoWidth=function(){'use strict';
return this.$VideoChannelController_availableVideoWidth;};
ca.prototype.

getAvailableVideoHeight=function(){'use strict';
return this.$VideoChannelController_availableVideoHeight;};
ca.prototype.

getExtraThumbnailHeight=function(){'use strict';
return this.$VideoChannelController_extraThumbnailHeight;};
ca.prototype.

getOriginalVideoPlayerController=function(){'use strict';
if(this.$VideoChannelController_enteredChannelFromVideoElement)
return this.$VideoChannelController_videoPlayerControllers[0];

return null;};
ca.prototype.

getWNSRootVideoPlayerController=function(){'use strict';
return this.$VideoChannelController_wnsRootVideoPlayerController;};
ca.prototype.

getDialog=function(){'use strict';
return this.$VideoChannelController_dialog;};
ca.prototype.

getDialogContent=function(){'use strict';
return this.$VideoChannelController_dialogContent;};
ca.prototype.

getInteraction=function(){'use strict';
return this.$VideoChannelController_interaction;};
ca.prototype.

setInteraction=function(da){'use strict';
this.$VideoChannelController_interaction=da;};
ca.prototype.

registerWNSVideoControllers=function(){'use strict';
var da=this.$VideoChannelController_interaction;
if(!da)
return;

var ea=this.$VideoChannelController_wnsControllersToRegister;
if(ea&&ea.length){
ea.forEach(function(fa){
da.registerVideoController(fa);});

this.$VideoChannelController_wnsControllersToRegister=[];}};

ca.prototype.

registerChannelInteractionsFromWNS=function(){'use strict';
var da=this.$VideoChannelController_interaction;
if(!da)
return;


this.$VideoChannelController_wnsChannelInteractionsToRegister.forEach(function(ea){
ea();});

this.$VideoChannelController_wnsChannelInteractionsToRegister=[];};
ca.prototype.

getStoryFetcher=function(){'use strict';
return this.$VideoChannelController_storyFetcher;};
ca.prototype.

getStoryFetcherMap=function(){'use strict';
return this.$VideoChannelController_storyFetcherMap;};
ca.prototype.

isCameFromVidewViewCarousel=function(){'use strict';
return this.$VideoChannelController_cameFromVideoViewCarousel;};
ca.prototype.

fetchStoriesForChannel=
function(da,
ea,
fa){
'use strict';
var ga=this.$VideoChannelController_storyFetcherMap.get(da);
if(ga)
ga.fetchStories
(true,
ea,
fa);};


ca.prototype.

fetchStories=
function(da,
ea,
fa){
'use strict';
this.$VideoChannelController_storyFetcher.fetchStories
(da,
ea,
fa);};

ca.prototype.

hideLoadingState=function(){'use strict';
if(this.$VideoChannelController_loadingPlaceholder){
c('DOM').remove(this.$VideoChannelController_loadingPlaceholder);
this.$VideoChannelController_loadingPlaceholder=null;}

if(this.$VideoChannelController_animationWrapper){
c('DOM').remove(this.$VideoChannelController_animationWrapper);
this.$VideoChannelController_animationWrapper=null;}};

ca.prototype.

$VideoChannelController_createLoadingPlaceholder=function(){'use strict';
this.$VideoChannelController_loadingPlaceholder=c('DOM').create
('div',
{className:"_5tl5"});

c('DOM').appendContent(document.body,this.$VideoChannelController_loadingPlaceholder);

var da=(this.getAvailableHeight()-this.getVideoHeight())/2,
ea=(this.$VideoChannelController_getDialogWidth()-this.getVideoWidth())/2;
c('Style').set
(this.$VideoChannelController_loadingPlaceholder,
'height',
this.getVideoHeight()+'px');

c('Style').set
(this.$VideoChannelController_loadingPlaceholder,
'width',
this.getVideoWidth()+'px');

c('Style').set
(this.$VideoChannelController_loadingPlaceholder,
'left',
ea+'px');

c('Style').set
(this.$VideoChannelController_loadingPlaceholder,
'top',
da+'px');};

ca.prototype.

$VideoChannelController_createFeedVideoPlaceholder=
function(da){
'use strict';
var ea=da.getRootNode();

this.$VideoChannelController_feedVideoPlaceholder=c('DOM').create
('div',
{className:"_344x"});


this.$VideoChannelController_feedVideoPlaceholder.style.height=
this.$VideoChannelController_feedVideoOriginalSize.height+'px';
this.$VideoChannelController_feedVideoPlaceholder.style.width=
this.$VideoChannelController_feedVideoOriginalSize.width+'px';

c('DOM').insertAfter(ea,this.$VideoChannelController_feedVideoPlaceholder);};
ca.prototype.

$VideoChannelController_createDialog=function(){'use strict';
var da=
{fixedTopPosition:0,
width:o,
xui:true,
addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnEscape'),c('LayerHideOnTransition')]},






ea=c('DOM').create('div');

c('ReactDOM').render
(c('React').createElement('span',null,
c('React').createElement('a',
{className:"_5tl7",
href:'#'},
c('React').createElement(c('Image.react'),
{alt:k._(["Close","0e1267554375ea81b3e4b0c375ad35a2"]),
src:h("114709")}))),






ea);


var fa=new (c('DialogX'))(da,ea);
c('CSS').addClass(fa.getRoot(),"_19u-");
if(l&&!m)
c('CSS').addClass
(fa.getRoot(),
"_5p7p");



c('Style').set(fa.getContentRoot(),'width','100%');
this.$VideoChannelController_dialog=fa;
this.$VideoChannelController_dialogContent=ea;

this.$VideoChannelController_dialogSubscription=fa.subscribe
('hide',
this.$VideoChannelController_onDialogHide.bind(this));


fa.show();

var ga=c('DOM').find(ea,"._5tl7"),
ha=c('DOM').find(fa.getRoot(),"._3ixn");
this.$VideoChannelController_subscriptions.addSubscriptions
(c('Event').listen(ga,'click',this.$VideoChannelController_onCloseClick.bind(this)),
c('Event').listen(ha,'click',this.$VideoChannelController_onWashClick.bind(this)));};

ca.prototype.

$VideoChannelController_logClick=function(da){'use strict';
var ea={};
ea[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;
ea[c('VideoChannelLoggerFields').EVENT_TARGET]=da;
c('VideoChannelLogger').log(ea);};
ca.prototype.

$VideoChannelController_onWashClick=function(event){'use strict';
this.$VideoChannelController_logClick(c('VideoChannelLoggerEventTargets').WASH);

var da=this.$VideoChannelController_interaction?
this.$VideoChannelController_interaction.getCurrentAbsoluteIndex():
null,
ea=da!==null?
this.getVideoControllers()[da]:
null,



fa=
r&&
ea&&
ea.getOption
('WatchAndScroll',
'isEligible')&&

c('VideoWatchAndScrollController').hasEnoughSpaceToEnter(ea);

if(fa)
this.close(true);

this.$VideoChannelController_dialog.hide();
if(fa)
event.preventDefault();};

ca.prototype.

$VideoChannelController_onCloseClick=function(event){'use strict';
this.$VideoChannelController_logClick(c('VideoChannelLoggerEventTargets').CLOSE);
this.$VideoChannelController_dialog.hide();
event.preventDefault();};
ca.prototype.

$VideoChannelController_onWNSClick=function(event){'use strict';
this.$VideoChannelController_logClick(c('VideoChannelLoggerEventTargets').WATCH_AND_SCROLL);
this.close(true);
this.$VideoChannelController_dialog.hide();
event.preventDefault();};
ca.prototype.

$VideoChannelController_animateVideo=
function(da,
ea){
'use strict';
var fa=c('DOM').create
('div',
{className:"_3x4t"});

this.$VideoChannelController_animationWrapper=fa;
c('DOM').appendContent(this.$VideoChannelController_dialogContent,fa);
var ga=ea.getRootNode();
c('DOM').appendContent(fa,ga);






var ha=da.width,
ia=da.height;


if(l){
ha=this.getVideoWidth();
ia=this.getVideoHeight();}else{


ia*=this.getVideoWidth()/ha;
ha=this.getVideoWidth();

if(ia>this.getVideoHeight()){
ha*=this.getVideoHeight()/ia;
ia=this.getVideoHeight();}}



var ja=(this.getAvailableHeight()-this.getVideoHeight())/2,
ka=(this.$VideoChannelController_getDialogWidth()-this.getVideoWidth())/2,
la=(this.getVideoHeight()-ia)/2,
ma=(this.getVideoWidth()-ha)/2,
na=da.y-ja-la,
oa=da.x-ka-ma,
pa=da.width/ha;

c('Style').set
(fa,
c('getVendorPrefixedName')('transform'),
'translate('+oa+'px,'+na+'px) scale('+pa+')');


c('Style').set
(fa,
'left',
ka+'px');

c('Style').set
(fa,
'top',
ja+'px');


c('Style').set
(fa,
'padding',
la+'px '+ma+'px');



ea.setDimensions(ha,ia);

if(this.isFromAd()&&
ha>aa&&
!ea.isHD()&&
ea.hasHD())
ea.toggleHD();



fa.offsetWidth;

c('Style').set
(fa,
'transition',
'all .35s cubic-bezier(.46,.22,.36,1) .1s');

c('Style').set(fa,c('getVendorPrefixedName')('transform'),'none');};
ca.prototype.

$VideoChannelController_onDialogHide=function(){'use strict';
if(!this.isOpen())
return;


this.close();};
ca.prototype.

isFromAd=function(){'use strict';
return this.$VideoChannelController_fromAd;};
ca.prototype.

getAdClientToken=function(){'use strict';
return this.$VideoChannelController_adClientToken;};
ca.prototype.

getVideoChainingCaller=function(){'use strict';
return this.$VideoChannelController_caller;};
ca.prototype.

hasNext=function(){'use strict';
return this.$VideoChannelController_storyFetcher.hasNext();};
ca.prototype.

hasNextForChannel=function(da){'use strict';
var ea=
this.$VideoChannelController_storyFetcherMap.get(da);
if(ea)
return ea.hasNext();

return false;};
ca.prototype.

updateWNSEligibilityButton=function(da){'use strict';
if(!this.$VideoChannelController_dialogContent)
return;
var ea=

c('DOM').scry
(this.$VideoChannelController_dialogContent,
"._ia9"),fa=ea[0];


if(!fa)
return;


if(da){
c('ReactDOM').render
(c('React').createElement(c('VideoChannelWatchAndScrollIcon.react'),{onClick:function(ga){return this.$VideoChannelController_onWNSClick(ga);}.bind(this)}),
fa);}else 


c('ReactDOM').unmountComponentAtNode(fa);};

ca.prototype.

close=function(da){var ea,fa=this;'use strict';
if(!this.$VideoChannelController_isOpen)
return;


this.$VideoChannelController_isOpen=false;
if(this.$VideoChannelController_pageTransitionsHandler&&!c('PageTransitions').isTransitioning()){
c('PageTransitions').go(this.$VideoChannelController_enteredFromURI);
c('PageTransitions').removeHandler
(this.$VideoChannelController_pageTransitionsHandler,
c('PageTransitionPriorities').DEFAULT+5);}



this.$VideoChannelController_viewportTracking.updateTimeTrackingData(true);
this.$VideoChannelController_storyFetcher.abandonRequest();

var ga=this.$VideoChannelController_interaction;
if(da===undefined)
da=this.$VideoChannelController_cameFromWNS;


var ha=0;
if(da)
ha=ga?
ga.getCurrentAbsoluteIndex():
0;


var ia=da&&ga?
ga.getVideoController():
this.$VideoChannelController_videoPlayerControllers[ha];
if(this.$VideoChannelController_enteredChannelFromVideoElement||da){


var ja=true;


if(ia.isState('finished'))
ja=false;



if((!ga||
ga.isCenterVideoActive())&&
ia.isState('paused'))
ja=false;


if(da){(function(){var na,
oa=fa.$VideoChannelController_videoPlayerControllers;
if(ga)(function(){
var ta={};
oa.forEach(function(ua){
var va=
ga.findStoryForVideoController(ua);
if(va){
var wa=ga.getStoryIndex(va);
ta[ua.getVideoID()]=wa;}});



oa.sort(function(ua,va){
var wa=ta[ua.getVideoID()],
xa=ta[va.getVideoID()];
return wa-xa;});})
();
var pa=

fa.$VideoChannelController_storyFetcher.getPreloadedData(),qa=pa.stories,
ra=
[oa[0].getRootNode()].concat
(qa),


sa=c('VideoWatchAndScrollController').getReactContainer();
if(sa){






sa.setState
({channelVideoElements:[]},
function(){
sa.setState
({channelVideoElements:ra,
videoIndex:ha},
function(){
c('VideoWatchAndScrollController').resetFromChannelView
(this.$VideoChannelController_storyFetcher,
oa,
ha);}.

bind(this));}.
bind(fa));}else 

c('VideoWatchAndScrollController').startFromChannelView
(fa.$VideoChannelController_storyFetcher,
oa,
ha,
ra,

{dimensions:fa.$VideoChannelController_feedVideoOriginalSize,
videoRootNode:fa.$VideoChannelController_feedVideoPlaceholder?
fa.$VideoChannelController_feedVideoPlaceholder.parentNode:
null,
source:fa.$VideoChannelController_initialSource});})


();}else{


var ka=ia.getRootNode();
c('DOM').insertAfter(this.$VideoChannelController_feedVideoPlaceholder,ka);
c('DOM').remove(this.$VideoChannelController_feedVideoPlaceholder);

if(!ia.isState('fallback'))

ia.setDimensions
(this.$VideoChannelController_feedVideoOriginalSize.width,
this.$VideoChannelController_feedVideoOriginalSize.height);}






if(ja&&!da){


ia.pause(c('VideoPlayerReason').AUTOPLAY);
ia.mute();
ia.emit('resumeAutoplay');}

ia.emit('VideoChannelController/exitChannel');}else
if(!da)
ia=null;



for(var la=0;la<this.$VideoChannelController_videoPlayerControllers.length;la++){
var ma=this.$VideoChannelController_videoPlayerControllers[la];
if(ia!==ma){
ma.pause(c('VideoPlayerReason').USER);


if(!da)
ma.abortLoading();}}




this.$VideoChannelController_videoPlayerControllers.forEach(function(na){
if(da){
na.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);}else
if(this.$VideoChannelController_initialSource){
na.updateSource(this.$VideoChannelController_initialSource);}else 

na.updateSource(c('VideoPlayerLoggerSource').INLINE);}.

bind(this));

this.hideLoadingState();

if(this.$VideoChannelController_interaction)
this.$VideoChannelController_interaction.onChannelClose();


this.$VideoChannelController_dialog.hide();

this.$VideoChannelController_dialogSubscription.unsubscribe();
this.$VideoChannelController_subscriptions.release();

if(!da)
c('VideoChannelLogger').endSession();

c('Arbiter').inform('VideoChannelView/closed');

c('VideoAutoplayControllerX').setShouldAutoplay(true);

c('VideoChannel').set(null);
if(this.$VideoChannelController_onHideCallback)
this.$VideoChannelController_onHideCallback();};

ca.

openFromVideoPlayer=
function(da,
ea,
fa,
ga){
'use strict';
if(da.isState('fallback'))
return;

var ha=da.getOption
('VideoWithInstreamVideo',
'controller');

if(ha)
da=ha;


if(c('VideoChannel').get())

c('VideoChannel').get().getDialog().hide();

c('VideoChannel').set
(new ca
(ea,
fa,
da.getVideoID(),
da.isPlayerVersion('silvercity')?
null:
da,
ga));};


ca.


getVideoChannel=function(){'use strict';
return c('VideoChannel').get();};
ca.

isChannelActive=function(){'use strict';
return !!c('VideoChannel').get();};
ca.prototype.

setupStoryFetcherForChannel=function(da){'use strict';
var ea=new (c('VideoChannelStoryFetcher'))
(this.$VideoChannelController_videoID,
da,
this.$VideoChannelController_caller,
this.$VideoChannelController_adClientToken);

this.$VideoChannelController_storyFetcherMap.set(da,ea);};



f.exports=ca;}),null);
