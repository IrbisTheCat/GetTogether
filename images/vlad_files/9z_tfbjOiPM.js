if (self.CavalryLogger) { CavalryLogger.start_js(["HLYDB"]); }

/** __static_js_modules__/composerentrypointref.js */




__d("ComposerEntryPointRef",[],(function a(b,c,d,e,f,g){

f.exports={FEED:"feed",FEED_INLINE:"feed_inline",FEED_VOICE_SWITCHER:"feed_voice_switcher",SPROUTS:"sprouts",TIMELINE:"timeline",NATIVE_PERMALINK:"native_permalink",EVENT:"event",EVENT_ALL_MEDIA:"event_all_media",EVENT_PHOTOS:"event_photos",EVENT_VIDEOS:"event_videos",EVENT_WALL:"event_wall",EVENT_ABOUT:"event_about",EVENT_TOUR:"event_tour",GROUP:"group",NATIVE_GROUP:"native_group",NATIVE_PAGE:"native_page",PAGES_MANAGER:"pages_manager",FINCH_PAGE_CHECKIN:"finch_page_checkin",PLACES_NEARBY_FRIENDS:"places_nearby_friends",PLACES_SEARCH_FAILURE:"places_search_failure",FEED_STORY:"feed_story",PHOTOS_DASHBOARD:"photos_dashboard",PHOTOS_TAB_TIMELINE:"photos_tab_timeline",ADD_PHOTO_IN_TIMELINE_TAB:"add_photo_in_timeline_tab",ADD_PHOTO_IN_ALBUM:"add_photo_in_album",ADD_PHOTO_IN_PHOTOS_SECTION:"add_photo_in_photos_section",PHOTOS_ALBUM:"photos_album",PHOTOS_ALBUM_LISTING:"photos_album_listing",ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",CREATE_COUPON_DIALOG:"create_coupon_dialog",SOCIAL_PLUGIN:"social_plugin",PLATFORM_DIALOG:"platform_dialog",SHARE_BUTTON_PLUGIN:"share_button",PAGE_PLUGIN:"page",ADS_CREATE:"ads_create",ADS_POWER_EDITOR:"ads_power_editor",TOPIC_HASHTAG_FEED:"topic_hashtag_feed",PERMALINK:"permalink",EDIT_DIALOG:"edit_dialog",EDIT_COMPOSER:"edit_composer",PAGES_FEED:"pages_feed",PAGES_PHOTO_TAB:"pages_photo_tab",PAGES_VIDEO_TAB:"pages_video_tab",PAGES_VIDEO_TAB_HUB:"pages_video_tab_hub",PAGES_VOICE_SWITCHER:"pages_voice_switcher",PAGES_COVER_VIDEO:"pages_cover_video",PAGE_TIPS:"page_tips",AGGREGATED_LINK_STORY:"aggregated_link_story",FEED_STICKY_COMPOSER:"feed_sticky_composer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",WIFI_CHECKIN:"wifi_checkin",HOVERCARD_CONICS:"hovercard_conics",AGGREGATED_STORY:"aggregated_story",YEAR_IN_REVIEW:"year_in_review",ORIGIN_STORY:"origin_story",CELEBRATE_FRIENDS:"celebrate_friends",CREATIVE_ASSISTANT:"creative_assistant",MEGAPHONE:"megaphone",MOMENTS:"moments",LIVE:"live",LIVE_BROADCAST:"live_broadcast",LIVE_MAP:"live_map",TOPIC_STORY_ACTION_LINK:"topic_story_action_link",OTHER:"other",TRENDING_TOPIC:"trending_topic",UC_TOOLBAR:"uc_toolbar",PAGE_CONTENT_TAB_DRAFTS:"page_content_tab_drafts",PAGE_LAUNCH_POINT:"page_launch_point",PAGE_CONTENT_TAB_PUBLISHED_POSTS:"page_content_tab_published_posts",PAGE_CONTENT_TAB_SCHEDULED_POSTS:"page_content_tab_scheduled_posts",PAGE_CONTENT_TAB_ADS_POSTS:"page_content_tab_ads_posts",PAGE_CONTNET_TAB_JOB_POSTS:"page_contet_tab_job_posts",PAGE_CONTENT_TAB_VIDEO_LIBRARY:"page_content_tab_video_library",PAGE_CONTENT_ADS_ASSET_VIDEO_LIBRARY:"page_content_ads_asset_video_library",PAGE_CONTENT_TAB_CANVAS:"page_content_tab_canvas",PAGE_CONTENT_TAB_REFERENCE_LIBRARY:"page_content_tab_reference_library",PAGE_CONTENT_TAB_SEASON_DETAILS:"page_content_tab_season_details",PAGE_CONTENT_TAB_PLAYLIST_DETAILS:"page_content_tab_playlist_details",REVIEW_UNIT:"review_unit",REVIEWS_LIST:"reviews_list",CHECKIN_STORY:"checkin_story",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",BULK_UPLOAD:"bulk_upload",REFERENCE_VIDEO_BULK_UPLOAD:"reference_video_bulk_upload",SAHELI:"saheli",GAMEFACE:"gameface",GAMETIME:"gametime",ANNIVERSARY_VIDEO:"anniversary_video",FRIENDS_DAY:"friends_day_2016",FRIENDVERSARY:"FRIENDVERSARY",PRIVACY_CHECKUP:"privacy_checkup",FEEDX:"feedx",FEED_SPROUTS:"feed_sprouts",FEEDX_SPROUTS:"feedx_sprouts",LEGACY_FEED:"legacy_feed",REACTION:"reaction",FLASHBACK:"flashback",INSIGHTS_POST_SPONSORED_TABLE:"insights_post_sponsored_table",INSIGHTS_POST_DIRECT_BOOST:"insights_post_direct_boost",VOTER_REGISTRATION:"voter_registration",ISSUE_MODULE:"issue_module",ENDORSEMENT_MODULE:"endorsement_module",COMPOSER_PREFILL:"composer_prefill",MTOUCH_LOCAL_SERP:"mtouch_local_serp",RED_ENVELOPE_POST:"red_envelope_post",FUNDRAISER_PAGE:"fundraiser_page",OFFERS_COMPOSER:"offers_composer",RESHARE_DIALOG:"reshare_dialog",POLITICAL_ISSUE:"political_issue",POLITICAL_ENDORSEMENT:"political_endorsement",PROFILE_PIC_CHANGE_DIALOG:"profile_pic_change_dialog",PROFILE_VIDEO:"profile_video",PUBLISH_FRAME_DIALOG:"publish_frame_dialog",AYMT:"aymt",SW_BG_SYNC:"sw_bg_sync",FEED_INSPIRATIONS:"feed_inspirations",INSPIRATIONS:"inspirations",WORK_FEED:"work_feed",DEVELOPER_SITE:"developer_site",RECENT_POSTS:"timeline\/recent_posts",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_VIDEO_PLATFORM_DIALOG:"live_video_platform_dialog",PAGE_TRAILER:"page_trailer"};}),

null);

/** __static_js_modules__/puwapplications.js */




__d("PUWApplications",[],(function a(b,c,d,e,f,g){

f.exports={WEB_SIMPLE:"web_simple",WEB_FLASH:"web_flash",WEB_HTML5:"web_html5",WEB_COMPOSER:"web_composer",WEB_ARCHIVE:"web_archive",WEB_MESSENGER:"web_messenger",WEB_OMNIPICKER:"web_omnipicker",WEB_MUSE_OMNIPICKER:"web_muse_omnipicker",WEB_SAY_THANKS:"web_say_thanks",WEB_GOODWILL_CAMPAIGN_OMNIPICKER:"web_goodwill_campaign_omnipicker",WEB_PRODUCT_PHOTO_OMNIPICKER:"web_product_photo_omnipicker",WEB_PAGES_MESSENGER:"web_pages_messenger",WEB_M_ZERO:"web_m_zero",WEB_M_BASIC:"web_m_basic",WEB_M_TOUCH:"web_m_touch",WEB_REACT_COMPOSER:"web_react_composer",MOBILE_FB4IOS:"mobile_fb4ios",MOBILE_FB4IOS_SNAP:"mobile_fb4ios_snap",MOBILE_FB4A:"mobile_fb4a",MOBILE_PMA_ANDROID:"mobile_pma_android",MOBILE_PMA_IOS:"mobile_pma_ios",THIRD_PARTY:"third_party"};}),

null);

/** __static_js_modules__/reactcomposerattachmenttype.js */




__d("ReactComposerAttachmentType",[],(function a(b,c,d,e,f,g){

f.exports={STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MLE:"MLE",LIFE_EVENT:"LIFE_EVENT",NOTES:"NOTES",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",SELL:"SELL",WORK_HEADER:"WORK_HEADER",RED_ENVELOPE:"RED_ENVELOPE",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",PLACE_LIST:"PLACE_LIST",QUIZ:"QUIZ",TASK:"TASK",ADD_MENTIONED:"ADD_MENTIONED",AUDIENCE_SELECTOR:"AUDIENCE_SELECTOR"};}),

null);

/** __static_js_modules__/reactcomposerfeaturetype.js */




__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){

f.exports={DATE:"date",EVENT:"event",FILE:"file",FORMATTED_TEXT:"formatted_text",ISSUE_TAG:"issue_tag",LIFE_EVENT:"life_event",LINK:"link",LOCATION:"location",MARKDOWN:"markdown",MEDIA:"media",MENTION_TAG:"mention_tag",MILESTONE:"milestone",MINUTIAE:"minutiae",NOTE:"note",OFFER:"offer",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",PRODUCT:"product",SELL:"sell",SPONSOR:"sponsor",TEXT:"text",WITH_TAG:"with_tag",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",STICKER:"sticker",MESSAGING:"messaging"};}),

null);

/** __static_js_modules__/reactcomposerloggingname.js */




__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){

f.exports={ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAGGER:"backdate_tagger",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu\/edit_post",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",DELETE_POST_EDIT_BUTTON:"delete_post_dialog\/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_TAB_SELECTOR:"file_tab_selector",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",GAME_TAB_SELECTOR:"game_tab_selector",INLINE_COMPOSER:"inline_composer",ISSUE_TAGGER:"issue_tagger",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PROMPT:"prompt",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RED_ENVELOPE_TAB_SELECTOR:"red_envelope_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu\/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu\/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu\/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu\/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu\/write_post",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",TAGGER_SUMMARY_LOCATION:"tagger_summary_row\/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row\/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row\/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",OTHERS:"others"};}),

null);

/** __static_js_modules__/reactionnuxtypeenum.js */




__d("ReactionNuxTypeEnum",[],(function a(b,c,d,e,f,g){

f.exports={LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"};}),

null);

/** __static_js_modules__/ufiinstanceactiontype.js */




__d("UFIInstanceActionType",[],(function a(b,c,d,e,f,g){

f.exports={CHANGE_ORDER_MODE:"story_change_order_mode",CHANGE_VISIBILITY:"story_change_visibility",INIT:"instance_init",RECEIVED_VOD_COMMENTS:"received_vod_comments",REMOVE:"story_remove",REQUESTED_VOD_COMMENTS:"requested_vod_comments",TOGGLE_COMMENTS:"story_toggle_comments",TOGGLE_COMMERCIAL_BREAK:"story_toggle_commercial_break",TRANSLATE_ALL:"translate_all"};}),

null);

/** __static_js_modules__/ufistoryactiontype.js */




__d("UFIStoryActionType",[],(function a(b,c,d,e,f,g){

f.exports={CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment"};}),

null);

/** __static_js_modules__/webcommentviewoption.js */




__d("WebCommentViewOption",[],(function a(b,c,d,e,f,g){

f.exports={CHRONOLOGICAL:"chronological",RANKED_THREADED:"ranked_threaded",TOPLEVEL:"toplevel",RECENT_ACTIVITY:"recent_activity",FEATURED:"featured",FILTERED:"filtered",LIVE_STREAMING:"live_streaming"};}),

null);

/** js/brands/settings/ui/constants/AppUserRoleConstants.brands.js */





__d('AppUserRoleConstants.brands',[],(function a(b,c,d,e,f,g){


var h=
{ADMIN:'ADMIN',
MANAGER:'MANAGER',
EMPLOYEE:'EMPLOYEE',
NO_PERMISSION:'NO_PERMISSION'};


f.exports=h;}),null);

/** js/brands/settings/utils/BusinessActorUtils.brands.js */







__d('BusinessActorUtils.brands',['UnicodeCJK'],(function a(b,c,d,e,f,g){

'use strict';



var h=

{getInitials:function i(j,k){
var l=j.trim().charAt(0),
m=k.trim().charAt(0),
n=l+m;
return !c('UnicodeCJK').hasIdeograph(n)?
n.toUpperCase():
m;}};



f.exports=h;}),null);

/** js/clientufi/actions/UFIStoryAction.js */






__d('UFIStoryAction',['UFIStoryActionType'],(function a(b,c,d,e,f,g){

'use strict';


































































































































var h=

{changeAcceptedAnswer:function i
(j,
k,
l){


return {type:c('UFIStoryActionType').CHANGE_ACCEPTED_ANSWER,
instanceID:j.instanceid,
ftentidentifier:k.ftentidentifier,
comment:k,
doAccept:l};},



commentsArrived:function i
(j,
k,
l,
m){


return {type:c('UFIStoryActionType').COMMENTS_ARRIVED,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
newOffset:k,
newLength:l,
source:m};},



pageInComments:function i
(j,
k,
l,
m){


return {type:c('UFIStoryActionType').PAGE_IN_COMMENTS,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
commentID:k,
direction:l,
nextRange:m};},



showComments:function i
(j){


return {type:c('UFIStoryActionType').SHOW_COMMENTS,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier};},



showReplies:function i
(j,
k,
l){


return {type:c('UFIStoryActionType').SHOW_REPLIES,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
commentID:k,
initiatorComment:l};},



spamFetched:function i
(j,
k,
l,
m){


return {type:c('UFIStoryActionType').SPAM_FETCHED,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
viewas:k,
commentIDs:l,
parentCommentID:m};},



changeReaction:function i
(j,
k,
l){



var m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=arguments.length<=4||arguments[4]===undefined?null:arguments[4];

return {type:c('UFIStoryActionType').CHANGE_REACTION,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
contextArgs:j,
reactionType:k,
target:l,
sphericalYaw:m,
sphericalPitch:n};},



changeReactionSuccess:function i


(j,
k){


return {type:c('UFIStoryActionType').CHANGE_REACTION_SUCCESS,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
reactionType:k};},



changeReactionFailure:function i


(j,
k){


return {type:c('UFIStoryActionType').CHANGE_REACTION_FAILURE,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
reactionType:k};},



toggleReplies:function i
(j,
k){


return {type:c('UFIStoryActionType').TOGGLE_REPLIES,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
commentID:k};},



friendTyping:function i(j){

return {type:c('UFIStoryActionType').FRIEND_TYPING,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier};},



someoneTyping:function i(j){

return {type:c('UFIStoryActionType').SOMEONE_TYPING,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier};},



typingStopped:function i(j){

return {type:c('UFIStoryActionType').TYPING_STOPPED,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier};},



pinComment:function i
(j,
k){

var l=arguments.length<=2||arguments[2]===undefined?null:arguments[2];

return {type:c('UFIStoryActionType').LIVE_PIN_COMMENT,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
commentID:k,
pinEventID:l};},



unpinComment:function i
(j){

var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1];

return {type:c('UFIStoryActionType').LIVE_UNPIN_COMMENT,
instanceID:j.instanceid,
ftentidentifier:j.ftentidentifier,
commentID:null,
pinEventID:k};}};





f.exports=h;}),null);

/** js/clientufi/models/UFIRange.js */






__d('UFIRange',[],(function a(b,c,d,e,f,g){

'use strict';







function h(){var i=arguments.length<=0||arguments[0]===undefined?0:arguments[0],j=arguments.length<=1||arguments[1]===undefined?0:arguments[1];
this.offset=i;
this.length=j;

this.requestedOffset=this.offset;
this.requestedLength=this.length;}
h.prototype.

getOffset=function(){
return this.offset;};
h.prototype.

getLength=function(){
return this.length;};
h.prototype.

getRequestedOffset=function(){
return this.requestedOffset;};
h.prototype.

getRequestedLength=function(){
return this.requestedLength;};
h.prototype.

updateRequestedRange=
function(i,
j){

this.requestedOffset=i;
this.requestedLength=j;
return this;};
h.prototype.

isLoadingNext=function(){
var i=this.requestedOffset+this.requestedLength,
j=this.offset+this.length;
return i>j;};
h.prototype.

isLoadingPrev=function(){
return this.requestedOffset<this.offset;};
h.

combine=function(i,j){
if(!j)
return i;


var k=Math.min(i.getOffset(),j.getOffset()),
l=Math.max(i.getLength(),j.getLength()),
m=new h(k,l);

if(j.getRequestedLength()>0){
var n=Math.min(k,j.getRequestedOffset()),
o=Math.max
(k+l,
j.getRequestedOffset()+j.getRequestedLength());


m.updateRequestedRange
(n,
o-n);}



return m;};



f.exports=h;}),null);

/** js/clientufi/stores/UFIFeedbackStore.js */






__d('UFIFeedbackStore',['FluxReduceStore','UFIDispatcherBase','UFIInstanceActionType'],(function a(b,c,d,e,f,g){

'use strict';var h,i;h=babelHelpers.inherits













(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.

getInitialState=function(){
return {};};
j.prototype.

reduce=function(k,l){var m;
switch(l.type){
case c('UFIInstanceActionType').INIT:
var n=l.payload,
o=n.feedbacktarget?
n.feedbacktarget:
n.feedbacktargets&&n.feedbacktargets[0];
if(!o)
return k;

return babelHelpers['extends']({},
k,(m={},m[
l.ftentidentifier]=babelHelpers['extends']
({orderingmodes:[],
defaultcommentorderingmode:''},
o),m));}



return k;};
function j(){h.apply(this,arguments);}


f.exports=new j(c('UFIDispatcherBase'));}),null);

/** js/clientufi/stores/UFIOrderingModeStore.js */






__d('UFIOrderingModeStore',['invariant','FluxReduceStore','Map','UFIDispatcherBase','UFIFeedbackStore','UFIInstanceActionType','WebCommentViewOption'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j;






















function k
(m,
n){

return m.
filter(function(o){return o.selected;}).
map(function(o){return o.value;}).
pop()||n;}
i=babelHelpers.inherits




(l,c('FluxReduceStore'));j=i&&i.prototype;l.prototype.
getInitialState=function(){
return new (c('Map'))();};
l.prototype.

areEqual=function(m,n){
return m===n;};
l.prototype.

isLiveStreaming=function(m){

return (this.getState().get(m)==c('WebCommentViewOption').LIVE_STREAMING);};

l.prototype.













isInverted=function(m){
switch(m){
case c('WebCommentViewOption').RECENT_ACTIVITY:
case c('WebCommentViewOption').RANKED_THREADED:
case c('WebCommentViewOption').FILTERED:
case c('WebCommentViewOption').LIVE_STREAMING:
return true;}

return false;};
l.prototype.

getOrderingMode=function(m){
var n=this.getState().get(m);
n!==undefined||h(0,'Instance must exist.');
return n;};
l.prototype.

reduce=function(m,n){
switch(n.type){
case c('UFIInstanceActionType').INIT:
if(m.has(n.instanceID))
return m;

c('UFIDispatcherBase').waitFor([c('UFIFeedbackStore').getDispatchToken()]);
var o=c('UFIFeedbackStore').getState()[n.ftentidentifier];

m=new (c('Map'))(m);
return m.set
(n.instanceID,
k
(o.orderingmodes,
o.defaultcommentorderingmode));


case c('UFIInstanceActionType').CHANGE_ORDER_MODE:

if(!m.has(n.instanceID)||
m.get(n.instanceID)!==n.mode){

m=new (c('Map'))(m);
m.set(n.instanceID,n.mode);}

return m;}

return m;};
function l(){i.apply(this,arguments);}


f.exports=new l(c('UFIDispatcherBase'));}),null);

/** js/components/NumberFormat/NumberFormat.js */





__d('NumberFormat',['intlNumUtils','NumberFormatConfig'],(function a(b,c,d,e,f,g){



var h=/(\d{3})(?=\d)/g;

function i(l){
return (''+l).split('').reverse().join('');}


function j(l,m){


if(Math.abs(l).toString().length<
c('NumberFormatConfig').minDigitsForThousandsSeparator)
return l.toString();



var n=i(''+l);


return i
(n.replace(h,'$1'+m));}



var k=
{formatIntegerWithDelimiter:j,

formatInteger:function l(m){
if(c('NumberFormatConfig').switchImplementationGK)
return c('intlNumUtils').formatNumberWithThousandDelimiters(m);


return j
(m,
c('NumberFormatConfig').numberDelimiter);}};




f.exports=k;}),null);

/** js/clientufi/stores/UFIReactionStore.js */






__d('UFIReactionStore',['Arbiter','FluxStore','UFIReactionTypes','UFIStoryActionType','UFIUIEvents','UFIUserActions'],(function a(b,c,d,e,f,g){

'use strict';var h,i;h=babelHelpers.inherits

























(j,c('FluxStore'));i=h&&h.prototype;j.prototype.

__onDispatch=function(k){
switch(k.type){
case c('UFIStoryActionType').CHANGE_REACTION:
c('UFIUserActions').changeReaction
(k.contextArgs.ftentidentifier,
k.reactionType,

{rootid:k.contextArgs.rootid,
source:k.contextArgs.source,
feedbackReferrer:k.contextArgs.feedbackReferrer,
fluentContentToken:k.contextArgs.fluentContentToken,
isLiveVOD:k.contextArgs.isLiveVOD,
islivestreaming:k.contextArgs.islivestreaming,
instanceid:k.contextArgs.instanceid},

k.target,
k.sphericalYaw,
k.sphericalPitch);


c('Arbiter').inform(c('UFIUIEvents').ReactionButtonClicked,
{ft_id:k.contextArgs.ftentidentifier,
like_action:k.reactionType===c('UFIReactionTypes').LIKE,
reaction_type:k.reactionType,
target:k.target});


break;}};

function j(){h.apply(this,arguments);}


f.exports=j;}),null);

/** js/components/UFI/UFIBusinessActorIcon.react.js */






__d('UFIBusinessActorIcon.react',['cx','AppUserRoleConstants.brands','BusinessActorUtils.brands','React','joinClasses','getObjectValues'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j,









k=c('React').PropTypes;i=babelHelpers.inherits









(l,c('React').Component);j=i&&i.prototype;l.prototype.








render=function(){
var m=c('BusinessActorUtils.brands').getInitials
(this.props.firstName,
this.props.lastName),

n=this.props.businessRole===c('AppUserRoleConstants.brands').ADMIN;

return (c('React').createElement('div',{className:c('joinClasses')
(this.props.classNames,
"_1rpl")},

c('React').createElement('div',{className:c('joinClasses')
(this.props.textClassNames,
n?"_1rpm":null)},

m)));};



function l(){i.apply(this,arguments);}l.propTypes={firstName:k.string.isRequired,lastName:k.string.isRequired,classNames:k.string,textClassNames:k.string,businessRole:k.oneOf(c('getObjectValues')(c('AppUserRoleConstants.brands')))};


f.exports=l;}),null);

/** js/components/UFI/UFIMentionsInputProxy.react.js */






__d('UFIMentionsInputProxy.react',['cx','Promise','JSResource','JSResourceReference','React','emptyFunction','setImmediate'],(function a(b,c,d,e,f,g,h){

'use strict';

















var i=c('React').createClass({displayName:'UFIMentionsInputProxy',
_cmdBuffer:[],

getInitialState:function j(){

return {component:null,
viewComponent:null};},



componentDidMount:function j(){
this._cmdBuffer=this._cmdBuffer||[];
if(this.props.initialData)

this._bootload();},



componentDidUpdate:function j(){
if(this.state.component)
this._drainFnBuffer();},






hasEnteredText:function j(){
return this._fillCmdBuffer({fn:'hasEnteredText',args:[]});},






getText:function j(){
return this._fillCmdBuffer({fn:'getText',args:[]});},





focus:function j(){
this._bootload();
this._fillCmdBuffer({fn:'focus',args:[]});},





submitComment:function j(event){
this._fillCmdBuffer
({fn:'submitComment',args:[event]});},






insertMention:function j(k){
this._fillCmdBuffer
({fn:'insertMention',args:[k]});},






insertEmoticon:function j(k){
this._fillCmdBuffer
({fn:'insertEmoticon',args:[k]});},



insertEmoji:function j(k){
this._fillCmdBuffer
({fn:'insertEmoji',args:[k]});},



_bootload:function j(){
c('Promise').all
([c('JSResource')('UFIMentionsInput.react').__setRef('UFIMentionsInputProxy.react').load(),
new (c('Promise'))(function(k){
if(this.props.viewComponent instanceof c('JSResourceReference')){
this.props.viewComponent.load().done(k);}else 

k(this.props.viewComponent);}.

bind(this))]).
done(function(k){var l=k[0],m=k[1];
if(this.isMounted())
this.setState({component:l,viewComponent:m});}.

bind(this));},


_shouldDrainBuffer:function j(){
return this._cmdBuffer.length>0;},


_fillCmdBuffer:function j(k){
if(this.refs.mentionsinputchild){
return this._execCmd(k);}else 

this._cmdBuffer=this._cmdBuffer.concat([k]);},



_drainFnBuffer:function j(){
if(this._shouldDrainBuffer()){
var k=this._cmdBuffer[0];
this._execCmd(k);
this._cmdBuffer=this._cmdBuffer.slice(1);

c('setImmediate')(this._drainFnBuffer);}},



_execCmd:function j(k){
var l=this.refs.mentionsinputchild;
return l[k.fn].apply(l,k.args);},


_renderProxyInput:function j(){
var k="_1osa mentionsHidden";



return (c('React').createElement('input',
{className:k,
'data-interaction-root-id':"_432z",
name:'add_comment_text',
ref:'proxyInput',
onFocus:this.focus}));},







_renderDummy:function j(){
var k="UFIAddCommentInput _1osb _1osc _2xww";



return (c('React').createElement('div',
{'data-interaction-root-id':"_432-",
onClick:this.focus,
className:"_2xwx",
onFocus:this.focus,
onMouseOver:this._bootload,
role:'presentation'},
c('React').createElement('div',{className:k},
this._renderProxyInput(),
this.props.placeholder)));},





render:function j(){
var k=this.state.component;
if(!k)
return this._renderDummy();



return (c('React').createElement(k,babelHelpers['extends']
({key:'mentionsinputchild',
ref:'mentionsinputchild'},
this.props,
{viewComponent:this.state.viewComponent}),
this.props.children));}});





f.exports=i;}),null);

/** js/components/UFI/UFIPager.react.js */





__d('UFIPager.react',['cx','LeftRight.react','React','UFIImageBlock.react','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){

'use strict';var i,j,









k=c('React').PropTypes;i=babelHelpers.inherits

(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.
















onPagerClick=function(r){
!this.props.isLoading&&
this.props.onPagerClick&&
this.props.onPagerClick();

r.nativeEvent.prevent();}.
bind(this),n;}l.prototype.

render=function(){
var m=this.onPagerClick,
n=c('joinClasses')("UFIRow"+


(this.props.isUnseen?' '+"UFIUnseenItem":'')+(' '+"UFIPagerRow")+(' '+"_4oep")+



(this.props.isFirstCommentComponent?' '+"_48pi":'')+
(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+
(this.props.isFirstComponent?' '+"_4204":'')+
(this.props.isLastComponent?' '+"_2o9m":'')),



o=null;
if(this.props.isLoading)
o=
c('React').createElement(c('XUISpinner.react'),
{className:'mls',
background:'light',
size:'small'});



var p=
c('React').createElement('a',
{className:'UFIPagerLink',
onClick:m,
href:'#',
role:'button'},
this.props.pagerLabel,
o),


q="fcg"+(' '+"UFIPagerCount"),




r=
c('React').createElement('span',{className:q},
this.props.countSentence),


s;

if(this.props.contextArgs.entstream||!this.props.isReply){
s=
c('React').createElement(c('LeftRight.react'),{direction:c('LeftRight.react').DIRECTION.right},
p,
r);}else 



s=
c('React').createElement(c('UFIImageBlock.react'),null,
c('React').createElement('a',
{className:'UFIPagerIcon',
onClick:m,
href:'#',
role:'button'}),

p,
r);





return (c('React').createElement('div',
{className:n,
'data-ft':this.props['data-ft'],
'data-interaction-root-id':"_2sp7"},
s));};


l.propTypes={contextArgs:k.object.isRequired,pagerLabel:k.string.isRequired,'data-ft':k.string,countSentence:k.string,isFirstCommentComponent:k.bool,isFirstComponent:k.bool,isLastCommentComponent:k.bool,isLastComponent:k.bool,isLoading:k.bool,isReply:k.bool,isUnseen:k.bool,onPagerClick:k.func};


f.exports=l;}),null);

/** js/components/UFI/UFIPagerLabel.js */






__d('UFIPagerLabel',['fbt','intlList','NumberFormat'],(function a(b,c,d,e,f,g,h){

'use strict';





function i(k){
return c('NumberFormat').formatInteger(k.count);}

























var j=
{VIEW_ONE:'view_one',
VIEW_ONE_MORE:'view_one_more',
VIEW_ALL:'view_all',
VIEW_MORE_EXPLICIT:'view_more_explicit',
VIEW_MORE:'view_more',
VIEW_PREVIOUS:'view_previous',
VIEW_PREVIOUS_EXPLICIT:'view_previous_explicit',

_getReplyLabel:function k
(l,
m){

switch(l){
case j.VIEW_ONE:
return h._(["View 1 reply","18664c0147690887c96fdb5769534da9"]);




case j.VIEW_ONE_MORE:
return h._(["View 1 more reply","31e1924842508b35cf198fb3cf294f0a"]);




case j.VIEW_ALL:
return h._({"*":["View all {count} replies","98af21854bfedcb53dc74e5b187ce9ed"]},


[h.param('count',i(m),[0,m.count])]);





case j.VIEW_MORE_EXPLICIT:
return h._({"*":{"*":["View {count} more replies","1e544dfed7d57a2a8822dd6b89e33f7f"],"268435456":["View {count} more reply","7413175c342ea8bebc21e97e4c20e78d"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);




case j.VIEW_MORE:
return h._(["View more replies","38b307f771b046052275d994ab6d51c8"]);




case j.VIEW_PREVIOUS:
return h._(["View previous replies","8cc0733e1b648daea70486db8bd70a9b"]);




case j.VIEW_PREVIOUS_EXPLICIT:
return h._({"*":{"*":["View {count} previous replies","07537357a9dbb300fdf788cda80a0904"],"268435456":["View {count} previous reply","eb62c19da481acc6573161aff39e8e0a"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);





default:return null;}},



_getCommentLabel:function k
(l,
m){

switch(l){
case j.VIEW_ONE:
return h._(["View 1 comment","d3ca2bcd23f9b9f38697266585a5b9ad"]);



case j.VIEW_ONE_MORE:
return h._(["View 1 more comment","4babc9a993dbc79f165db97840bc15ed"]);



case j.VIEW_ALL:
return h._({"*":["View all {count} comments","b315866a866fb655faf357d27ad63aa8"]},


[h.param('count',i(m),[0,m.count])]);




case j.VIEW_MORE_EXPLICIT:
return h._({"*":{"*":["View {count} more comments","d77ba3d8552934e974d4efe8c23249e2"],"268435456":["View {count} more comment","62054b1dcc40b024a9b3b6b8b284ff78"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);



case j.VIEW_MORE:
return h._(["View more comments","6195b307a2986262723be952c9491cd8"]);



case j.VIEW_PREVIOUS_EXPLICIT:
return h._({"*":{"*":["View {count} previous comments","41f2fbaa82618b7cf5d56f1fc53d95a0"],"268435456":["View {count} previous comment","98662bbd8108da7f52250a860e244511"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);



case j.VIEW_PREVIOUS:
return h._(["View previous comments","4c734b23368656f66675bb038ca8cb4c"]);




default:return null;}},



_getCommentLabelWithCommentSentence:function k
(l,
m){

var n=c('intlList')(m.commenters),
o=m.othersCount,
p=c('NumberFormat').formatInteger(o);

switch(l){
case j.VIEW_ONE:
return h._(["View 1 comment from {names}","baccab6eb864f28c5f1a9a27af1f6572"],
[h.param('names',n)]);



case j.VIEW_ONE_MORE:
return h._(["View 1 more comment from {names}","96041560f26efe1f68c46579db148ead"],
[h.param('names',n)]);



case j.VIEW_ALL:
switch(o){
case 0:
return h._({"*":["View all {count} comments from {names}","7d4b3ce1281c544449025809ddf68ab1"]},


[h.param('count',i(m),[0,m.count]),

h.param('names',n)]);




case 1:
return h._({"*":["View all {count} comments from {names} and 1 other person","7b83cd8d76383d2ef1100f7e3619402e"]},


[h.param('count',i(m),[0,m.count]),

h.param('names',n)]);





default:return h._({"*":{"*":["View all {count} comments from {names} and {othersCount} others","5deb83ae4f94c04cbb29df7b2665c548"]}},


[h.param('count',i(m),[0,m.count]),

h.param('names',n),
h.param('othersCount',p,[0,o])]);}






case j.VIEW_MORE_EXPLICIT:
case j.VIEW_MORE:
switch(o){
case 0:
return h._(["View more comments from {names}","b81fe05c3ba944737ec2869f16d214cc"],
[h.param('names',n)]);



case 1:
return h._(["View more comments from {names} and 1 other person","7330749b0a921ea2204cd8629af162f0"],


[h.param('names',n)]);






default:return h._({"*":["View more comments from {names} and {othersCount} others","2b08e20834b8f0cdab9291ffff5c53fc"]},


[h.param('names',n),

h.param('othersCount',p,[0,o])]);}






case j.VIEW_PREVIOUS:
case j.VIEW_PREVIOUS_EXPLICIT:
switch(o){
case 0:
return h._(["View previous comments from {names}","8a005e9e87f77504efde46787b5079df"],
[h.param('names',n)]);



case 1:
return h._(["View previous comments from {names} and 1 other person","df7e08bff587d2b3d5e6432442ee2991"],


[h.param('names',n)]);






default:return h._({"*":["View previous comments from {names} and {othersCount} others","4cca04c245f468463da443a8587dde17"]},


[h.param('names',n),

h.param('othersCount',p,[0,o])]);}







default:return null;}},



_getQuestionLabel:function k
(l,
m){

switch(l){
case j.VIEW_ONE:
return h._(["View 1 question","12517782f6757d848f9dae7a40947843"]);




case j.VIEW_ONE_MORE:
return h._(["View 1 more question","109d0dc0a49e278db6794553c72a647f"]);




case j.VIEW_ALL:
return h._({"*":["View all {count} questions","5e70a3e75f0bdce0ce436b9d02168769"]},


[h.param('count',i(m),[0,m.count])]);





case j.VIEW_MORE_EXPLICIT:
return h._({"*":{"*":["View {count} more questions","a3eb81ed7c2c79c25907299f71e56452"],"268435456":["View {count} more question","03a9197881e56262533d44e1ebca8f19"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);




case j.VIEW_MORE:
return h._(["View more questions","4e5dc6584525521d913c1eb50992be0e"]);




case j.VIEW_PREVIOUS:
return h._(["View previous questions","3f50d8be6dd99c298e27d9cb898fe383"]);




case j.VIEW_PREVIOUS_EXPLICIT:
return h._({"*":{"*":["View {count} previous questions","6dc87ef2a9816ebf96958471f7c1cd32"],"268435456":["View {count} previous question","61bd100d515f7e3cdade69905c7a9b81"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);





default:return null;}},



_getAnswerLabel:function k
(l,
m){

switch(l){
case j.VIEW_ONE:
return h._(["View 1 answer","8ef141b3551c1f0fe383177a975682f8"]);



case j.VIEW_ONE_MORE:
return h._(["View 1 more answer","7d08bd0890171bb4a14aa03f081e421f"]);



case j.VIEW_ALL:
return h._({"*":["View all {count} answers","5f3698b206ce0713cc1ac432b9f4a166"]},


[h.param('count',i(m),[0,m.count])]);




case j.VIEW_MORE_EXPLICIT:
return h._({"*":{"*":["View {count} more answers","178860b30adc55de11652b4922413fb7"],"268435456":["View {count} more answer","b57dbcc5654b8d42f8aaab66f03447e7"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);



case j.VIEW_MORE:
return h._(["View more answers","52e277159232426a3797a72e7459aef2"]);



case j.VIEW_PREVIOUS_EXPLICIT:
return h._({"*":{"*":["View {count} previous answers","d2863b464213b169de24ac58874e3e84"],"268435456":["View {count} previous answer","64380c3a86e375ff7b1ae694ead78f02"]}},


[h.param('count',i(m),[0,m.count]),h.plural

(m.count)]);



case j.VIEW_PREVIOUS:
return h._(["View previous answers","1965e9c48c2aec52ecd62c9812b92aeb"]);




default:return null;}},









getLabel:function k
(l,
m,
n,
o,
p){

if(m){
return j._getReplyLabel(l,p);}else
if(n){
return j._getQuestionLabel(l,p);}else
if(o){
return j._getAnswerLabel(l,p);}else{

if(p.commenters)
return this._getCommentLabelWithCommentSentence(l,p);


return j._getCommentLabel(l,p);}}};





f.exports=j;}),null);

/** js/components/UFI/UFIPagerGenerator.js */





__d('UFIPagerGenerator',['fbt','NumberFormat','React','TrackingNodes','UFIConstants','UFIOrderingModeStore','UFIPager.react','UFIPagerLabel','UFIRange'],(function a(b,c,d,e,f,g,h){

'use strict';












var i=c('UFIConstants').UFIPaging,

j=

{isBottomPager:function k(l,m){
return c('UFIOrderingModeStore').isInverted(m)&&!l;},


needsStartOfRangePager:function k(l){
return l>0;},


renderPagers:function k(l){var m,n,o,

p=









l.commentCount,q=l.contextArgs,r=l.currentLength,s=l.currentOffset,t=l.deletedCount,u=l.feedback,v=l.onPageCallback,w=l.orderingMode,x=l.range,y=l.targetID,
z=p-t,
aa=r-t,
ba=y!==q.ftentidentifier,
ca=this.isBottomPager(ba,w),

da=
{topPager:null,
bottomPager:null},


ea=false;
if(q.isaskquestion)
ea=q.isaskquestion;


var fa=x.isLoadingPrev(),
ga=x.isLoadingNext(),

ha={count:0},
ia=u.commentsentenceinfo;
if(ia){
ha.commenters=ia.explicit_commenter_names;
ha.othersCount=ia.other_commenter_count;}





var ja=s+r==p;


if(p<q.pagesize&&ja||
aa===0){



var ka,m=function(){var na=Math.min(p,q.pagesize);ka=function sa(){return v
(ca?
i.BOTTOM:
i.TOP,
new (c('UFIRange'))(p-na,na));};


var oa=void 0;


if(aa===0){
if(z==1){
oa=c('UFIPagerLabel').VIEW_ONE;}else{

ha.count=z;
oa=c('UFIPagerLabel').VIEW_ALL;}}else 


if(z-aa==1){
oa=c('UFIPagerLabel').VIEW_ONE_MORE;}else{



oa=c('UFIPagerLabel').VIEW_MORE_EXPLICIT;
ha.count=z-aa;}



var pa=c('TrackingNodes').getTrackingInfo
(c('TrackingNodes').types.VIEW_ALL_COMMENTS),


qa=c('UFIPagerLabel').getLabel
(oa,
ba,
u.isqanda,
ea,
ha),


ra=
c('React').createElement(c('UFIPager.react'),
{key:'allPager'+y,
ref:ca?'topLevelBottomPager':null,
contextArgs:q,
isUnseen:u.hasunseencollapsed,
isLoading:ca?ga:fa,
isReply:ba,
pagerLabel:qa,
onPagerClick:ka,
'data-ft':pa});


if(ca){
da.bottomPager=ra;}else 

da.topPager=ra;


return {v:da};}();if(typeof m==="object")return m.v;}


var la=c('UFIPagerLabel').getLabel
(c('UFIPagerLabel').VIEW_MORE,
ba,
u.isqanda,
ea,
ha),

ma=c('UFIPagerLabel').getLabel
(c('UFIPagerLabel').VIEW_PREVIOUS,
ba,
u.isqanda,
ea,
ha);






if(this.needsStartOfRangePager(s))(function(){


var na=Math.max(s-q.pagesize,0),
oa=s+r-na,



pa=void 0;
if(!ba||aa>1){
var qa=c('NumberFormat').formatInteger
(aa),


ra=c('NumberFormat').formatInteger
(z);


pa=h._(["{countshown} of {totalcount}","4d7bfda3efc831f3869e99fd52f0f367"],
[h.param('countshown',qa),

h.param('totalcount',ra)]);}




var sa=function ta(){return v
(ca?
i.BOTTOM:
i.TOP,
new (c('UFIRange'))(na,oa));};


if(ca){


da.bottomPager=
c('React').createElement(c('UFIPager.react'),
{key:'bottomPager'+y,
ref:!ba?'topLevelBottomPager':null,
contextArgs:q,
isLoading:fa,
isReply:ba,
pagerLabel:la,
onPagerClick:sa,
countSentence:pa});}else 




da.topPager=
c('React').createElement(c('UFIPager.react'),
{key:'topPager'+y,
contextArgs:q,
isLoading:fa,
isReply:ba,
pagerLabel:ma,
onPagerClick:sa,
countSentence:pa});})

();






if(s+r<p)(function(){


var na=Math.min
(r+q.pagesize,
p-s),


oa=function pa(){return v


(ca?
i.TOP:
i.BOTTOM,
new (c('UFIRange'))(s,na));};


if(ca){


da.topPager=
c('React').createElement(c('UFIPager.react'),
{key:'topPager'+y,
contextArgs:q,
isLoading:ga,
isReply:ba,
pagerLabel:ma,
onPagerClick:oa});}else 




da.bottomPager=
c('React').createElement(c('UFIPager.react'),
{key:'bottomPager',
ref:!ba?'topLevelBottomPager':null,
contextArgs:q,
isLoading:ga,
isReply:ba,
pagerLabel:la,
onPagerClick:oa});})

();


return da;}};




f.exports=j;}),null);

/** js/components/UFI/UFIShareLink.react.js */





__d('UFIShareLink.react',['cx','fbt','CurrentUser','React','TrackingNodes','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){

'use strict';var j,k;j=babelHelpers.inherits










(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.
$UFIShareLink_onClick=function(event){

if(this.props.href&&this.props.href!=='#'&&!this.props.onClick)
return;




event.preventDefault();

this.props.onClick&&this.props.onClick(event);}.
bind(this),n;}l.prototype.

render=function(){
var m=i._(["Send this to friends or post it on your timeline.","5401bfcae6222f996927e85226faad4e"]);




if(c('CurrentUser').isWorkUser())
m=i._(["Send this to coworkers or post it on your timeline.","62fc5fe7862f26a1d8bce29ad617e02a"]);






var n=
'{ "tn": "'+
c('TrackingNodes').encodeTN(c('TrackingNodes').types.SHARE_LINK)+
'", "type": 25 }',

o=null;
if(this.props.rel!=='dialog')
o=
c('React').createElement(c('XUISpinner.react'),
{className:"UFIShareLinkSpinner _1wfk",
showOnAsync:true});

var p=

this.props,q=p.openOnInit,r=babelHelpers.objectWithoutProperties(p,['openOnInit']);


return (c('React').createElement('a',babelHelpers['extends']({},
r,
{className:
c('joinClasses')
(this.props.className,
"share_action_link _5f9b"),


'data-interaction-root-id':"_48eu",
onClick:this.$UFIShareLink_onClick,
ref:function s(t){if(t&&q)t.click();},
'data-ft':n,
title:m}),i._(["Share","6f71ca7e66e58b68f0a285b6c5a89ddc"]),



o));};





f.exports=l;}),null);

/** js/modules/addFocusEvents.js */





__d('addFocusEvents',['Deferred','Event','React','SubscriptionList'],(function a(b,c,d,e,f,g){






var h=c('React').Component,

i=void 0,











j=function(k){return function(){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.




componentDidMount=function(){'use strict';
if(!i){
var o,
p;

i=new (c('SubscriptionList'))
(function(){
o=
c('Event').listen(window,'blur',function(){
i&&i.fireCallbacks(true);
p&&p.remove();

p=c('Event').listen
(document.documentElement,
'focusin',
function(){
i&&i.fireCallbacks(false);
p&&p.remove();
p=null;});});},




function(){
o&&o.remove();
p&&p.remove();

o=null;
p=null;
i=null;});}




this.subscription=i.add(function(q){
this.locked=q;}.
bind(this));};
n.prototype.

componentWillUnmount=function(){'use strict';
this.subscription&&this.subscription.remove();};
n.prototype.

onClick=function(event){'use strict';
this.props.onClick&&this.props.onClick(event);

if(this.deferred)
this.deferred.resolve(this.props.onMouseFocus);};

n.prototype.

onFocus=function(event){'use strict';
if(this.deferred)
this.deferred.reject();


if(this.locked)
return;


this.deferred=new (c('Deferred'))();
this.deferred.done
(function(o){
o&&o(event);
this.deferred=null;}.
bind(this),
function(){
this.deferred=null;}.
bind(this));};

n.prototype.

onKeyUp=function(event){'use strict';
this.props.onKeyUp&&this.props.onKeyUp(event);

if(this.deferred)
this.deferred.resolve(this.props.onKeyboardFocus);};

n.prototype.

render=function(){'use strict';var o=
this.props,p=o.onKeyboardFocus,q=o.onMouseFocus,r=babelHelpers.objectWithoutProperties(o,['onKeyboardFocus','onMouseFocus']);


return (c('React').createElement(k,babelHelpers['extends']({},
r,
{onClick:this.onClick.bind(this),
onFocus:this.onFocus.bind(this),
onKeyUp:this.onKeyUp.bind(this)})));};


function n(){'use strict';l.apply(this,arguments);}return n;}();}.bind(this);


f.exports=j;}),null);

/** js/react_composer/attachments/ReactComposerAttachmentActionType.js */





__d('ReactComposerAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){



f.exports=c('keyMirrorRecursive')
({REGISTER_ATTACHMENT:null,
INITIALIZE_ATTACHMENT:null,
SELECT_ATTACHMENT:null,
SET_INITIALIZED:null,
SET_BOOTLOADED:null,
SET_BOOTSTRAPPED:null,
UPLOAD_ATTACHMENT:null},
'ReactComposerAttachmentActionType');}),null);

/** js/react_composer/attachments/status/attachment_preview/scraped_attachment/ReactComposerScrapedAttachmentActionType.js */





__d('ReactComposerScrapedAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){



f.exports=c('keyMirrorRecursive')
({ATTACHMENT_SCRAPE_ENABLED:null,
ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,
ATTACHMENT_SCRAPE_INTENDED:null,
ATTACHMENT_SCRAPED:null,
ATTACHMENT_CAROUSEL_UPLOAD:null,
ATTACHMENT_SHARE_SELECTED:null},
'ReactComposerScrapedAttachmentActionType');}),null);

/** js/react_composer/flux/ReactComposerActionTypes.js */





__d('ReactComposerActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){



f.exports=c('keyMirrorRecursive')
({COMPOSER_ENTRY:null,
COMPOSER_CANCEL:null,
INIT_CONFIG:null,
POST_ERROR:null,
POST_STARTED:null,
POST_INTENDED:null,
POST_SUCCEEDED:null,
POST_FINALLY:null,
PUBLISH_STARTED:null,
PUBLISH_SUCCEEDED:null,
COMPOSER_RESET:null,
EXPAND_SPROUTS:null,
COLLAPSE_SPROUTS:null,
FEATURE_INTENT:null,
FEATURE_DONE:null,
FEATURE_CANCEL:null,
SCHEDULE:null},
'ReactComposerActionTypes');}),null);

/** js/react_composer/logging/ReactComposerLoggingQueue.js */





__d('ReactComposerLoggingQueue',['invariant','Bootloader','requireWeak'],(function a(b,c,d,e,f,g,h){






var i=null;
c('requireWeak')('ReactComposerLoggingStore',function(l){
i=l;});


var j=[],













k=
{add:function l(m){
if(m&&m.suppressWaterfallLogging)
return;



m&&m.composerID||h(0,
'composerID is required in an action object, '+
'since suppressWaterfallLogging is not set');




if(i&&
i.isActivated(m.composerID))
return;


j.push(m);},


initBootload:function l
(m,
n,
o,
p){

c('Bootloader').loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],





function(q,
r,
s,
t){

q.resetSessionID(m);

r.registerComposer
(n,
o,
p);


s.registerComposer
(n,
p.targetType,
p.ref,
o);


t.activate(m);},
'ReactComposerLoggingQueue');},


pop:function l(){
return j.shift();},


getLength:function l(){
return j.length;}};



f.exports=k;}),null);

/** js/react_composer/flux/ReactComposerDispatcher.js */





__d('ReactComposerDispatcher',['ReactComposerLoggingQueue','Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits





(j,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.
dispatch=function(k){'use strict';
i.dispatch.call(this,k);








c('ReactComposerLoggingQueue').add(k);};
function j(){'use strict';h.apply(this,arguments);}



f.exports=new j();}),null);

/** js/react_composer/flux/ReactComposerStoreBase.js */





__d('ReactComposerStoreBase',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerEvents','EventEmitter','Map'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits


































(j,c('EventEmitter'));i=h&&h.prototype;




function j(k,l){'use strict';
i.constructor.call(this);
this.$ReactComposerStoreBase_createComposerData=k;
this.$ReactComposerStoreBase_composers=new (c('Map'))();
this.$ReactComposerStoreBase_dispatchToken=c('ReactComposerDispatcher').register(function(m){
switch(m.type){
case c('ReactComposerActionTypes').COMPOSER_RESET:
this.__cleanup(m);
break;}

l(m);}.
bind(this));}
j.prototype.




getComposerData=function(k){'use strict';
var l=this.$ReactComposerStoreBase_composers.get(k);

if(!l){
l=this.$ReactComposerStoreBase_createComposerData();
this.$ReactComposerStoreBase_composers.set(k,l);}


return l;};
j.prototype.




clearComposerData=function(k){'use strict';
this.$ReactComposerStoreBase_composers.set(k,this.$ReactComposerStoreBase_createComposerData());};
j.prototype.




addChangeListener=function(k){'use strict';
return this.addListener(c('ReactComposerEvents').CHANGE,k);};
j.prototype.




emitChange=function(k){'use strict';
this.emit(c('ReactComposerEvents').CHANGE,{composerID:k});};
j.prototype.




getDispatchToken=function(){'use strict';
return this.$ReactComposerStoreBase_dispatchToken;};
j.prototype.


validateAction=function(k,l){'use strict';
l=[].concat(l);

var m=l.map(function(n){
if(k[n]===undefined)
throw new Error('Action missing field: '+n);


return k[n];});


if(l.length===1)
return m[0];


return m;};
j.prototype.







__cleanup=function(k){'use strict';
this.clearComposerData(k.composerID);
this.emitChange(k.composerID);};



f.exports=j;}),null);

/** js/react_composer/flux/ReactComposerActionStore.js */





__d('ReactComposerActionStore',['errorCode','ReactComposerActionTypes','ReactComposerEvents','ReactComposerStoreBase','Arbiter','AsyncResponse','Bootloader','Set','TextDelightGatekeeperChecks','requireWeak'],(function a(b,c,d,e,f,g,h){var i,j,














k=void 0;
c('requireWeak')('ReactComposerStatusStore',function(m){return k=m;});i=babelHelpers.inherits

(l,c('ReactComposerStoreBase'));j=i&&i.prototype;


function l(m,n){'use strict';
m=m?
m:
function(){return null;};

var o;
j.constructor.call(this,
m,
function(p){
if(!(o&&o.__shouldIgnoreAction(p)))
switch(p.type){
case c('ReactComposerActionTypes').POST_STARTED:
o&&o.$ReactComposerActionStore_handlePostStarted(p);
break;
case c('ReactComposerActionTypes').POST_INTENDED:
o&&o.$ReactComposerActionStore_handlePostIntended(p);
break;
case c('ReactComposerActionTypes').POST_SUCCEEDED:
o&&o.$ReactComposerActionStore_handlePostSucceeded(p);
break;
case c('ReactComposerActionTypes').POST_ERROR:
o&&o.$ReactComposerActionStore_handlePostError(p);
break;
case c('ReactComposerActionTypes').POST_FINALLY:
o&&o.$ReactComposerActionStore_handlePostFinally(p);
break;
default:}




n&&n(p);});


o=this;

this.$ReactComposerActionStore_registeredComposerIDs=new (c('Set'))();}
l.prototype.

registerComposerID=function(m){'use strict';
this.$ReactComposerActionStore_registeredComposerIDs.add(m);};
l.prototype.

$ReactComposerActionStore_handlePostStarted=function(m){'use strict';
var n=this.validateAction(m,'composerID'),

o=c('TextDelightGatekeeperChecks').gk;

if(o.delights_text_trigger_prefetch_post_anim_enabled&&
c('TextDelightGatekeeperChecks').postAnimationURI)

c('Bootloader').loadModules
(["TextDelightAnimation"],
function(p){
p.setupPostAnimation
(c('TextDelightGatekeeperChecks').postAnimationURI);},

'ReactComposerActionStore');



this.__onPostStarted&&this.__onPostStarted(m);

c('Arbiter').inform(c('ReactComposerEvents').POST_STARTED+n);};
l.prototype.

$ReactComposerActionStore_handlePostIntended=function(m){'use strict';
this.validateAction
(m,

['composerID',
'actorID',
'config',
'targetID']);


if(!this.__canPost||this.__canPost(m))
this.$ReactComposerActionStore_handlePostStarted(m);};

l.prototype.

$ReactComposerActionStore_handlePostSucceeded=function(m){'use strict';
var n=this.validateAction(m,'composerID');


if(k)
var o=k.getMessage(n);


this.__onPostSucceeded&&this.__onPostSucceeded(m);

c('Arbiter').inform(c('ReactComposerEvents').POST_SUCCEEDED+n);};
l.prototype.

$ReactComposerActionStore_handlePostError=function(m){'use strict';
if(this.__onPostError)
return this.__onPostError(m);



if(m.response){
var n=m.response.getError&&
m.response.getError()==1455004;


if(n)
return;


c('AsyncResponse').defaultErrorHandler(m.response);}};

l.prototype.

$ReactComposerActionStore_handlePostFinally=function(m){'use strict';
this.__onPostFinally&&this.__onPostFinally(m);};
l.prototype.








__shouldIgnoreAction=function(m){'use strict';
var n=this.validateAction(m,'composerID');
return !this.$ReactComposerActionStore_registeredComposerIDs.has(n);};



f.exports=l;}),null);

/** js/react_composer/utils/ReactComposerInit.js */





__d('ReactComposerInit',['invariant','Arbiter','ReactComposerEvents','ReactComposerIDGenerator','Map','React','ReactDOM'],(function a(b,c,d,e,f,g,h){




















var i=
{_isUnmounting:false,
instances:new (c('Map'))(),


changeProps:function j(k,l){
var m=i._getCurrentInstance(k);
m.props=l;
i.resetComposer(k,true);},


normalizeComposerID:function j(k){
if(!k.contextConfig.composerID)
k.contextConfig.composerID=c('ReactComposerIDGenerator').getID();

return k.contextConfig.composerID;},



init:function j
(k,
l,
m,
n){

var o=i.normalizeComposerID(l),
p=
{ComposerModule:k,
props:l,
container:m,
asyncPreloader:n,
hidden:false};

this._render(p);
this._preloadAsyncData(p);
i.instances.set(o,p);
c('Arbiter').inform(c('ReactComposerEvents').INSTANCE_MOUNTED+o);},


_render:function j(k){





var l=k.ComposerModule,m=k.props,n=k.container;
c('ReactDOM').render
(c('React').createElement(l,m),
n);},



_preloadAsyncData:function j(k){
var l=k.props,m=k.asyncPreloader;



if(m==null||l.config.audienceXHP)
return;

m.onLoaded(function(n){var o=n.audienceXHP;
l.config=babelHelpers['extends']({},
l.config,
{audienceXHP:l.config.audienceXHP||o});

this._render(k);}.
bind(this));},


_createNewComposer:function j
(k,
l){

k.props.contextConfig.composerID=c('ReactComposerIDGenerator').getID();
k.props.prefillConfig={};

i.init
(k.ComposerModule,
k.props,
l,
k.asyncPreloader);},




resetComposer:function j(k){
var l=i._getCurrentInstance(k);

i.unmountInstance(k);
if(l.hidden){


l.container.parentNode&&
l.container.parentNode.removeChild(l.container);}else 


i._createNewComposer
(l,
l.container);





c('Arbiter').inform
(c('ReactComposerEvents').COMPOSER_RESET+k,

{newComposerID:l.props.contextConfig.composerID});},








hideAndReplaceComposer:function j(k){
var l=i._getCurrentInstance(k),

m=l.container.cloneNode(false);
l.container.style.display='none';
l.container.removeAttribute('id');
l.container.parentNode&&
l.container.parentNode.appendChild(m);
l.hidden=true;

i._createNewComposer(l,m);


c('Arbiter').inform
(c('ReactComposerEvents').COMPOSER_RESET+k,

{newComposerID:l.props.contextConfig.composerID});},




isInstanceMounted:function j(k){
return !!i.instances.get(k);},


unmountInstance:function j(k){
if(i.isInstanceMounted(k)&&
!i._isUnmounting){


i._isUnmounting=true;
i._unmountReact(k);
i._isUnmounting=false;
i.instances['delete'](k);}},



_unmountReact:function j(k){
var l=i._getCurrentInstance(k);
c('ReactDOM').unmountComponentAtNode(l.container);
c('Arbiter').inform(c('ReactComposerEvents').COMPOSER_UNMOUNT+k);
return l;},


_getCurrentInstance:function j(k){
var l=i.instances.get(k);
l||h(0,'No composer instance for id: %s',k);
return l;}};



f.exports=i;}),null);

/** js/react_composer/ui/sprouts/ReactComposerSproutsDisplayState.js */





__d('ReactComposerSproutsDisplayState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){



f.exports=c('keyMirrorRecursive')
({INLINE:null,
EXPANDED:null},
'ReactComposerSproutsDisplayState');}),null);

/** js/react_composer/flux/ReactComposerStore.js */





__d('ReactComposerStore',['ReactComposerActionStore','ReactComposerActionTypes','ReactComposerSproutsDisplayState','ReactComposerAttachmentActionType','ReactComposerScrapedAttachmentActionType','ReactComposerInit','Bootloader'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits










(j,c('ReactComposerActionStore'));i=h&&h.prototype;
function j(){'use strict';
var k;
i.constructor.call(this,
function(){

return {isActive:false,
serverErrorResponse:null,
posting:false,
postSucceeded:false,
publishing:false,
ref:null,
targetType:null,
sproutsDisplayState:c('ReactComposerSproutsDisplayState').INLINE,
scheduledPublishTime:null};},


function(l){
switch(l.type){
case c('ReactComposerActionTypes').INIT_CONFIG:
k&&k.$ReactComposerStore_handleInitConfig(l);
break;
case c('ReactComposerActionTypes').PUBLISH_STARTED:
k&&k.$ReactComposerStore_handlePublishStarted(l);
break;
case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:
k&&k.$ReactComposerStore_handleSelectAttachment(l);
break;
case c('ReactComposerActionTypes').EXPAND_SPROUTS:
k&&k.$ReactComposerStore_handleExpandSprouts(l);
break;
case c('ReactComposerActionTypes').COLLAPSE_SPROUTS:
k&&k.$ReactComposerStore_handleCollapseSprouts(l);
break;
case c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT:
case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:
k&&k.$ReactComposerStore_handleUploadAttachment(l);
break;
case c('ReactComposerActionTypes').SCHEDULE:
k&&k.$ReactComposerStore_handleSchedule(l);
break;}});



k=this;}
j.prototype.

$ReactComposerStore_handleSchedule=function(k){'use strict';
var l=this.getComposerData(k.composerID);
l.scheduledPublishTime=k.scheduleDate;};
j.prototype.

getScheduledPublishTime=function(k){'use strict';
return this.getComposerData(k).scheduledPublishTime;};
j.prototype.

getServerErrorResponse=function(k){'use strict';
return this.getComposerData(k).serverErrorResponse;};
j.prototype.

getRef=function(k){'use strict';
return this.getComposerData(k).ref;};
j.prototype.

getTargetType=function(k){'use strict';
return this.getComposerData(k).targetType;};
j.prototype.

isPosting=function(k){'use strict';
return this.getComposerData(k).posting;};
j.prototype.

hasPostSucceeded=function(k){'use strict';
return this.getComposerData(k).postSucceeded;};
j.prototype.

isActive=function(k){'use strict';
return this.getComposerData(k).isActive;};
j.prototype.

isPublishing=function(k){'use strict';
return this.getComposerData(k).publishing;};
j.prototype.

getSproutsDisplayState=function(k){
'use strict';
return this.getComposerData(k).sproutsDisplayState;};
j.prototype.

isUploading=function(k){'use strict';
return this.getComposerData(k).uploading;};
j.prototype.


__shouldIgnoreAction=function(k){'use strict';
return false;};
j.prototype.

__onPostStarted=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(k.composerID);
m.posting=true;

this.emitChange(l);};
j.prototype.

__onPostSucceeded=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(k.composerID);
m.serverErrorResponse=null;
m.posting=false;
m.postSucceeded=true;
m.publishing=false;

this.emitChange(l);};
j.prototype.

__onPostError=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(k.composerID);
m.serverErrorResponse=k.response;
m.posting=false;
m.postSucceeded=false;
m.publishing=false;

this.emitChange(l);};
j.prototype.

__onPostFinally=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(k.composerID);
m.posting=false;
m.publishing=false;

this.emitChange(l);};
j.prototype.

$ReactComposerStore_handleInitConfig=function(k){'use strict';var l=




this.validateAction
(k,

['composerID',
'loggingConfig',
'activateOnInit']),m=l[0],n=l[1],o=l[2],


p=this.getComposerData(m);

p.ref=n.ref;
p.composerVersion=n.composerVersion;
p.targetType=n.targetType;

if(o){
this.$ReactComposerStore_activateComposer(m);



this.emitChange(m);}};

j.prototype.

$ReactComposerStore_handlePublishStarted=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(k.composerID);
m.publishing=true;

this.emitChange(l);};
j.prototype.

$ReactComposerStore_handleUploadAttachment=function(k){'use strict';
var l=this.validateAction(k,'composerID'),
m=this.getComposerData(k.composerID);
m.uploading=k.uploading;
this.emitChange(l);};
j.prototype.

$ReactComposerStore_handleSelectAttachment=function(k){'use strict';
var l=this.validateAction(k,'composerID'),

m=this.getComposerData(l);


m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;



this.$ReactComposerStore_activateComposer(l);

this.emitChange(l);};
j.prototype.

$ReactComposerStore_handleExpandSprouts=function(k){'use strict';
var l=this.validateAction(k,'composerID'),
m=this.getComposerData(l);

m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;

this.emitChange(l);};
j.prototype.

$ReactComposerStore_handleCollapseSprouts=function(k){'use strict';
var l=this.validateAction(k,'composerID'),
m=this.getComposerData(l);

m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').INLINE;

this.emitChange(l);};
j.prototype.

$ReactComposerStore_activateComposer=function(k){'use strict';
var l=this.getComposerData(k);

if(!l.isActive){
l.isActive=true;


c('Bootloader').loadModules
(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],





function(m,n,o,p){
return (n.onBeforeUnload(m
(o.handler,
k,
p.getNextURI())));},'ReactComposerStore');}};



j.prototype.

__cleanup=function(k){'use strict';
setTimeout
(c('ReactComposerInit').resetComposer.bind(null,k.composerID),
0);};




f.exports=new j();}),null);

/** js/react_composer/flux/ReactComposerActions.js */





__d('ReactComposerActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){







c('ReactComposerStore');

var h,







i=
{initConfig:function j
(k,
l,
m){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').INIT_CONFIG,
loggingConfig:l,
activateOnInit:m===true});},



schedule:function j
(k,
l){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').SCHEDULE,
scheduleDate:l});},



postError:function j
(k,
l){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').POST_ERROR,
response:l});},



postIntended:function j
(k,
l){



setTimeout(function(){



if(!h||
h
(k,
l.actorID,
l.config,
l.targetID))


c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').POST_INTENDED,
actorID:l.actorID,
config:l.config,
targetID:l.targetID});},


0);},


registerPostIntendedHandler:function j(k){
h=k;},


postStarted:function j
(k,
l){


var m=





l.actorID,n=l.composerType,o=l.config,p=l.onPostSuccess,q=l.targetID,r=babelHelpers.objectWithoutProperties(l,['actorID','composerType','config','onPostSuccess','targetID']);



setTimeout(function(){return c('ReactComposerDispatcher').dispatch
({composerID:k,
composerType:n,
type:c('ReactComposerActionTypes').POST_STARTED,
actorID:m,
config:o,
targetID:q,
onPostSuccess:p,
otherData:r});},
0);},


postSucceeded:function j
(k){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').POST_SUCCEEDED});},



postFinally:function j
(k,
l){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').POST_FINALLY,
response:l});},



publishStarted:function j
(k){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').PUBLISH_STARTED});},



reset:function j
(k){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').COMPOSER_RESET});},



expandSprouts:function j
(k){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').EXPAND_SPROUTS});},



collapseSprouts:function j
(k){

c('ReactComposerDispatcher').dispatch
({composerID:k,
type:c('ReactComposerActionTypes').COLLAPSE_SPROUTS});}};




f.exports=i;}),null);

/** js/react_composer/flux/ReactComposerFocusActionTypes.js */





__d('ReactComposerFocusActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){

'use strict';



f.exports=c('keyMirror')
({SUBSCRIBE:null,
UNSUBSCRIBE:null,
FOCUS_ACQUIRED:null,
FOCUS_LOST:null});}),null);

/** js/react_composer/flux/ReactComposerFocusActions.js */





__d('ReactComposerFocusActions',['ReactComposerFocusActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){

'use strict';




c('ReactComposerStore');

var h=
{subscribe:function i
(j,
k,
l){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerFocusActionTypes').SUBSCRIBE,
onFocusAcquiredCallback:k,
onFocusLostCallback:l});},



unsubscribe:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerFocusActionTypes').UNSUBSCRIBE});},



notifyFocusAcquired:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerFocusActionTypes').FOCUS_ACQUIRED});},



notifyFocusLost:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerFocusActionTypes').FOCUS_LOST});}};




f.exports=h;}),null);

/** js/react_composer/logging/ReactComposerLoggingActions.js */





__d('ReactComposerLoggingActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingName','ReactComposerMediaUploadActionType'],(function a(b,c,d,e,f,g){












var h=
{composerEntry:function i
(j,
k){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').COMPOSER_ENTRY,
uiElementName:k});},



mediaUploadInputClicked:function i
(j,
k){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED,
sourceLoggingName:k});},



mediaUploadInputDone:function i
(j,
k){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE,
sourceLoggingName:k});},



mediaFileDropped:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_INTENT,
featureType:c('ReactComposerFeatureType').MEDIA,
uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},



mediaFileDropFinished:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_DONE,
featureType:c('ReactComposerFeatureType').MEDIA,
uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},



mediaFilePasted:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_INTENT,
featureType:c('ReactComposerFeatureType').MEDIA,
uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},



mediaFilePasteFinished:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_DONE,
featureType:c('ReactComposerFeatureType').MEDIA,
uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},









collectionSelectorCancel:function i
(j,
k){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_CANCEL,
featureType:c('ReactComposerFeatureType').COLLECTIONS,
uiElementName:k});},



collectionSelectorDone:function i
(j,
k){

c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').FEATURE_DONE,
featureType:c('ReactComposerFeatureType').COLLECTIONS,
uiElementName:k});},



composerCancel:function i(j){
c('ReactComposerDispatcher').dispatch
({composerID:j,
type:c('ReactComposerActionTypes').COMPOSER_CANCEL});}};




f.exports=h;}),null);

/** js/react_composer/ui/focus_mask/ReactComposerFocusHandleScrollAway.js */





__d('ReactComposerFocusHandleScrollAway',['Event','getActiveElement','throttle'],(function a(b,c,d,e,f,g){

'use strict';








var h=-400,
i=300,

j=


{handler:function k
(l,
m){

var n=c('Event').listen
(window,
'scroll',
c('throttle')
(function(){

var o=l.getBoundingClientRect().bottom;
if(o<h){
m();



c('getActiveElement')().blur();

n.remove();}},


i));}};





f.exports=j;}),null);

/** js/react_composer/ui/focus_mask/ReactComposerFocusInit.js */





__d('ReactComposerFocusInit',['invariant','csx','DOM','DOMContainer.react','React','ReactDOM','Parent'],(function a(b,c,d,e,f,g,h,i){

'use strict';











var j=

{handler:function k
(l,
m,
n,
o,
p,
q){

var r=c('DOM').create('div'),
s=l.parentNode;

if(q){

var t=c('Parent').bySelector
(l,
"._3u13");

if(t!==null)
s=t.parentNode.parentNode;}



c('ReactDOM').render
(c('React').createElement(p,
{composerID:m,
actorID:n,
gks:o,
enableFocusBehavior:true},
c('React').createElement(c('DOMContainer.react'),
{display:'block'},
l)),


r);


s||h(0,'parentNode does not exist');



if(s.firstChild){
s.replaceChild(r,s.firstChild);}else 

s.appendChild(r);},



preload:function k(){

}};


f.exports=j;}),null);

/** js/react_composer/ui/focus_mask/ReactComposerFocusWrapperCore.react.js */






__d('ReactComposerFocusWrapperCore.react',['ix','cssVar','cx','ReactComposerEvents','Arbiter','CurrentUser','Event','Image.react','Keys','Link.react','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactComposerFocusActions','Run','SubscriptionsHandler','URI','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){























var k=c('React').PropTypes,

l=
parseInt("10px",10),

m=c('React').createClass({displayName:'ReactComposerFocusWrapperCore',
_composerID:'',
_fixedHeight:0,

_subscriptions:c('SubscriptionsHandler'),
_firstFocus:true,
_onLeaveHandle:null,

mixins:[c('ReactComponentWithPureRenderMixin')],



propTypes:
{composerID:k.string.isRequired,
ariaLabel:k.string,
onDismiss:k.func.isRequired,
onFocus:k.func.isRequired,
focused:k.bool.isRequired,
gks:k.object,


onFirstFocus:k.func,



fixHeight:k.bool},


getDefaultProps:function n(){

return {focused:false,
fixHeight:false};},



componentWillMount:function n(){
this._composerID=this.props.composerID;},


componentWillReceiveProps:function n(o){
if(this.props.fixHeight&&!this.props.focused&&o.focused){
var p=c('ReactDOM').findDOMNode(this.refs.container);

this._fixedHeight=p.offsetHeight+l;}},



componentDidMount:function n(){
this._subscriptions=new (c('SubscriptionsHandler'))();
this._subscribeComposerEvents();
this._onLeaveHandle=c('Run').onLeave(this._onDismiss);},


componentDidUpdate:function n(o){
if(!o.focused&&this.props.focused)







try{var p=document.createEvent('HTMLEvents');
if(p.initEvent){
p.initEvent('resize',true,false);
window.dispatchEvent(new (c('Event'))('resize'));}}catch(

p){


}},



componentWillUnmount:function n(){

this._subscriptions&&this._subscriptions.release();
this._onDismiss();
if(this._onLeaveHandle)
this._onLeaveHandle.remove();},



render:function n(){
var o=this.props.fixHeight&&this.props.focused?
{height:this._fixedHeight}:
null,

p=this.props.focused?
this._renderDismissButton():
null,

q=this.props.focused?
this._renderBugNub():
null;


return (c('React').createElement('div',
{role:'dialog',
'aria-label':this.props.ariaLabel,
className:"_3u13"+(' '+"_3e9r")+


(this.props.focused?' '+"_3u14":'')+
(this.props.focused?' '+"_1b3n":''),

style:o,
onKeyDown:this._onKeyDown},
c('React').createElement('div',
{className:"_3u15",
onClick:this._onDismiss,
role:'presentation'}),
c('React').createElement('div',
{className:"_3u16",
ref:'container',
onFocus:this._onFocus},


this.props.children,
p),

q));},




getComposerID:function n(){
return this._composerID;},


getComposer:function n(){
return this.refs.container;},


_renderDismissButton:function n(){

return (c('React').createElement('div',
{className:"_3u17"+


(this.props.gks&&this.props.gks.topPostButton?' '+"_nse":'')+

(this.props.gks&&this.props.gks.hasHeader?' '+"_356d":'')+

(this.props.gks&&this.props.gks.isSproutsComposer?' '+"_3_fz":''),

onClick:this._onDismiss,
role:'button',
tabIndex:'0'},
c('React').createElement(c('Image.react'),
{src:h("125922")})));},








_renderBugNub:function n(){
if(!c('CurrentUser').isEmployee())
return null;


var o=new (c('URI'))('/ajax/bugs/report');


return (c('React').createElement('div',{className:"_t95"},
c('React').createElement(c('Link.react'),
{href:'#',
ajaxify:o,
className:"_t97",
rel:'dialog'})));},







_subscribeComposerEvents:function n(){
var o=c('Arbiter').subscribe
(c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+this._composerID,
function(){
this.props.onDismiss(true);}.
bind(this)),

p=c('Arbiter').subscribe
(c('ReactComposerEvents').POST_SUCCEEDED+this._composerID,

function(){
this.props.onDismiss(true);}.
bind(this)),

q=c('Arbiter').subscribe
('ReactFeedComposerXBootloader/focuscomposer/'+this._composerID,
function(){return this._onFocus();}.bind(this)),

r=c('Arbiter').subscribe
(c('ReactComposerEvents').COMPOSER_RESET+this._composerID,
function(s,t){
if(t&&t.newComposerID){
this._composerID=t.newComposerID;

this._subscriptions.release();
this._subscriptions=new (c('SubscriptionsHandler'))();
this._subscribeComposerEvents();}}.

bind(this));



this._subscriptions.addSubscriptions
(o,
p,
q,
r);},



_onFocus:function n(){
if(this.props.focused)
return;


if(this._firstFocus){
this.props.onFirstFocus&&this.props.onFirstFocus();
this._firstFocus=false;}

this.props.onFocus();
c('ReactComposerFocusActions').notifyFocusAcquired(this.props.composerID);},


_onKeyDown:function n(o){
if(o.keyCode===c('Keys').ESC&&!o.nativeEvent.isPropagationStopped)
this._onDismiss();},



_onDismiss:function n(){
this.props.onDismiss();
c('ReactComposerFocusActions').notifyFocusLost(this.props.composerID);}});



f.exports=m;}),null);

/** js/react_composer/ui/focus_mask/ReactComposerFocusInline.react.js */






__d('ReactComposerFocusInline.react',['ReactComposerFocusHandleScrollAway','ReactComposerFocusWrapperCore.react','ReactComposerActions','Arbiter','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,









j=c('React').PropTypes;h=babelHelpers.inherits

(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.











state=
{focused:false},this.






















$ReactComposerFocusInline_enableFocus=function(){
var q=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());

c('ReactComposerFocusHandleScrollAway').handler(q,this.$ReactComposerFocusInline_disableFocus);
this.setState({focused:true});}.
bind(this),this.

$ReactComposerFocusInline_disableFocus=function(){
c('Arbiter').inform('ReactComposerFocus/collapse/'+this.props.composerID);
setTimeout(function(){
c('ReactComposerActions').collapseSprouts(this.props.composerID);}.
bind(this),0);
this.setState({focused:false});}.
bind(this),m;}k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusInline_disableFocus();};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused&&this.props.enableFocusBehavior,onFocus:this.$ReactComposerFocusInline_enableFocus,onDismiss:this.$ReactComposerFocusInline_disableFocus,gks:this.props.gks,ref:'focus'},this.props.children);};k.propTypes={composerID:j.string.isRequired,gks:j.object};



f.exports=k;}),null);

/** js/reactions/UFIReactionIconImpl.react.js */





__d('UFIReactionIconImpl.react',['cx','Image.react','React','UFIConfig','UFIReactionTypes','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,









k=c('React').PropTypes;i=babelHelpers.inherits

(l,c('React').Component);j=i&&i.prototype;l.prototype.


shouldComponentUpdate=function(m,n){'use strict';

return (m.className!==this.props.className||
m.reaction!==this.props.reaction||
m.size!==this.props.size||
m.grayscale!==this.props.grayscale);};

l.prototype.

renderImage=function(){'use strict';
var m=c('UFIReactionTypes').reactions[this.props.reaction].name,
n='/images/ufi/reactions/v6/svg/'+m+'.svg';

if(this.props.hasStaticSVGDock){

return (c('React').createElement(c('Image.react'),
{style:{position:'absolute'},
src:n}));}else 



return (c('React').createElement('i',
{className:c('joinClasses')
(c('UFIReactionTypes').reactions[this.props.reaction].class_name,"_2p78"+


(this.props.size==='13'?' '+"_9-y":'')+
(this.props.size==='16'?' '+"_9--":'')+
(this.props.size==='48'?' '+"_9-_":'')+
(this.props.size==='96'?' '+"_9_0":'')+
(this.props.grayscale?' '+"_pxi":''))}));};





l.prototype.

render=function(){'use strict';

return (c('React').createElement('span',
{className:c('joinClasses')("_9zc"+


(this.props.size==='13'?' '+"_2p79":'')+
(this.props.size==='16'?' '+"_2p7a":'')+
(this.props.size==='48'?' '+"_2p7b":'')+
(this.props.size==='96'?' '+"_9-w":''),

this.props.className,

!!c('UFIConfig').showCustom?"_3uet":'')},


this.renderImage()));};


function l(){'use strict';i.apply(this,arguments);}


l.propTypes=
{className:k.string,
grayscale:k.bool,
isSVGDock:k.bool,
reaction:k.number.isRequired,
size:k.oneOf(['13','16','48','96'])};







l.defaultProps=
{className:null,
grayscale:false,
isSVGDock:false,
size:'16'};


f.exports=l;}),null);

/** js/reactions/UFIReactionsLinkImpl.react.js */






__d('UFIReactionsLinkImpl.react',['cx','fbt','BanzaiLogger','BootloadedComponent.react','Bootloader','Deferred','Event','JSResource','React','ReactDOM','ReactionNuxTypeEnum','SubscriptionsHandler','UFIConfig','UFILikeWebDriverIDs','UFIReactionIconImpl.react','UFIReactionTypes','UFICommentAction','UFIStoryAction','addFocusEvents','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,


















l=c('React').Component,m=c('React').PropTypes,






n=c('UFIConfig').reactionsFunnelLogger,
o=c('UFIConfig').reactionsHasCommentFunnelLogger,
p=c('UFIConfig').reactionsHasFunnelLogger,







q=false,
r=false,
s=null,

t=null,

u=c('React').createElement('div',null),
v=150,

w=c('UFIReactionTypes').reactions,
x=Object.keys(w),

y=20,
z=525,
aa=750,
ba=700,
ca=850,
da=500,
ea=
c('UFIConfig').reactionsHasReactionLinkPerfFixes,
fa=
c('UFIConfig').reactionsHasReactionLinkPerfFixes,

ga='ontouchstart' in window,

ha=i._(["Show more reactions","cdc0d408ecdecbe7fa4dd446ff277d53"]),





ia=i._(["New! React to what you're seeing","355da1d0b68a8ffe92867085e6c9b7e8"]),



ja=i._(["Hover on the Like button to open Reactions. Then, you can drag and place them wherever you want.","5e4bc089c8631f607c637801185677fc"]),








ka=new (c('Deferred'))(),

la=function qa(){
if(!s){
var ra=function sa(ta){
s=ta;
if(ka){
ka.done(na,na);
ka.resolve();}};



if(c('UFIConfig').reactionsHasAnimatedIconsOnHover){
c('Bootloader').loadModules
(["UFIReactionsMenuWithAnimatedVectorIcons.react"],
ra,'UFIReactionsLinkImpl.react');}else

if(c('UFIConfig').reactionsHasStaticVectorDock){
c('Bootloader').loadModules
(["UFIReactionsMenuWithStaticVectorIcons.react"],
ra,'UFIReactionsLinkImpl.react');}else 


c('Bootloader').loadModules(["UFIReactionsMenuImpl.react"],ra,'UFIReactionsLinkImpl.react');}},




ma=function qa(ra){
if(!t){
var sa=function ta(ua){
t=ua;
ra();};

c('Bootloader').loadModules(["SpatialReactionsProductionStore"],sa,'UFIReactionsLinkImpl.react');}else 

ra();},



na=function qa(){
ka=null;},


oa=c('addFocusEvents')('a');j=babelHelpers.inherits




































(pa,l);k=j&&j.prototype;



















function pa(qa,ra){'use strict';
k.constructor.call(this,qa,ra);this.







































































































































hideDialog=function(){
this.setState
({dialogShown:false,
isScrubbing:false});}.

bind(this);this.

showDialog=function(){
if(this.dialogShownTime===0)
this.dialogShownTime=Date.now();


if(!this.state.dialogShown)
this.state.logToFunnel&&n.menuShow(this.state.logAsComment);


q=true;

this.setState
({dialogShown:true,
NUXShown:false});}.

bind(this);this.

onClick=function(event){
event.preventDefault();var ta=
this.props,ua=ta.reaction,va=ta.suggestedReaction;

if(!ua||
ua===c('UFIReactionTypes').LIKE||
!w[ua]){

if(!ua&&this.props.nuxConfig){
var wa=this.props.nuxConfig.nuxType;
if(wa===c('ReactionNuxTypeEnum').LIKE_CLICK||
wa===c('ReactionNuxTypeEnum').LIKE_CLICK_RENUX)
this.maybeShowNUX();}


var xa=
va&&this.hasSuggestedReaction?
va:
c('UFIReactionTypes').LIKE;
ua=ua?c('UFIReactionTypes').NONE:xa;
this.onReactionChange(ua,event);

this.$UFIReactionsLink_log(ua,true);}else 

this.onReactionChange(0,event);


this.setState
({dialogShown:false,
isMouseOver:false,
isScrubbing:false});}.

bind(this);this.

onClickCapture=function(event){
event.stopPropagation();
this.setState
({isLongPressing:false});}.

bind(this);this.

onContextMenu=function(event){
if(this.state.isTouchDown)
event.preventDefault();}.

bind(this);this.





onMouseDown=function(event){
clearTimeout(this.hoverTimeout);}.
bind(this);this.

onMouseEnter=function(event){
clearTimeout(this.hoverTimeout);


var ta=this.props.comment?
ba:
z;
if(!this.state.dialogShown)
this.hoverTimeout=setTimeout(this.showDialog,ta);


if(!fa)
this.setState
({isMouseOver:true});



la();

if(!this.state.dialogShown&&this.state.logToFunnel)

this.logFunnelTimeout=setTimeout
(function(){return n.likeButtonEnter
(this.props.reaction,
this.state.logAsComment);}.bind(this),

v);}.


bind(this);this.

onMouseLeave=function(event){
clearTimeout(this.hoverTimeout);
clearTimeout(this.logFunnelTimeout);
var ta=this.props.contextArgs.showSpatialReactions,


ua=this.props.comment?
ca:
aa;
if(this.state.dialogShown)
if(ta){
ma(function(){

if(t&&
t.shouldLeaveReactionMenuOpen()){

this.$UFIReactionsLink_waitForSpatialReactionInteractionAndThen(this.hideDialog);}else 

this.hoverTimeout=setTimeout(this.hideDialog,ua);}.

bind(this));}else 

this.hoverTimeout=setTimeout(this.hideDialog,ua);



if(!fa)
this.setState
({isMouseOver:false});}.


bind(this);this.

onReactionMenuMouseEnter=function(event){
clearTimeout(this.hoverTimeout);}.
bind(this);this.

onTouchStart=function(event){
if(!this.state.dialogShown){
this.mouseDownTime=Date.now();
this.mouseUpTime=0;

this.longPressTimeout=setTimeout
(function(){
if(this.dialogShownTime===0)
this.dialogShownTime=Date.now();


this.setState
({dialogShown:true,
NUXShown:false,
isLongPressing:true});}.

bind(this),
da);


la();}


this.setState
({isTouchDown:true,
isLongPressing:false});}.

bind(this);this.

onTouchEnd=function(event){
if(this.state.isLongPressing)
this.mouseUpTime=Date.now();


this.dragStartX=null;
this.dragStartY=null;

clearTimeout(this.longPressTimeout);

this.setState
({isTouchDown:false});}.

bind(this);this.

onTouchMove=function(event){
if(this.state.isScrubbing)
return;


var ta=event.touches[0],

ua=

ta.clientX,va=ta.clientY;

if(this.dragStartX===null&&
this.dragStartY===null){
this.dragStartX=ua;
this.dragStartY=va;
return;}


if(typeof this.dragStartX==='number'&&
typeof this.dragStartY==='number'&&
(this.dragStartX>ua+y||
this.dragStartX<ua-y||
this.dragStartY>va+y||
this.dragStartY<va-y))
this.setState
({isScrubbing:true});}.


bind(this);this.

onReactionChange=
function(ta,
event){


var ua=arguments.length<=2||arguments[2]===undefined?null:arguments[2],va=arguments.length<=3||arguments[3]===undefined?null:arguments[3];
this.$UFIReactionsLink_log(ta);

var wa=c('ReactDOM').findDOMNode(this.refs.trigger);

if(this.state.logToFunnel)
event.target===wa?
n.likeButtonClick(ta,this.state.logAsComment):
n.reactionSelection(ta,this.state.logAsComment);


var xa=void 0;
if(this.props.comment){
xa=c('UFICommentAction').changeReaction
(this.props.contextArgs,
this.props.comment,
ta,

wa);}else 


xa=c('UFIStoryAction').changeReaction
(this.props.contextArgs,
ta,

wa,
ua,
va);



this.context.dispatch(xa);
var ya=function(){
this.setState
({dialogShown:false,
isScrubbing:false});}.

bind(this);

if(this.props.contextArgs.showSpatialReactions){
ma(function(){

if(t&&
t.shouldLeaveReactionMenuOpen()){

this.$UFIReactionsLink_waitForSpatialReactionInteractionAndThen(function(){
ya();});}else 


ya();}.

bind(this));}else 

ya();}.

bind(this);this.

onReactionMouseEnter=function(ta,event){
if(this.reactionsHoverStartTimeMap[ta]===0)
this.reactionsHoverStartTimeMap[ta]=Date.now();}.

bind(this);this.

onReactionMouseLeave=function(ta,event){
if(this.reactionsHoverStartTimeMap[ta]){
this.reactionsHoverTotalTimeMap[ta]+=
Date.now()-this.reactionsHoverStartTimeMap[ta];
this.reactionsHoverStartTimeMap[ta]=0;}}.

bind(this);this.

onKeyboardFocus=function(){
this.allowKeyboardFocus=true;
this.showDialog();}.
bind(this);this.

onScreenReaderTrigger=function(){
r=true;
this.allowKeyboardFocus=true;
this.showDialog();}.
bind(this);this.dragStartX=null;this.dragStartY=null;this.hasSuggestedReaction=c('UFIConfig').reactionsHasSuggestedReaction;this.subscriptionsHandler=new (c('SubscriptionsHandler'))();if(ka)ka.done(function(){if(!ea||this.state.dialogShown)this.forceUpdate();}.bind(this),function(){ka=null;});var sa=false;if(n&&(p&&this.props.comment===undefined||o&&this.props.comment!==undefined))sa=true;this.state={dialogShown:false,isLongPressing:false,isMouseOver:false,isScrubbing:false,isTouchDown:false,logToFunnel:sa,logAsComment:!!this.props.comment&&o,NUXShown:false,shouldBounce:false};}pa.prototype.shouldComponentUpdate=function(qa,ra){'use strict';return c('shallowCompare')(this,qa,ra);};pa.prototype.componentWillReceiveProps=function(qa){'use strict';this.setState({shouldBounce:!!qa.reaction&&qa.reaction!==this.props.reaction});};pa.prototype.componentWillUpdate=function(qa,ra){'use strict';if(this.state.dialogShown&&!ra.dialogShown)this.$UFIReactionsLink_log(this.props.reaction);};pa.prototype.componentDidUpdate=function(qa,ra){var sa,ta=this;'use strict';if(!ra.dialogShown&&this.state.dialogShown){if(ga)(function(){var ua=void 0;ta.subscriptionsHandler.addSubscriptions(c('Event').listen(document.documentElement,'touchstart',function(event){ua=event.touches[0];}),c('Event').listen(document.documentElement,'touchmove',function(event){ua=event.touches[0];}),c('Event').listen(document.documentElement,'touchend',function(event){if(ua&&!this.refs.root.contains(document.elementFromPoint(ua.clientX,ua.clientY)))this.setState({dialogShown:false,isScrubbing:false});}.bind(ta)));})();}else if(ra.dialogShown&&!this.state.dialogShown){this.subscriptionsHandler.release();this.subscriptionsHandler=new (c('SubscriptionsHandler'))();}};pa.prototype.componentDidMount=function(){'use strict';this.$UFIReactionsLink_resetLoggingVariables();if(this.props.nuxConfig){var qa=this.props.nuxConfig.nuxType;if(qa===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)this.maybeShowNUX();}};pa.prototype.componentWillUnmount=function(){'use strict';this.subscriptionsHandler.release();ka&&ka.reject();};pa.prototype.maybeShowNUX=function(){'use strict';var qa=null;if(this.props.nuxConfig)qa=this.props.nuxConfig.nuxType;if(!q){q=true;this.setState({NUXShown:true,dialogShown:false});if(qa!==c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)c('BanzaiLogger').log('WebReactionsNuxLoggerConfig',{feedback_id:this.props.contextArgs.ftentidentifier,'interface':'www'});}};pa.prototype.onDragStart=function(event){'use strict';event.preventDefault();};pa.prototype.

renderMenu=function(){'use strict';
if(this.state.dialogShown)
la();


if(!s)
return null;


var qa=this.allowKeyboardFocus;
this.allowKeyboardFocus=false;


return (c('React').createElement(s,
{allowKeyboardFocus:qa,
initialReaction:this.props.reaction,
isLongPressing:this.state.isLongPressing,
isScreenReader:r,
instanceId:this.props.contextArgs.instanceid,
onMouseEnter:this.onReactionMenuMouseEnter,
onMouseLeave:this.onMouseLeave,
onReactionClick:this.onReactionChange,
onBlur:this.hideDialog,
onFocus:this.showDialog,
onReactionMouseEnter:this.onReactionMouseEnter,
onReactionMouseLeave:this.onReactionMouseLeave,
shown:this.state.dialogShown,
supportedReactions:this.props.supportedReactions,
showSpatialReactions:this.props.contextArgs.showSpatialReactions}));};


pa.prototype.

renderTrigger=function(){'use strict';var qa=
this.props,ra=qa.reaction,sa=qa.suggestedReaction;





if(ra&&!w[ra])
ra=null;


var ta=ra?
c('UFILikeWebDriverIDs').UNLIKE_LINK:
c('UFILikeWebDriverIDs').LIKE_LINK,

ua=void 0,
va=void 0,
wa=void 0,
xa=void 0;
if(this.props.comment){
var ya=false;
if(!ra){
ua=w[c('UFIReactionTypes').LIKE].display_name;}else{

ua=w[ra].display_name;
xa=w[ra].color;
ya=true;}


wa="UFILikeLink"+(' '+"UFIReactionLink")+


(ya?' '+"UFILinkBright":'');}else{


if(!ra){
ua=sa&&this.hasSuggestedReaction?
w[sa].display_name:
w[c('UFIReactionTypes').LIKE].display_name;}else 

ua=w[ra].display_name;



if(ra&&ra!=c('UFIReactionTypes').LIKE||
!ra&&
sa&&
this.hasSuggestedReaction&&
sa!=c('UFIReactionTypes').LIKE)

va=
c('React').createElement(c('UFIReactionIconImpl.react'),
{className:"_1ktw",
grayscale:!ra&&!!sa,
reaction:ra||sa,
size:'13'});


wa="UFILikeLink"+(' '+"_4x9-")+(' '+"_4x9_")+



(!va?' '+"_48-k":'')+
(ra?' '+"UFILinkBright":'')+
(this.state.shouldBounce?' '+"_3_mo":'');

xa=ra?w[ra].color:null;}



return (c('React').createElement(oa,
{'aria-pressed':!!ra,
className:wa,
'data-testid':ta,
'data-interaction-root-id':"_2y9l",
href:'#',
onClick:this.onClick,
onClickCapture:this.state.isLongPressing?this.onClickCapture:null,
onContextMenu:this.onContextMenu,
onDragStart:this.onDragStart,
onKeyboardFocus:s?null:this.onKeyboardFocus,
onMouseDown:this.onMouseDown,
onMouseEnter:this.onMouseEnter,
onMouseLeave:this.onMouseLeave,
onTouchEnd:ga?this.onTouchEnd:null,
onTouchMove:ga?this.onTouchMove:null,
onTouchStart:ga?this.onTouchStart:null,
ref:'trigger',
role:'button',
style:{color:xa},
tabIndex:s?-1:0},
va,
ua));};


pa.prototype.

renderNUX=function(){'use strict';
var qa=this.refs.root,
ra=this.props.comment!==undefined,
sa=
this.props.nuxConfig&&this.props.nuxConfig.titleOverride,
ta=
this.props.nuxConfig&&this.props.nuxConfig.textOverride;
if(!this.state.NUXShown||!qa)
return null;



if(this.props.nuxConfig&&
this.props.nuxConfig.nuxType===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX){

sa=ia;
ta=ja;}



return (c('React').createElement(c('BootloadedComponent.react'),
{bootloadPlaceholder:u,
bootloadLoader:c('JSResource')('UFIReactionsNUX.react').__setRef('UFIReactionsLinkImpl.react'),
context:qa,
titleOverride:sa,
textOverride:ta,
isCommentReactionNux:ra,
nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey}));};


pa.prototype.

renderScreenReaderTrigger=function(){'use strict';
if(s)
return null;



return (c('React').createElement('span',
{className:'accessible_elem',
'data-accessibilityid':'virtual_cursor_trigger',
onClick:this.onScreenReaderTrigger,
role:'button',
tabIndex:-1},
ha));};


pa.prototype.

render=function(){'use strict';

return (c('React').createElement('div',
{className:"_khz"+

(this.state.isScrubbing?' '+"_4bdq":''),

'data-interaction-root-id':"_2y9m",
ref:'root'},
this.renderTrigger(),
this.renderScreenReaderTrigger(),
this.renderMenu(),
this.renderNUX()));};


pa.prototype.

$UFIReactionsLink_resetLoggingVariables=function(){'use strict';
this.dialogShownTime=0;
this.reactionsHoverStartTimeMap={};
this.reactionsHoverTotalTimeMap={};
x.forEach(function(qa){
this.reactionsHoverStartTimeMap[qa]=0;
this.reactionsHoverTotalTimeMap[qa]=0;}.
bind(this));};
pa.prototype.

$UFIReactionsLink_waitForSpatialReactionInteractionAndThen=function(qa){var ra;'use strict';
if(t)(function(){
var sa=
t.addListener(function(){

if(t&&
!t.shouldLeaveReactionMenuOpen()){

sa.remove();
qa();}});})

();};

pa.prototype.

$UFIReactionsLink_log=function(qa,ra){'use strict';
if(this.dialogShownTime!==0){
var sa=
{feedback_id:this.props.contextArgs.ftentidentifier,
final_reaction:qa,
initial_reaction:this.props.reaction,
'interface':'www',
long_press_duration:
this.mouseDownTime!==0&&this.mouseUpTime!==0?
this.mouseUpTime-this.mouseDownTime:
0,
non_reaction_like:ra,
time_spent:Date.now()-this.dialogShownTime};


for(var ta in this.reactionsHoverTotalTimeMap){
var ua=
'time_spent_'+w[ta].name.toLowerCase();
sa[ua]=this.reactionsHoverTotalTimeMap[ta];}


c('BanzaiLogger').log
('UserReactionsLoggerConfig',
sa);

this.$UFIReactionsLink_resetLoggingVariables();}};

pa.contextTypes={dispatch:m.func};


f.exports=pa;}),null);

/** js/video/player/api/PriorityJobQueue.js */





__d('PriorityJobQueue',['Promise','Map'],(function a(b,c,d,e,f,g){

'use strict';



var h=1;

























function i(j){this.$PriorityJobQueue_queuedJobs=new (c('Map'))();this.$PriorityJobQueue_runningJobs=new (c('Map'))();this.$PriorityJobQueue_isJobBeingScheduled=false;this.$PriorityJobQueue_jobWillStartCallbacks=new (c('Map'))();this.















$PriorityJobQueue_startJobsFromQueue=function(){
var k=this.$PriorityJobQueue_runningJobs.size,
l=Date.now();
if(k<this.$PriorityJobQueue_maxConcurrency){
var m=this.$PriorityJobQueue_maxConcurrency-k,
n=Array.from(this.$PriorityJobQueue_queuedJobs.values());

n.sort(function(q,r){
return r.job.getPriority(l-r.timeQueued)-
q.job.getPriority(l-q.timeQueued);});

var o=this.$PriorityJobQueue_queuedJobs.size;
for(var p=0;p<Math.min(o,m);p++)
this.$PriorityJobQueue_startJob(n[p]);}


this.$PriorityJobQueue_isJobBeingScheduled=false;}.
bind(this);this.$PriorityJobQueue_maxConcurrency=j||h;}i.prototype.$PriorityJobQueue_onJobDone=function(j){this.$PriorityJobQueue_runningJobs['delete'](j);this.$PriorityJobQueue_runJobsAsync();};i.prototype.$PriorityJobQueue_runJobsAsync=function(){if(!this.$PriorityJobQueue_isJobBeingScheduled){this.$PriorityJobQueue_isJobBeingScheduled=true;c('Promise').resolve().then(this.$PriorityJobQueue_startJobsFromQueue).done();}};i.prototype.

$PriorityJobQueue_startJob=function(j){
var k=j.job,
l=k.getJobID();
this.$PriorityJobQueue_queuedJobs['delete'](l);
this.$PriorityJobQueue_runningJobs.set(l,j);
k.getPromise().then(function(){return this.$PriorityJobQueue_onJobDone(l);}.bind(this))['catch']();
var m=this.$PriorityJobQueue_jobWillStartCallbacks.get(l);
m&&m();
this.$PriorityJobQueue_jobWillStartCallbacks['delete'](l);
k.start();};
i.prototype.








enqueue=
function(j,
k){

var l=
{job:j,
timeQueued:Date.now()},


m=j.getJobID();
this.$PriorityJobQueue_queuedJobs.set(m,l);
if(k)
this.$PriorityJobQueue_jobWillStartCallbacks.set(m,k);

this.$PriorityJobQueue_runJobsAsync();
return this;};
i.prototype.

abort=function(j){
this.$PriorityJobQueue_queuedJobs['delete'](j);
var k=this.$PriorityJobQueue_runningJobs.get(j);
if(k){
k.job.abort();
this.$PriorityJobQueue_runningJobs['delete'](j);
this.$PriorityJobQueue_runJobsAsync();}};

i.



get=function(){
if(!i.$PriorityJobQueue_jobQueue)
i.$PriorityJobQueue_jobQueue=new i(h);

return i.$PriorityJobQueue_jobQueue;};



f.exports=i;}),null);

/** js/video/player/html5/shaka/VideoPlayerResourceTimer.js */





__d('VideoPlayerResourceTimer',[],(function a(b,c,d,e,f,g){

'use strict';













var h=









{getResourceTimingEntry:function i
(j,
k,
l){
var m;
if(performance.getEntriesByType){var m=function(){
var n=performance.getEntriesByName
(j,
'resource'),



o=[];
n.forEach(function(p){



if(typeof p.responseEnd==='number'&&
typeof p.responseStart==='number'&&
typeof p.requestStart==='number'&&
typeof p.connectEnd==='number'&&
typeof p.connectStart==='number'&&
typeof p.domainLookupEnd==='number'&&
typeof p.domainLookupStart==='number'&&
typeof p.transferSize==='number'&&
p.responseEnd<=l&&
p.startTime>=k)

o.push
({entry:
{timeToFirstByte:p.responseStart-p.startTime,
timeToLastByte:p.responseEnd-p.startTime,
timeToRequestStart:p.requestStart-p.startTime,
timeToConectionEnd:p.connectEnd-p.startTime,
timeToConnectionStart:p.connectStart-p.startTime,
timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,
timeToDomainLookupStart:
p.domainLookupStart-p.startTime,
transferSize:p.transferSize,
startTime:p.startTime},

sort:p.responseEnd});});





o.sort(function(p,q){return q.sort-p.sort;});
if(o.length)
return {v:o[0].entry};}
();if(typeof m==="object")return m.v;}

return null;}};



f.exports=h;}),null);

/** js/video/player/html5/shaka/VideoPlayerShakaBandwidthEstimator.js */





__d('VideoPlayerShakaBandwidthEstimator',['CacheStorage','requireWeak','Run','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){






var h=void 0;
c('requireWeak')('Shaka',function(l){
h=l.util.EWMACacheBandwidthEstimator;});


var i=null,
j=false;





function k(){'use strict';
var l=new (c('CacheStorage'))('localstorage','_video_'),
m=l.get('bandwidthEstimate');
this.$VideoPlayerShakaBandwidthEstimator_estimator=
{isMockObject:true,
getBandwidth:function n(){
return m;},

getFastMovingBandwidth:function n(){
return m;}};


if(h){
this.$VideoPlayerShakaBandwidthEstimator_estimator=new h
(c('VideoPlayerShakaExperiments').cacheDelay,
c('VideoPlayerShakaExperiments').cacheBandwidth,
m);

this.$VideoPlayerShakaBandwidthEstimator_estimator.isMockObject=false;}

c('Run').onUnload

(function(){
l.set
('bandwidthEstimate',
this.$VideoPlayerShakaBandwidthEstimator_estimator.getBandwidth());}.

bind(this));}

k.prototype.

getEstimator=function(){'use strict';
return this.$VideoPlayerShakaBandwidthEstimator_estimator;};
k.

getInstance=function(){'use strict';

if(i===null||
i.getEstimator().isMockObject&&h)

i=new k();

return i;};
k.

getEstimator=function(){'use strict';
return k.getInstance().getEstimator();};
k.

isAutoplayBandwidthRestrained=function(l){'use strict';
var m=k.getEstimator(),
n=void 0;

if(c('VideoPlayerShakaExperiments').blockAutoplayUseFastMovingAverage&&
j){

n=m.getFastMovingBandwidth();}else 

n=m.getBandwidth();


var o=l?
c('VideoPlayerShakaExperiments').liveBlockAutoplayBandwidthThreshold:
c('VideoPlayerShakaExperiments').blockAutoplayBandwidthThreshold;


if(n===null||n>o){

j=false;}else 

j=true;

return j;};



f.exports=k;}),null);

/** js/video/player/api/VideoDashPrefetchCache.js */





__d('VideoDashPrefetchCache',['Promise','regeneratorRuntime','Deferred','Map','PriorityJobQueue','Run','URI','VideoPlayerResourceTimer','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaExperiments','XHRRequest','getCrossOriginTransport','performanceNow'],(function a(b,c,d,e,f,g){

















var h=window.Promise||c('Promise');


c('Promise').resolve();












var i=null;

function j(p,q){

var r=new Error(p.errorMsg);
r.name=p.errorType;
r.type='preload';
r.url=q;
r.status=p.errorCode;
return r;}


function k(p){
var q=new (c('URI'))(p.url),
r=q.getDomain();







return r.endsWith('fbcdn.net')&&
!r.startsWith('interncache')&&
!r.endsWith('ak.fbcdn.net');}


function l
(p,
q,
r){



return {response:p.slice(q.start+0,q.end+1),
responseTime:r};}










function m(p,q,r){'use strict';
this.$UrlRequestJob_videoID=p;
this.$UrlRequestJob_url=q;
this.$UrlRequestJob_cursorProximity=r;

var s=new (c('XHRRequest'))(this.$UrlRequestJob_url).
setMethod('GET').
setResponseType('arraybuffer').
setTransportBuilder(c('getCrossOriginTransport'));
this.$UrlRequestJob_promise=new h(function(t,u){
s.setErrorHandler(function(v){
u(j(v,this.$UrlRequestJob_url));}.
bind(this));
s.setResponseHandler(function(v){



s.response=v;
t(s);});

s.setAbortHandler(function(){
u(this.$UrlRequestJob_promise,new Error('Request promise aborted'));}.
bind(this));}.
bind(this));
this.$UrlRequestJob_request=s;}
m.prototype.

getUrl=function(){'use strict';
return this.$UrlRequestJob_url;};
m.prototype.

getPromise=function(){'use strict';
return this.$UrlRequestJob_promise;};
m.prototype.

start=function(){'use strict';
this.$UrlRequestJob_request.send();};
m.prototype.

abort=function(){'use strict';
this.$UrlRequestJob_request.abort();};
m.prototype.

getPriority=function(p){'use strict';
return 1/Math.min(this.$UrlRequestJob_cursorProximity,1)/Math.min(p,1);};
m.prototype.

getJobID=function(){'use strict';
return this.$UrlRequestJob_videoID;};



function n(p){
var q=new (c('URI'))(p);
if(q.getDomain()){
q=q.removeQueryData(['oh']);
q=q.removeQueryData('__gda__');
for(var r=Object.keys(q.getQueryData()),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u;
if(v.startsWith('_nc'))
q=q.removeQueryData(v);}


return q.toString();}

return p;}













function o(){'use strict';this.$VideoDashPrefetchCache_resourceTimingEntryCache=new (c('Map'))();
this.$VideoDashPrefetchCache_cache=new (c('Map'))();
this.$VideoDashPrefetchCache_timeouts=new (c('Map'))();
this.$VideoDashPrefetchCache_inflightRequests=[];
this.$VideoDashPrefetchCache_urlBatchQueue=[];
this.$VideoDashPrefetchCache_currentlyPrefetchingVideosNum=0;
this.$VideoDashPrefetchCache_maxPrefetchVideosNum=
c('VideoPlayerShakaExperiments').maxPrefetchVideosNum;
this.$VideoDashPrefetchCache_consolidateFragmentedPrefetchRequest=
c('VideoPlayerShakaExperiments').consolidateFragmentedPrefetchRequest;}
o.prototype.









$VideoDashPrefetchCache_createAndStoreRequestPromise=
function(p){


var q=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';
var s=p;
if(Object.keys(q))
s=new (c('URI'))(p).addQueryData(q);

var t=new (c('XHRRequest'))(s).
setMethod('GET').
setResponseType('arraybuffer').
setTransportBuilder(c('getCrossOriginTransport')),
u=c('performanceNow')();
this.$VideoDashPrefetchCache_resourceTimingEntryCache['delete'](p);
var v=new h(function(w,x){
t.setErrorHandler(function(y){
this.$VideoDashPrefetchCache_deleteInflightRequest(t);
x(j(y,s));}.
bind(this));
t.setResponseHandler(function(y){



if(c('VideoPlayerShakaExperiments').enableResourceTimingForPrefetchCache){
var z=
c('VideoPlayerResourceTimer').getResourceTimingEntry
(p,
u,
c('performanceNow')());

if(z)
this.$VideoDashPrefetchCache_resourceTimingEntryCache.set
(n(p),z);}




t.response=y;
this.$VideoDashPrefetchCache_deleteInflightRequest(t);
w(t);}.
bind(this));
t.setAbortHandler(function(){
x(v,new Error('Request promise aborted'));});}.

bind(this));
this.$VideoDashPrefetchCache_storeRequestPromise(p,v,r);
this.$VideoDashPrefetchCache_inflightRequests.push(t);
t.send();
return v;};
o.prototype.

$VideoDashPrefetchCache_storeRequestPromise=
function(p,
q){

var r=arguments.length<=2||arguments[2]===undefined?3600000:arguments[2];'use strict';

this.$VideoDashPrefetchCache_clearCacheAndTimeout(p);
if(r>0)
this.$VideoDashPrefetchCache_timeouts.set
(n(p),
setTimeout(function(){return this.$VideoDashPrefetchCache_clearCacheAndTimeout(p);}.bind(this),r));


this.$VideoDashPrefetchCache_store(p,q);};
o.prototype.




genPrfetchMpdNow=function p
(q,
r,
s){




var t,
u;return c('regeneratorRuntime').async(function v(w){while(1)switch(w.prev=w.next){case 0:'use strict';if(!this.has(r)){w.next=3;break;}return w.abrupt('return',null);case 3:t=s.getURL();u=new m(q,t,0);
this.$VideoDashPrefetchCache_storeRequestPromise
(r,
u.getPromise());

u.start();w.next=9;return c('regeneratorRuntime').awrap
(u.getPromise());case 9:return w.abrupt('return',
null);case 10:case 'end':return w.stop();}},null,this);};o.prototype.


queueRequestFromMouseMovement=
function(p,
q,
r,
s,
t){


var u=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],v=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6];'use strict';
var w=c('PriorityJobQueue').get(),
x=this.$VideoDashPrefetchCache_get(q);
if(x){
x.then(v).done();
return;}

var y=r.getURL(),
z=new m(p,y,s);

z.getPromise().
then(v)['catch']
(function(){return this.getAndDelete(q);}.bind(this));

w.enqueue(z,function(){
this.$VideoDashPrefetchCache_storeRequestPromise
(q,
z.getPromise(),
t);

u();}.
bind(this));};
o.prototype.

cancelRequestFromMouseMovement=
function(p){
'use strict';
c('PriorityJobQueue').get().abort(p);};
o.prototype.

$VideoDashPrefetchCache_clearCacheAndTimeout=
function(p,
q){
'use strict';
this.getAndDelete(p,q);
if(this.$VideoDashPrefetchCache_timeouts.has(p)){
clearTimeout(this.$VideoDashPrefetchCache_timeouts.get(p));
this.$VideoDashPrefetchCache_timeouts['delete'](p);}};

o.prototype.

$VideoDashPrefetchCache_createRequestPromises=function(p){'use strict';
var q=[];
for(var r=0;r<p.length;r++){
var s=o.createQueryStringURL(p[r]);
if(!this.has(s))
q.push(this.$VideoDashPrefetchCache_createAndStoreRequestPromise(s));}


return q;};
o.prototype.

$VideoDashPrefetchCache_createRequestPromisesFromConsolidatedURL=
function(p){
'use strict';
var q=
o.getConsolidatedURL(p);

if(q==null)


return this.$VideoDashPrefetchCache_createRequestPromises(p);


var r=new (c('XHRRequest'))(q).
setMethod('GET').
setResponseType('arraybuffer').
setTransportBuilder(c('getCrossOriginTransport')),

s=Date.now(),

t=[];



for(var u=0;u<p.length;u++){
var v=o.createQueryStringURL(p[u]),
w=new (c('Deferred'))();
if(!this.has(v))
this.$VideoDashPrefetchCache_store(v,w.getPromise());

t.push(w);}


r.setErrorHandler(function(x){
this.$VideoDashPrefetchCache_deleteInflightRequest(r);
for(var y=0;y<t.length;y++)
t[y].reject(j(x,q));}.

bind(this));
r.setResponseHandler(function(x){
var y=Date.now()-s;
for(var z=0;z<p.length;z++){
var aa=t[z],
ba=p[z];
aa.resolve
(l(x,ba,y));}


this.$VideoDashPrefetchCache_deleteInflightRequest(r);}.
bind(this));
r.setAbortHandler(function(){
for(var x=0;x<p.length;x++){
var y=t[x];
y.reject(new Error('Request aborted.'));}});



this.$VideoDashPrefetchCache_inflightRequests.push(r);
r.send();

return t.map(function(x){return x.getPromise();});};
o.prototype.

$VideoDashPrefetchCache_requestAndStoreBatch=function(p){'use strict';
this.$VideoDashPrefetchCache_currentlyPrefetchingVideosNum++;

var q=this.$VideoDashPrefetchCache_consolidateFragmentedPrefetchRequest?
this.$VideoDashPrefetchCache_createRequestPromisesFromConsolidatedURL(p.video):
this.$VideoDashPrefetchCache_createRequestPromises(p.video),
r=this.$VideoDashPrefetchCache_consolidateFragmentedPrefetchRequest?
this.$VideoDashPrefetchCache_createRequestPromisesFromConsolidatedURL(p.audio):
this.$VideoDashPrefetchCache_createRequestPromises(p.audio),


s=this.$VideoDashPrefetchCache_createRequestPromises(p.manifest),


t=
q.concat(r,s);


h.all(t).
then(function(){return this.$VideoDashPrefetchCache_startNextRequestBatch();}.bind(this))['catch']
(function(){return this.$VideoDashPrefetchCache_startNextRequestBatch();}.bind(this));};
o.prototype.

$VideoDashPrefetchCache_store=function(p,q){'use strict';
p=n(p);

if(this.$VideoDashPrefetchCache_cache.values().next().done)
c('Run').onLeave(function(){
for(var r=0;r<this.$VideoDashPrefetchCache_inflightRequests.length;r++)
this.$VideoDashPrefetchCache_inflightRequests[r].abort();

this.$VideoDashPrefetchCache_inflightRequests=[];
this.$VideoDashPrefetchCache_urlBatchQueue=[];
this.$VideoDashPrefetchCache_currentlyPrefetchingVideosNum=0;
this.$VideoDashPrefetchCache_cache.clear();}.
bind(this));

this.$VideoDashPrefetchCache_cache.set(p,q);};
o.prototype.

$VideoDashPrefetchCache_deleteInflightRequest=function(p){'use strict';
var q=this.$VideoDashPrefetchCache_inflightRequests.indexOf(p);
if(q>-1)
this.$VideoDashPrefetchCache_inflightRequests.splice(q,1);};

o.prototype.

$VideoDashPrefetchCache_startNextRequestBatch=function(){'use strict';
this.$VideoDashPrefetchCache_currentlyPrefetchingVideosNum--;
var p=this.$VideoDashPrefetchCache_urlBatchQueue.shift();
if(p)
this.$VideoDashPrefetchCache_requestAndStoreBatch(p);};

o.prototype.

has=function(p){'use strict';
p=n(p);
return this.$VideoDashPrefetchCache_cache.has(p);};
o.prototype.

getAndDelete=
function(p,
q){
'use strict';
p=n(p);
var r=this.$VideoDashPrefetchCache_cache.get(p);



if(r&&q){
var s=this.$VideoDashPrefetchCache_resourceTimingEntryCache.get(p);
q(s);}


this.$VideoDashPrefetchCache_cache['delete'](p);
return r;};
o.prototype.

$VideoDashPrefetchCache_get=function(p){'use strict';
p=n(p);
var q=this.$VideoDashPrefetchCache_cache.get(p);
return q;};
o.prototype.

queueRequestBatch=function(p){'use strict';
if(this.$VideoDashPrefetchCache_maxPrefetchVideosNum===0||
this.$VideoDashPrefetchCache_currentlyPrefetchingVideosNum<this.$VideoDashPrefetchCache_maxPrefetchVideosNum){

this.$VideoDashPrefetchCache_requestAndStoreBatch(p);}else 

this.$VideoDashPrefetchCache_urlBatchQueue.push(p);};

o.

getInstance=function(){'use strict';
if(i===null)
i=new o();

return i;};
o.

createQueryStringURL=function(p){'use strict';
var q=p.url,r=p.start,s=p.end;

if(r!==null&&r!==undefined&&
s!==null&&s!==undefined)

q=new (c('URI'))(q).addQueryData
({bytestart:r,
byteend:s});


return q.toString();};
o.

getConsolidatedURL=function(p){'use strict';
var q='',
r=Infinity,
s=0;

for(var t=0;t<p.length;t++){var u=
p[t],v=u.url,w=u.start,x=u.end;
if(v==null||w==null||x==null)

return null;


if(q===''){
q=v;}else 

if(q!==v)


return null;



r=Math.min(r,w);
s=Math.max(s,x);}


return o.createQueryStringURL
({url:q,
start:r,
end:s});};

o.


loadVideo=function(p){'use strict';
if(c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained())
return;

var q=o.getInstance();
if(!p.manifest)
p.manifest=[];

q.queueRequestBatch
({manifest:p.manifest.filter(k),
video:p.video.filter(k),
audio:p.audio.filter(k)});};

o.




getCacheValue=
function(p,
q){
'use strict';
return o.getInstance().getAndDelete
(p,
q);};




f.exports=o;}),null);

/** js/video/player/autoplay/VideoDisplayTimePlayButton.js */





__d('VideoDisplayTimePlayButton',['CSS','DataStore','Event'],(function a(b,c,d,e,f,g){





var h={},

i='_spinner',





j=

{getClicked:function k(l){
return c('DataStore').get(l,'clicked',false);},



register:function k(l,m){
var n=l.id;
h[n]=
c('Event').listen(l,'click',function(){
if(m){
c('CSS').hide(l);
c('CSS').show(m);}

c('DataStore').set(l,'clicked',true);});

if(m)
h[n+i]=
c('Event').listen(m,'click',function(){
c('CSS').hide(m);
c('CSS').show(l);
c('DataStore').set(l,'clicked',false);});},




unregister:function k(l){
var m=l.id;
if(Object.prototype.hasOwnProperty.call(h,m))
h[m].remove();

var n=m+i;
if(Object.prototype.hasOwnProperty.call(h,n))
h[n].remove();}};




f.exports=j;}),null);

/** shared/core/dom/onRectIsWithinViewport.js */





__d('onRectIsWithinViewport',['onViewportChanged'],(function a(b,c,d,e,f,g){








function h(j,k){

return !(j.bottom<k.top||
j.top>k.bottom||
j.right<k.left||
j.left>k.right);}









function i(j,k){
var l=void 0;

function m(o){
var p=j();
return !!p&&h(p,o);}


function n(o){
if(l!==o){
l=o;
k(o);}}



return c('onViewportChanged')(n,m);}


f.exports=i;}),null);

/** shared/core_components/OnVisible/OnVisible.react.js */




__d('OnVisible.react',['OnVisibleConfig','React','ReactDOM','getElementRect','onRectIsWithinViewport'],(function a(b,c,d,e,f,g){

'use strict';








var h=c('React').PropTypes,





i=c('React').createClass({displayName:'OnVisible',

propTypes:



{onVisible:h.func,




onHidden:h.func,









buffer:h.number,








considerZeroedElemsAsHidden:h.bool},


getDefaultProps:function j(){

return {considerZeroedElemsAsHidden:!!c('OnVisibleConfig').defaultToHiddenZeroedElems};},



componentDidMount:function j(){
this._createListener();},


componentDidUpdate:function j(){
this._createListener();},


componentWillUnmount:function j(){
this._removeListener();},











reset:function j(){
this._removeListener();
this._createListener();},










check:function j(){
if(this._listener)
this._listener.scheduleCheck();},



_measureElementRect:function j(){
if(!this.isMounted())
return null;

var k=this.props.buffer||0,
l=c('ReactDOM').findDOMNode(this),
m=c('getElementRect')(l);

if(this.props.considerZeroedElemsAsHidden&&
m.left===0&&
m.right===0&&
m.top===0&&
m.bottom===0)

return null;


m.left-=k;
m.right+=k;
m.top-=k;
m.bottom+=k;

return m;},


_createListener:function j(){
var k=c('ReactDOM').findDOMNode(this);

if(this._listener&&k!==this._element)
this._removeListener();


if(!this._listener){
this._element=k;
this._listener=c('onRectIsWithinViewport')
(this._measureElementRect,
function(l){
var m=l?this.props.onVisible:this.props.onHidden;
m&&m();}.
bind(this));}},




_removeListener:function j(){
if(this._listener){
this._listener.remove();
this._listener=null;}},



render:function j(){
return c('React').Children.only(this.props.children);}});




f.exports=i;}),null);

/** shared/fbjs/functional/distinctArrayBy.js */





__d('distinctArrayBy',['Set'],(function a(b,c,d,e,f,g){

'use strict';



function h(j){
return j;}






function i
(j){

var k=arguments.length<=1||arguments[1]===undefined?h:arguments[1],
l=[],
m=new (c('Set'))();

for(var n=j,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,
s=k(r);
if(!m.has(s)){
m.add(s);
l.push(r);}}


return l;}


f.exports=i;}),null);

/** shared/photos/modules/PhotosUploadWaterfallXMixin.js */




__d('PhotosUploadWaterfallXMixin',['invariant','AsyncSignal','Banzai','Map','PhotosUploadWaterfallXConfig','Set','randomInt'],(function a(b,c,d,e,f,g,h){










var i=new (c('Map'))();

function j(l,m){
var n={};

l.client_time=Math.round(Date.now()/1000);

if(c('PhotosUploadWaterfallXConfig').retryBanzai){
n.retry=true;

l.nonce=c('randomInt')(4294967296);}


c('Banzai').post(c('PhotosUploadWaterfallXConfig').banzaiRoute,l,n);
if(m)


setTimeout(m,0);}




function k(l,m){












if(c('PhotosUploadWaterfallXConfig').useBanzai){
j(l,m);}else{

var n=new (c('AsyncSignal'))
(c('PhotosUploadWaterfallXConfig').loggingEndpoint,
{data:JSON.stringify(l)}).
setHandler(m);

if(c('PhotosUploadWaterfallXConfig').timeout)
n.setTimeout(10*1000);


n.send();}}



f.exports=





{logStep:function l(m,n,o){











var p=this.getWaterfallID&&this.getWaterfallID(),
q=this.getWaterfallAppName&&this.getWaterfallAppName();
if(!p||!q)







return;


k(babelHelpers['extends']
({step:m,
qn:p,
uploader:q,
ref:this.getWaterfallSource&&this.getWaterfallSource()},
n),
o);},











logPUWStep:function l
(m,
n,
o,
p,
q,
r,
s){

if(r&&r.logOncePerSession){
if(!i.has(n))
i.set(n,new (c('Set'))());

if(i.get(n).has(m))
return;

i.get(n).add(m);}

k(Object.assign
({step:m,
qn:n,
uploader:o,
ref:p},
q),s);}};}),
null);

/** www/__virtual__/x/XReactComposerLoggingODSController.js */



__d("XReactComposerLoggingODSController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/react_composer\/logging\/ods\/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:true,enumType:1},event:{type:"String",required:true}});}),

null);
