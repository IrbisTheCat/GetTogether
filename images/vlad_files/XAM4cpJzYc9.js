if (self.CavalryLogger) { CavalryLogger.start_js(["scZdd"]); }

/** __static_js_modules__/adstransparencyevent.js */




__d("AdsTransparencyEvent",[],(function a(b,c,d,e,f,g){

f.exports={INFO:"info",USER_ENGAGEMENT:"user_engagement",USER_EXPOSURE:"user_exposure"};}),

null);

/** __static_js_modules__/adstransparencyproduct.js */




__d("AdsTransparencyProduct",[],(function a(b,c,d,e,f,g){

f.exports={AD_PREFERENCES:"ad_preferences",AD_PREFERENCES_DIALOG:"ad_preferences_dialog",AD_PREFERENCES_DIALOG_V2:"ad_preferences_dialog_v2",AD_PROFILE:"ad_profile",AD_SETTINGS_SCREEN:"ad_settings_screen",ADS_DELIVERY:"ads_delivery",CAPSTONE:"capstone",EDUCATION_PAGE:"education_page",MISLEADING_EXPERIENCE:"misleading_experience",MISLEADING_EXPERIENCE_QP:"misleading_experience_qp",NUX:"nux",PROMOTIONAL_UNIT:"promotional_unit",SUGGESTIONS_PAGE:"suggestions_page",SURVEY:"survey",TOMBSTONE:"tombstone",USER_CLUSTERS:"user_clusters",XOUT_MENU:"xout_menu"};}),

null);

/** __static_js_modules__/adstransparencyproductelement.js */




__d("AdsTransparencyProductElement",[],(function a(b,c,d,e,f,g){

f.exports={AD_PREFERENCES_ADD_SCREEN:"ad_preferences_add_screen",ADDED_INTERESTS_MENU:"added_interests_menu",ADVERTISER_CHEVRON:"advertiser_chevron",ADVERTISER_LIST:"advertiser_list",BEHAVIORS:"behaviors",BEHAVIOR_OPEN_MENU:"behavior_open_menu",BEHAVIOR_REMOVE:"behavior_remove",BEHAVIOR_UNDO:"behavior_undo",BEHAVIOR_VIEW_ADS:"behavior_view_ads",BROWSE_MENU:"browse_menu",CATEGORIES_LIST:"categories_list",CATEGORIES_LIST_CHEVRON:"categories_list_chevron",CLICKED_ADVERTISER_CHEVRON:"clicked_advertiser_chevron",DEMOGRAPHICS:"demographics",EDUCATION_CAROUSEL:"education_carousel",HIDE_AD_TOPICS:"hide_ad_topics",HIDE_AD_TOPICS_MERGED_TAB:"hide_ad_topics_merged_tab",HIDE_AD_TOPICS_MOBILE_TOPIC_PAGE:"hide_ad_topics_mobile_topic_page",HIDE_AD_TOPICS_PROFILE_ENTRY_POINT:"hide_ad_topics_profile_entry_point",HIDE_AD_TOPICS_NEW_SUGGESTION:"hide_ad_topics_new_suggestion",HIDE_AD_TOPICS_RADIO_TOGGLE:"hide_ad_topics_radio_toggle",HIDE_AD_TOPICS_SUGGESTION_MODULE:"hide_ad_topics_suggestion_module",HIDE_AD_TOPICS_TOPIC_SELECTION:"hide_ad_topics_topic_selection",INTEREST_CATEGORY:"interest_category",INTEREST_GRID:"interest_grid",INTEREST_OPEN_MENU:"interest_open_menu",INTEREST_PAGE:"interest_page",INTEREST_PAGE_REMOVE:"interest_page_remove",INTEREST_PAGE_CONFIRM:"interest_page_confirm",INTEREST_PAGE_UNDO:"interest_page_undo",INTEREST_REMOVE:"interest_remove",INTEREST_UNDO:"interest_undo",INTERESTS_SEE_ALL_LINK:"interests_see_all_link",INTERESTS_SEE_ALL_CARD:"interests_see_all_card",INTEREST_SEE_MORE:"interest_see_more",INTEREST_SUGGESTION_TILE:"interest_suggestion_tile",INTEREST_SUGGESTIONS_COMPONENT:"interest_suggestions_component",INTEREST_SUGGESTIONS_MORE_BUTTON:"interest_suggestions_more_button",INTEREST_SUGGESTIONS_FROM_MENU:"interest_suggestions_from_menu",INTEREST_VIEW_ADS:"interest_view_ads",INTEREST_VIEW_ADS_FROM_MENU:"interest_view_ads_from_menu",INTERNAL_REPORT_INTEREST:"internal_report_interest",MISLEADING_EXPERIENCE:"misleading_experience",MISLEADING_EXPERIENCE_ADVERTISER_LINK:"misleading_experience_advertiser_link",MISLEADING_EXPERIENCE_CHEVRON:"misleading_experience_chevron",MISLEADING_EXPERIENCE_SHOW_MORE:"misleading_experience_show_more",MISLEADING_EXPERIENCE_SORT_SELECTOR:"misleading_experience_sort_selector",SETTINGS_MENU:"settings_menu",TURN_DEMO_OFF:"turn_demo_off",TURN_DEMO_ON:"turn_demo_on",UNDO_REPORT_INTEREST:"undo_report_interest",OPTOUT:"optout",SURVEY:"survey",ACTION_MENU:"action_menu",QUICK_EDIT:"quick_edit",TARGETING_SENTENCE_ADVERTISER_LINK:"targeting_sentence_advertiser_link",TARGETING_SENTENCE_LEARN_MORE_LINK:"targeting_sentence_learn_more_link",AD_PREFERENCES_REDIRECT_SCREEN:"ad_preferences_redirect_screen",FPD_SETTINGS_PAGE:"fpd_settings_page",OBA_SETTINGS_PAGE:"oba_settings_page",SOCIAL_SETTINGS_PAGE:"social_settings_page",FPD_SETTINGS_ROW:"fpd_settings_row",OBA_SETTINGS_ROW:"oba_settings_row",SOCIAL_SETTINGS_ROW:"social_settings_row",EDUCATION_PAGE_ABOUT_AD:"education_page_about_ad",EDUCATION_PAGE_CONTROLS:"education_page_controls",EDUCATION_PAGE_DATA_SOURCE:"education_page_data_source",EDUCATION_PAGE_DELIVERY:"education_page_delivery",EDUCATION_PAGE_FAQ:"education_page_faq",EDUCATION_PAGE_HOME:"education_page_home",EDUCATION_PAGE_TARGETING:"education_page_targeting",AD_PROFILE_PROMO:"ad_profile_promo",REMOVE_INTEREST_NFX_ACTION:"remove_interest_nfx_action",UNDO_REMOVE_INTEREST:"undo_remove_interest",AD_USEFUL:"ad_useful",AD_USEFUL_UNDO:"ad_useful_undo",HIDE_ADVERTISER_MENU_OPTION:"hide_advertiser_menu_option",INTEREST_SUGGESTIONS_FROM_CARD:"interest_suggestions_from_card",STANDALONE_INTEREST:"standalone_interest",AD_PREFS_LINK:"ad_prefs_link",UNDO_HIDE_ACTION:"undo_hide_action",UNDO_REPORT_AD_ACTION:"undo_report_ad_action",XOUT_HIDE_ACTION:"xout_hide_action",REPORT_AD_ACTION:"report_ad_action",HIDE_CHEVRON:"hide_chevron",UNDO_HIDE_CHEVRON:"undo_hide_chevron",GOOD_PURCHASE_LINK:"good_purchase_link",UNDO_GOOD_PURCHASE_LINK:"undo_good_purchase_link",BAD_PURCHASE_LINK:"bad_purchase_link",UNDO_BAD_PURCHASE_LINK:"undo_bad_purchase_link",NO_PURCHASE_LINK:"no_purchase_link",UNDO_NO_PURCHASE_LINK:"undo_no_purchase_link",TOMBSTONE_MESSENGER_LINK:"tombstone_messenger_link",TOMBSTONE_ADVERTISER_LINK:"tombstone_advertiser_link",AD_HISTORY_HIDE_ADVERTISER:"ad_history_hide_advertiser",AD_HISTORY_HIDE_ADVERTISER_UNDO:"ad_history_hide_advertiser_undo",BACK_REPORT:"back_report",CLOSE_REPORT:"close_report",SUBMIT_REPORT:"submit_report",MISLEADING_REPORT:"misleading_report",MISLEADING_REPORT_LINK:"misleading_report_link",MISLEADING_REPORT_NEXT:"misleading_report_next",NEW_REPORT:"new_report",PAGE_LINK:"page_link",SUBMIT_MESSENGER_LINK:"submit_messenger_link",SUBMIT_PAGE_LINK:"submit_page_link",ADVERTISER_REPORT_LINK:"advertiser_report_link",ADVERTISER_PREVIEW_LINK:"advertiser_preview_link",ADVERTISER_PREVIEW_SEE_ALL:"advertiser_preview_see_all",CLOSE_BUTTON:"close_button",SEARCH_MENU:"search_menu",TARGETING_SENTENCES:"targeting_sentences",UNDO_QUICK_FEEDBACK:"undo_quick_feedback"};}),

null);

/** __static_js_modules__/feedhideprofilefortopiccontrolaction.js */




__d("FeedHideProfileForTopicControlAction",[],(function a(b,c,d,e,f,g){

f.exports={HIDE_PROFILE:"hide_profile",UNHIDE_PROFILE:"unhide_profile"};}),

null);

/** __static_js_modules__/privacypromotiontriggerevent.js */




__d("PrivacyPromotionTriggerEvent",[],(function a(b,c,d,e,f,g){

f.exports={ACCEPT_FRIEND_REQUEST:"accept_friend_request",ADD_COVER_PHOTO:"add_cover_photo",ADD_PROFILE_PHOTO:"add_profile_photo",BLOCK_SOMEONE:"block_someone",CHANGE_RELATIONSHIP_STATUS:"change_relationship_status",COMMENT_ON_OTHERS_POST:"comment_on_others_post",CREATE_GROUP:"create_group",DELETE_POST:"delete_post",DELETE_POST_FROM_TIMELINE:"delete_post_from_timeline",EDIT_POST_PRIVACY:"edit_post_privacy",FOLLOW_USER:"follow_user",FRIEND_REQUEST_WAS_ACCEPTED:"friend_request_was_accepted",HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_FRIENDS_POST:"hide_friends_post",HIDE_POST_FROM_TIMELINE:"hide_post_from_timeline",INTERACT_NON_PROFIT_NON_ONBOARDED:"interact_non_profit_non_onboarded",INTERACT_NON_PROFIT_PAGE:"interact_non_profit_page",JOIN_CLOSED_GROUP:"join_closed_group",JOIN_FUNDRAISING_EVENT:"join_fundraising_event",JOIN_FUNDRAISING_GROUP:"join_fundraising_group",JOIN_PUBLIC_EVENT:"join_public_event",JOIN_PUBLIC_GROUP:"join_public_group",JOIN_SECRET_GROUP:"join_secret_group",LIKE_NON_PROFIT_NON_ONBOARDED:"like_non_profit_non_onboarded",LIKE_NON_PROFIT_PAGE:"like_non_profit_page",LIKE_OTHERS_POST:"like_others_post",MARK_FRIEND_REQUEST_AS_SPAM:"mark_friend_request_as_spam",NON_FRIEND_LIKED_CONTENT:"non_friend_liked_content",OLD_POST_WAS_COMMENTED_ON_BY_FRIEND:"old_post_was_commented_on_by_friend",OLD_POST_WAS_LIKED_BY_FRIEND:"old_post_was_liked_by_friend",OPEN_AD_CONTEXTUAL_MENU:"open_ad_contextual_menu",POST_IN_CLOSED_GROUP:"post_in_closed_group",POST_IN_PUBLIC_GROUP:"post_in_public_group",POST_IN_SECRET_GROUP:"post_in_secret_group",POST_ON_TIMELINE:"post_on_timeline",POST_THROUGH_APP:"post_through_app",POST_WAS_COMMENTED_BY_OTHER:"post_was_commented_by_other",POST_WAS_LIKED_BY_OTHER:"post_was_liked_by_other",POST_WAS_SHARED_BY_OTHER:"post_was_shared_by_other",POSTED_PUBLIC_VIDEO:"posted_public_video",POSTED_STATUS_UPDATE:"posted_status_update",PREVIOUS_POST:"previous_post",PUBLIC_POST_COMMENTED_NONFRIEND:"public_post_commented_nonfriend",RECEIVED_FRIEND_REQUEST:"received_friend_request",REJECT_FRIEND_REQUEST:"reject_friend_request",SEND_FRIEND_REQUEST:"send_friend_request",TAGGED_IN_PHOTO:"tagged_in_photo",TAGGING_IN_PHOTO:"tagging_in_photo",TIMELINE_WAS_POSTED_ON:"timeline_was_posted_on",UNFOLLOW_FRIEND:"unfollow_friend",UNFRIENDED:"unfriended",UNFRIENDING:"unfriending",UNTAGGED_SELF_FROM_PHOTO:"untagged_self_from_photo",VISIT_ACCOUNT_SETTINGS:"visit_account_settings",VISIT_PRIVACY_BASICS:"visit_privacy_basics",VISIT_PRIVACY_HELP_CENTER_PAGE:"visit_privacy_help_center_page",VISIT_PRIVACY_SETTINGS:"visit_privacy_settings",VISIT_PRIVACY_SHORTCUTS:"visit_privacy_shortcuts",VISIT_SECURITY_SETTINGS:"visit_security_settings",WAS_FOLLOWED_BY_NON_FRIEND:"was_followed_by_non_friend",WAS_INVITED_TO_PRIVATE_EVENT:"was_invited_to_private_event",WAS_INVITED_TO_PUBLIC_EVENT:"was_invited_to_public_event"};}),

null);

/** www/__virtual__/x/XAdPreferencesCategoryInfoController.js */



__d("XAdPreferencesCategoryInfoController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/ads\/preferences\/category_info\/",{ad_id:{type:"Int"},entry_point:{type:"String"},entry_product:{type:"Enum",enumType:1},product:{type:"Enum",enumType:1},category_fbid:{type:"Int",required:true}});}),

null);

/** js/ads/preferences/AdsPreferencesInterestListItem.react.js */







__d('AdsPreferencesInterestListItem.react',['ix','xuiglyph','cx','fbt','AdPreferencesDesktopStrings','AsyncRequest','BUIAdoptionXUIText.react','Image.react','Layout.react','fbglyph','React','XAdPreferencesCategoryInfoController','XUIContextualDialog.react','XUIContextualDialogTitle.react','XUIContextualDialogBody.react'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,











n=c('Layout.react').Column,
o=c('Layout.react').FillColumn,









p=c('React').PropTypes;l=babelHelpers.inherits

(q,c('React').Component);m=l&&l.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.















state=
{xHover:false,
iHover:false,
interestHover:false,
enterTimeout:-1,
suggestions:{}},this.


$AdsPreferencesInterestListItem_xHover=function(event){
this.setState({xHover:!this.state.xHover});}.
bind(this),this.

$AdsPreferencesInterestListItem_xOver=function(event){
this.setState({xHover:true});}.
bind(this),this.

$AdsPreferencesInterestListItem_iHover=function(event){
this.setState({iHover:!this.state.iHover});}.
bind(this),this.

$AdsPreferencesInterestListItem_interestHover=function(w){
this.setState({interestHover:w});}.
bind(this),this.

$AdsPreferencesInterestListItem_interestEnter=function(event,w,x){
if(x){
this.$AdsPreferencesInterestListItem_interestHover(true);}else{


var y=setTimeout
(this.$AdsPreferencesInterestListItem_interestEnter.bind(this,true,true,true),
250);

this.setState({enterTimeout:y});}}.

bind(this),this.

$AdsPreferencesInterestListItem_interestLeave=function(event){
this.$AdsPreferencesInterestListItem_interestHover(false);
clearTimeout(this.state.enterTimeout);}.
bind(this),this.

$AdsPreferencesInterestListItem_getIconRef=function(){
return this.refs[this.props.interest.name];}.
bind(this),this.

$AdsPreferencesInterestListItem_handleInterestClick=function(event){
var w=this.refs['toggle_'+this.props.interest.id];
this.props.onInterestClick(this.props.interest,this.props.removed,w);}.
bind(this),this.

$AdsPreferencesInterestListItem_onInterestTextClick=function(event){
if(this.state.suggestions>0&&this.props.setDialog){
this.props.setDialog(this.props.interest,this.state.suggestions);}else{

var w=c('XAdPreferencesCategoryInfoController').getURIBuilder().
setInt('ad_id',this.props.adID).
setString('entry_point',this.props.entrypoint).
setEnum('entry_product',this.props.entryproduct).
setInt('category_fbid',this.props.interest.id).
getURI();
new (c('AsyncRequest'))(w).
setHandler(function(x){
var y=x.payload,
z=y.suggestions,
aa=this.props.interest;
if(!aa.description)
aa.description=k._(["This is a preference you added.","62b967d39d1d7dd22b017a9a25512d85"]);







this.setState({suggestions:z});
if(this.props.setDialog)
this.props.setDialog(aa,y.suggestions);}.

bind(this)).
send();}}.

bind(this),this.

$AdsPreferencesInterestListItem_onReportPreferenceClick=function(event){
if(this.props.setReportDialog)
this.props.setReportDialog(this.props.interest);}.

bind(this),this.
























































































































































renderLayers=function(){
var w=
this.props.interest.description?this.props.interest.description:k._(["This is a preference you added.","62b967d39d1d7dd22b017a9a25512d85"]);








return (c('React').createElement(c('XUIContextualDialog.react'),
{contextRef:this.$AdsPreferencesInterestListItem_getIconRef,
focusContextOnHide:false,
hoverContextRef:this.$AdsPreferencesInterestListItem_getIconRef,
hoverShowDelay:300,
position:'above',
width:c('XUIContextualDialog.react').WIDTH.NORMAL,
key:'contextualDialog'},
c('React').createElement(c('XUIContextualDialogTitle.react'),null,
c('AdPreferencesDesktopStrings').about_this_ads_preference),

c('React').createElement(c('XUIContextualDialogBody.react'),null,
w)));}.



bind(this),s;}q.prototype.render=function(){'use strict';var r=this.state.iHover?"hidden_elem":'',s=!this.state.iHover?"hidden_elem":'',t=(this.state.interestHover&&this.props.isListItem?"_2imp":'')+(!this.state.interestHover&&this.props.isListItem?' '+"_2imq":'')+(this.props.removed?' '+"hidden_elem":''),u=!this.props.isListItem?null:c('React').createElement('span',{className:t,ref:this.props.interest.name,onMouseEnter:this.$AdsPreferencesInterestListItem_iHover,onMouseLeave:this.$AdsPreferencesInterestListItem_iHover},c('React').createElement(c('Image.react'),{className:r,src:h("143963")}),c('React').createElement(c('Image.react'),{className:s,src:h("142361")})),v=c('React').createElement('span',{className:t,onMouseEnter:this.$AdsPreferencesInterestListItem_xHover,onMouseLeave:this.$AdsPreferencesInterestListItem_xHover,onMouseMove:this.$AdsPreferencesInterestListItem_xOver},c('React').createElement(c('Image.react'),{className:this.state.xHover?"hidden_elem":'',src:h("88982")}),c('React').createElement(c('Image.react'),{className:!this.state.xHover?"hidden_elem":'',src:h("88979")})),w=c('React').createElement('div',{className:"_2imr"},c('React').createElement('a',{href:'#'},k._(["Undo","c811640036177110e4dfeeb3ce2e665f"]))),x=c('React').createElement(c('BUIAdoptionXUIText.react'),{className:this.props.removed?"_2ims":'','data-fbid':this.props.interest.id,size:'small',weight:'bold'},this.props.interest.name),y=!this.props.isListItem||this.props.removed?x:c('React').createElement('a',{role:'button',tabIndex:'0',onClick:this.$AdsPreferencesInterestListItem_onInterestTextClick},x),z="_2imt"+(!this.props.isListItem?' '+"_2imu":''),aa=c('React').createElement(o,null,c('React').createElement('a',{className:t,role:'button',tabIndex:'0',onClick:this.$AdsPreferencesInterestListItem_onReportPreferenceClick},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},'[FB-Only] Report'))),ba=this.props.isListItem&&this.props.setReportDialog?aa:null,ca=null;if(this.props.interest.disambiguation_category)ca=c('React').createElement('span',{className:"_1env"},this.props.interest.disambiguation_category);return c('React').createElement('li',{className:z,onMouseEnter:this.$AdsPreferencesInterestListItem_interestEnter,onMouseLeave:this.$AdsPreferencesInterestListItem_interestLeave},c('React').createElement(c('Layout.react'),null,c('React').createElement(o,null,y,ca,c('React').createElement('span',{className:"_2imv"},u)),ba,c('React').createElement(n,{className:'mlm'},c('React').createElement('div',{className:"_2imw",ref:'toggle_'+this.props.interest.id,role:'presentation',onClick:this.$AdsPreferencesInterestListItem_handleInterestClick},!this.props.removed?v:w))),this.renderLayers());};q.propTypes={adID:p.string,entrypoint:p.string,entryproduct:p.string,interest:p.object.isRequired,isListItem:p.bool.isRequired,onInterestClick:p.func.isRequired,removed:p.bool.isRequired,setDialog:p.func,setReportDialog:p.func};


f.exports=q;}),null);

/** js/logging/generated/AdsTransparencyTypedLogger.js */





__d('AdsTransparencyTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){
'use strict';



















function h(){
this.clear();}
h.prototype.





log=function(){
c('GeneratedLoggerUtils').log('logger:AdsTransparencyLoggerConfig',this.$AdsTransparencyTypedLogger_data,c('Banzai').BASIC);};
h.prototype.







logVital=function(){
c('GeneratedLoggerUtils').log('logger:AdsTransparencyLoggerConfig',this.$AdsTransparencyTypedLogger_data,c('Banzai').VITAL);};
h.prototype.




clear=function(){
this.$AdsTransparencyTypedLogger_data={};
return this;};
h.prototype.






updateData=function(j){








this.$AdsTransparencyTypedLogger_data=babelHelpers['extends']({},
this.$AdsTransparencyTypedLogger_data,
j);

return this;};
h.prototype.




setAdID=function(j){
this.$AdsTransparencyTypedLogger_data.ad_id=j;
return this;};
h.prototype.




setAdsPageType=function(j){
this.$AdsTransparencyTypedLogger_data.ads_page_type=j;
return this;};
h.prototype.




setAdvertiserID=function(j){
this.$AdsTransparencyTypedLogger_data.advertiser_id=j;
return this;};
h.prototype.




setCategory=function(j){
this.$AdsTransparencyTypedLogger_data.category=j;
return this;};
h.prototype.




setChildren=function(j){
this.$AdsTransparencyTypedLogger_data.children=c('GeneratedLoggerUtils').serializeVector(j);
return this;};
h.prototype.




setEditedPreference=function(j){
this.$AdsTransparencyTypedLogger_data.edited_preference=j;
return this;};
h.prototype.




setEntryPoint=function(j){
this.$AdsTransparencyTypedLogger_data.entry_point=j;
return this;};
h.prototype.




setEntryProduct=function(j){
this.$AdsTransparencyTypedLogger_data.entry_product=j;
return this;};
h.prototype.




setEvent=function(j){
this.$AdsTransparencyTypedLogger_data.event=j;
return this;};
h.prototype.




setIsDpa=function(j){
this.$AdsTransparencyTypedLogger_data.is_dpa=j;
return this;};
h.prototype.




setLoadedPreferences=function(j){
this.$AdsTransparencyTypedLogger_data.loaded_preferences=c('GeneratedLoggerUtils').serializeVector(j);
return this;};
h.prototype.




setMessage=function(j){
this.$AdsTransparencyTypedLogger_data.message=j;
return this;};
h.prototype.




setObaOptedOut=function(j){
this.$AdsTransparencyTypedLogger_data.oba_opted_out=j;
return this;};
h.prototype.




setOptoutType=function(j){
this.$AdsTransparencyTypedLogger_data.optout_type=j;
return this;};
h.prototype.




setProduct=function(j){
this.$AdsTransparencyTypedLogger_data.product=j;
return this;};
h.prototype.




setProductElement=function(j){
this.$AdsTransparencyTypedLogger_data.product_element=j;
return this;};
h.prototype.






setReasonID=function(j){
this.$AdsTransparencyTypedLogger_data.reason_id=j;
return this;};
h.prototype.




setSocialOptedOut=function(j){
this.$AdsTransparencyTypedLogger_data.social_opted_out=j;
return this;};
h.prototype.




setStateChange=function(j){
this.$AdsTransparencyTypedLogger_data.state_change=j;
return this;};
h.prototype.




setTargetingSentence=function(j){
this.$AdsTransparencyTypedLogger_data.targeting_sentence=j;
return this;};
h.prototype.




setVC=function(j){
this.$AdsTransparencyTypedLogger_data.vc=j;
return this;};
h.prototype.




updateExtraData=function(j){
j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));
c('GeneratedLoggerUtils').checkExtraDataFieldNames
(j,
i);

this.$AdsTransparencyTypedLogger_data=babelHelpers['extends']({},
this.$AdsTransparencyTypedLogger_data,
j);

return this;};
h.prototype.




addToExtraData=function(j,k){
var l={};
l[j]=k;
return this.updateExtraData(l);};















































































































































































































































































var i=
{ad_id:true,
ads_page_type:true,
advertiser_id:true,
category:true,
children:true,
edited_preference:true,
entry_point:true,
entry_product:true,
event:true,
is_dpa:true,
loaded_preferences:true,
message:true,
oba_opted_out:true,
optout_type:true,
product:true,
product_element:true,
reason_id:true,
social_opted_out:true,
state_change:true,
targeting_sentence:true,
vc:true};


f.exports=h;}),null);

/** www/__virtual__/x/XAdPreferencesInterestsWriteController.js */



__d("XAdPreferencesInterestsWriteController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/ads\/preferences\/edit_interests\/",{action:{type:"Enum",required:true,enumType:1},fbids:{type:"IntVector",required:true},product:{type:"Enum",required:true,enumType:1},ad_id:{type:"Int"},entry_point:{type:"String"},edit_product:{type:"Enum",enumType:1},entry_product:{type:"Enum",enumType:1},location:{type:"String"},extra_data:{type:"StringToStringMap"}});}),

null);

/** www/__virtual__/x/XAdPreferencesNUXController.js */



__d("XAdPreferencesNUXController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/ads\/preferences\/nux\/",{type:{type:"String",required:true}});}),

null);

/** www/__virtual__/x/XAdsPreferencesFeedbackController.js */



__d("XAdsPreferencesFeedbackController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/ads\/preferences\/feeedback\/",{ad_id:{type:"Int"},favorite:{type:"Enum",required:true,enumType:1}});}),

null);

/** js/ads/preferences/AdsPrefs.js */





__d('AdsPrefs',['csx','cx','AdsPreferencesInterestListItem.react','AdsTransparencyEvent','AdsTransparencyProduct','AdsTransparencyProductElement','AdsTransparencyTypedLogger','AsyncRequest','BanzaiODS','CSS','DOM','Event','React','ReactDOM','XAdPreferencesInterestsWriteController','XAdPreferencesNUXController','XAdsPreferencesFeedbackController','tidyEvent'],(function a(b,c,d,e,f,g,h,i){




















function j(n,o){
c('CSS').toggleClass(n,"hidden_elem");
var p=c('CSS').hasClass(n,"hidden_elem")?'ad_useful':'ad_neutral',
q=c('XAdsPreferencesFeedbackController').getURIBuilder().
setInt('ad_id',o).
setEnum('favorite',p).
getURI(),
r=new (c('AsyncRequest'))(q);
r.send();}


function k(){
var n=c('XAdPreferencesNUXController').getURIBuilder().
setString('type','interest_nux_ts').
getURI();
new (c('AsyncRequest'))(n).
send();}


function l(n,o,p){
var q=o?'add':'del',
r=c('XAdPreferencesInterestsWriteController').getURIBuilder().
setInt('ad_id',n.adID).
setEnum('action',q).
setEnum('product',c('AdsTransparencyProduct').AD_PREFERENCES_DIALOG).
setIntVector('fbids',[n.id]).
getURI();
new (c('AsyncRequest'))(r).send();

c('ReactDOM').render
(c('React').createElement(c('AdsPreferencesInterestListItem.react'),
{adID:n.adID,
className:"_589n",
interest:n,
isListItem:false,
removed:!o,
onInterestClick:l}),

document.getElementById(n.rootID));


if(n.dialog&&p!=null){
k();
n.dialog.setContext(p);
n.dialog.show();}}



var m=

{initRHCFeedback:function n(o,p,q){
c('tidyEvent')(c('Event').listen(p,'click',function(r){
j(q,o);
r.kill();}));},




createListElement:function n(o,p,q,r,s,t){
var u=
{id:p,
name:q,
adID:o,
rootID:r,
dialog:t};


c('ReactDOM').render
(c('React').createElement(c('AdsPreferencesInterestListItem.react'),
{adID:o,
className:"_589n",
interest:u,
isListItem:false,
removed:false,
onInterestClick:l}),

document.getElementById(r));},




initExpandable:function n(o){
c('tidyEvent')(c('Event').listen(o,'click',function(p){
var q=c('DOM').scry
(o,
"div._2_mn")[
0],
r=c('DOM').scry
(o,
"._2_mo")[
0],
s=c('DOM').scry
(o,
"._2_mp")[
0];
c('CSS').toggleClass(r,'hidden_elem');
c('CSS').toggleClass(s,'hidden_elem');
c('CSS').toggleClass(q,'hidden_elem');}));},



toggleFavorite:function n(o){
var p=c('DOM').find(o.getRoot(),'.img');
j(p,o.getLabel());},



surveyClickable:function n(o,p,q){
o.forEach(function(r){
return (c('tidyEvent')(c('Event').listen(r,'click',function(s){
c('CSS').hide(p);
c('CSS').show(q);})));});},





updateHideAllDialogMessage:function n(o,p,q,r){
c('tidyEvent')(c('Event').listen(o,'click',function(s){
c('CSS').hide(o);
c('CSS').show(p);
new (c('AdsTransparencyTypedLogger'))().
setAdID(r.adID).
setTargetingSentence(r.targetingSentence).
setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).
setProduct(c('AdsTransparencyProduct').AD_PREFERENCES_DIALOG).
setProductElement
(c('AdsTransparencyProductElement').HIDE_ADVERTISER_MENU_OPTION).
log();

new (c('AsyncRequest'))().
setURI(q).
send();
s.kill();}));},




registerView:function n(o){
var p=c('XAdPreferencesNUXController').getURIBuilder().
setString('type',o).
getURI();
new (c('AsyncRequest'))(p).
send();},



logSurveyClick:function n(o){
c('tidyEvent')(c('Event').listen(o,'click',function(p){
c('BanzaiODS').bumpEntityKey
('ads_www',
'ad_prefs_new_user_ad_about_survey_click');}));},





logDialogOptOutClick:function n(o,p){
c('tidyEvent')(c('Event').listen(o,'click',function(q){
new (c('AdsTransparencyTypedLogger'))().
setAdID(p.data.ad_id).
setShowAdchoiceIcon(p.data.show_adchoice_icon).
addToTransparencyExtraData
('show_adchoice_icon',
p.data.show_adchoice_icon).

setTargetingSentence(p.data.targeting_sentence).
setOptoutType(p.data.optout_type).
setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).
setProduct(c('AdsTransparencyProduct').AD_PREFERENCES_DIALOG).
setProductElement(c('AdsTransparencyProductElement').OPTOUT).
log();}));}};





f.exports=m;}),null);

/** js/modules/PixelNumConverter.js */







__d('PixelNumConverter',[],(function a(b,c,d,e,f,g){

var h=
{pixelValue:function i(j){
return j!==null?Number(j)+'px':'auto';},

numValue:function i(j){
return Number(j.replace("px",""));}};



f.exports=h;}),null);

/** js/ads/units/hscroll/DesktopHscrollUnit.js */





__d('DesktopHscrollUnit',['csx','cx','Arbiter','BanzaiLogger','BanzaiODS','CSS','DesktopHscrollUnitEventConstants','DataAttributeUtils','DOM','DOMQuery','Locale','Parent','PixelNumConverter','Style','getStyleProperty','queryThenMutateDOM'],(function a(b,c,d,e,f,g,h,i){



















var j="_2_tg",
k=300,
l="_2_th",
m="_2_ti",
n="_2_tj",
o="_hy9",
p="_1kf5",
q="_20yh",
r="_i6m",
s="_1mrv",
t="_5pat",

u=
"div._3938",
v="._nxj",
w=
"div._20yh",

x;


function y
(z,
aa,
ba,
ca,
da,
ea,
fa,
ga,
ha,
ia){
'use strict';
this.$DesktopHscrollUnit_adContainer=z;
this.$DesktopHscrollUnit_subheaderContainer=aa;
this.$DesktopHscrollUnit_pager=ba;
this.$DesktopHscrollUnit_pagerButtons=ca;
this.$DesktopHscrollUnit_offscreenItems=ea;
this.$DesktopHscrollUnit_selectedIndex=0;
this.$DesktopHscrollUnit_numAds=1+ea.length;
this.$DesktopHscrollUnit_displayedItems=[da];
this.$DesktopHscrollUnit_animationEnabled=fa;
this.$DesktopHscrollUnit_arbiter=new (c('Arbiter'))();
this.$DesktopHscrollUnit_animationsQueued=0;
this.$DesktopHscrollUnit_globalPosition=ha;
this.$DesktopHscrollUnit_hiddenItems=[];
this.$DesktopHscrollUnit_indexToHide=-1;
this.$DesktopHscrollUnit_indXoutEnabled=ia;



x=ia;

this.$DesktopHscrollUnit_storyRoot=c('DOMQuery').find
(z,
"^div._5jmm");

this.$DesktopHscrollUnit_originalFT=c('DataAttributeUtils').getDataFt(this.$DesktopHscrollUnit_storyRoot);


this.$DesktopHscrollUnit_pager.initPager(this,this.$DesktopHscrollUnit_pagerButtons);
ga.forEach(function(ja){ja.init(this);},this);

c('CSS').addClass(da.ad,l);
c('CSS').addClass(da.ad,q);
if(da.subheader)
this.$DesktopHscrollUnit_initHeaderItem(da.subheader);

this.$DesktopHscrollUnit_showAd(this.$DesktopHscrollUnit_selectedIndex);

c('CSS').addClass(this.$DesktopHscrollUnit_storyRoot,"_sf6");
c('CSS').conditionClass
(this.$DesktopHscrollUnit_storyRoot,
"_2_tl",
this.$DesktopHscrollUnit_animationEnabled);


this.$DesktopHscrollUnit_setUpTrackingData();

c('Arbiter').subscribe
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_HIDE_EVENT,
this.hideItem.bind(this));

c('Arbiter').subscribe
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT,
this.scrollItemBeforeXout.bind(this));

c('Arbiter').subscribe
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_UNHIDE_EVENT,
this.unhideItem.bind(this));

c('Arbiter').subscribe
(c('DesktopHscrollUnitEventConstants').HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,
this.logLastAdXoutEvent.bind(this));}

y.

getFirstAdsHscrollElement=
function(z){
'use strict';
var aa=c('DOMQuery').scry
(z,
u);

return aa[0];};
y.








hideAdsHscroll=function(z){'use strict';
var aa=
y.getFirstAdsHscrollElement(z),
ba=c('CSS').hasClass
(z,
r);

if(aa&&!ba){
c('Arbiter').inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_HIDE_EVENT,
aa.id);

return true;}

return false;};
y.

removeHeaderMargin=function(z){'use strict';
var aa=c('DOMQuery').find
(z,
v);

c('CSS').removeClass
(aa,
s);};

y.

handleOptimisticHideInUnit=function(z){'use strict';
var aa=
y.getFirstAdsHscrollElement(z);
if(aa&&x){
c('Arbiter').inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT,
aa.id);

var ba=c('DOM').scry
(aa,
w);

if(ba.length!=1)
return true;

c('Arbiter').inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,

{id:aa.id,
action:'Hide'});}



return false;};
y.

handleOptimisticUnhideInUnit=function(z){'use strict';
var aa=c('Parent').
byClass(z,t),
ba=y.getFirstAdsHscrollElement(aa),
ca=c('CSS').matchesSelector(aa,"._i6m");
if(ba&&ca)
c('Arbiter').inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,

{id:ba.id,
action:'Unhide'});



return ba&&!ca;};
y.prototype.

scrollItemBeforeXout=function(z,aa){'use strict';
if(this.$DesktopHscrollUnit_adContainer.id!=aa||!this.$DesktopHscrollUnit_indXoutEnabled)
return;

this.$DesktopHscrollUnit_indexToHide=this.$DesktopHscrollUnit_selectedIndex;
if(this.$DesktopHscrollUnit_selectedIndex+1==this.getNumVisibleAds()){
this.scrollPrevious();}else 

this.scrollNext();};

y.prototype.

hideItem=function(z,aa){'use strict';
if(this.$DesktopHscrollUnit_adContainer.id!=aa||!this.$DesktopHscrollUnit_indXoutEnabled)
return;

var ba=
{item:this.$DesktopHscrollUnit_displayedItems.splice(this.$DesktopHscrollUnit_indexToHide,1)[0],
index:this.$DesktopHscrollUnit_indexToHide};

this.$DesktopHscrollUnit_hiddenItems.push(ba);
c('CSS').removeClass(ba.item.ad,q);

if(this.$DesktopHscrollUnit_indexToHide!=this.getNumVisibleAds())


this.$DesktopHscrollUnit_selectedIndex=this.$DesktopHscrollUnit_indexToHide;

this.$DesktopHscrollUnit_arbiter.inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_PAGER_ITEM_HIDE_EVENT,
this.$DesktopHscrollUnit_selectedIndex,
c('Arbiter').BEHAVIOR_EVENT);

this.logIndividualXout(aa,'Hide');};
y.prototype.

unhideItem=function(z,aa){'use strict';
if(this.$DesktopHscrollUnit_adContainer.id!=aa||!this.$DesktopHscrollUnit_indXoutEnabled)
return;

var ba=this.$DesktopHscrollUnit_hiddenItems.pop();
this.$DesktopHscrollUnit_displayedItems.splice(ba.index,0,ba.item);
c('CSS').addClass(ba.item.ad,q);
this.$DesktopHscrollUnit_transitionToAd(ba.index);
this.logIndividualXout(aa,'Unhide');};
y.prototype.

logLastAdXoutEvent=function(z,aa){'use strict';
if(this.$DesktopHscrollUnit_adContainer.id!=aa.id)
return;

this.logIndividualXout
(aa.id,
aa.action);};

y.prototype.

logIndividualXout=function(z,aa){'use strict';
var ba=document.getElementById(z),
ca=c('Parent').
byClass(ba,t).getAttribute('id'),
da;
if(aa=='Hide'){
da=1;}else 

da=-1;

c('BanzaiLogger').log
('FeedAdsHscrollIndividualXoutLoggerConfig',

{ads_hscroll_unit_id:ca,
number_of_total_ads:this.$DesktopHscrollUnit_numAds,
number_of_hidden_ads:da,
action:aa});};


y.prototype.

getArbiter=function(){'use strict';
return this.$DesktopHscrollUnit_arbiter;};
y.prototype.

getAdContainer=function(){'use strict';
return this.$DesktopHscrollUnit_adContainer;};
y.prototype.

getPager=function(){'use strict';
return this.$DesktopHscrollUnit_pager;};
y.prototype.

getSelectedItem=function(){'use strict';
return this.$DesktopHscrollUnit_displayedItems[this.$DesktopHscrollUnit_selectedIndex];};
y.prototype.

getSelectedIndex=function(){'use strict';
return this.$DesktopHscrollUnit_selectedIndex;};
y.prototype.

getNumItems=function(){'use strict';
return this.$DesktopHscrollUnit_numAds;};
y.prototype.

getID=function(){'use strict';
return this.$DesktopHscrollUnit_storyRoot.id;};
y.prototype.

getNumOfHiddenItems=function(){'use strict';
return this.$DesktopHscrollUnit_hiddenItems.length;};
y.prototype.

getNumVisibleAds=function(){'use strict';
return this.$DesktopHscrollUnit_numAds-this.$DesktopHscrollUnit_hiddenItems.length;};
y.prototype.

scrollNext=function(){'use strict';
if(this.$DesktopHscrollUnit_selectedIndex+1<this.getNumVisibleAds()){
this.$DesktopHscrollUnit_transitionToAd(this.$DesktopHscrollUnit_selectedIndex+1);

if(this.$DesktopHscrollUnit_selectedIndex===1)
c('BanzaiODS').bumpEntityKey
('feed_ads',
this.$DesktopHscrollUnit_getODSKeyWithGlobalPosition());}};



y.prototype.

scrollPrevious=function(){'use strict';
if(this.$DesktopHscrollUnit_selectedIndex-1>=0)
this.$DesktopHscrollUnit_transitionToAd(this.$DesktopHscrollUnit_selectedIndex-1);};

y.prototype.

addOffscreenItems=function(z){'use strict';
this.$DesktopHscrollUnit_offscreenItems.push.apply(this.$DesktopHscrollUnit_offscreenItems,z);
this.$DesktopHscrollUnit_numAds+=z.length;
this.$DesktopHscrollUnit_arbiter.inform('onAdditionalItemsAdded',{});};
y.prototype.

$DesktopHscrollUnit_showAd=function(z){'use strict';


var aa=this.$DesktopHscrollUnit_displayedItems[z];
if(this.$DesktopHscrollUnit_animationEnabled&&aa.subheader){
c('DOM').remove(aa.subheader);
c('DOM').appendContent(this.$DesktopHscrollUnit_subheaderContainer,aa.subheader);


this.$DesktopHscrollUnit_subheaderContainer.offsetHeight;}


this.$DesktopHscrollUnit_displayedItems.forEach
(function(ba,ca){
var da=ca==z;
c('CSS').conditionClass(ba.ad,n,da);
c('CSS').conditionClass(ba.ad,o,!da);
if(ba.subheader)
c('CSS').conditionClass(ba.subheader,n,da);});




this.$DesktopHscrollUnit_arbiter.inform
('onShow',
{item:aa,index:z},
c('Arbiter').BEHAVIOR_EVENT);



c('Arbiter').inform(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT);};
y.prototype.

$DesktopHscrollUnit_transitionToAd=function(z){'use strict';
this.$DesktopHscrollUnit_arbiter.inform
('onBeforeTransition',
{item:this.$DesktopHscrollUnit_displayedItems[this.$DesktopHscrollUnit_selectedIndex]},
c('Arbiter').BEHAVIOR_EVENT);


while(this.$DesktopHscrollUnit_offscreenItems.length>0&&
z>=this.$DesktopHscrollUnit_displayedItems.length)
this.$DesktopHscrollUnit_insertItem(this.$DesktopHscrollUnit_offscreenItems.shift());


this.$DesktopHscrollUnit_showAd(z);

if(this.$DesktopHscrollUnit_animationEnabled){


this.$DesktopHscrollUnit_animationsQueued++;
c('CSS').addClass(this.$DesktopHscrollUnit_adContainer,j);
setTimeout(function(){
if(--this.$DesktopHscrollUnit_animationsQueued===0)
c('CSS').removeClass(this.$DesktopHscrollUnit_adContainer,j);}.

bind(this),k);

this.$DesktopHscrollUnit_arbiter.inform
('onAnimate',
{item:this.$DesktopHscrollUnit_displayedItems[z]},
c('Arbiter').BEHAVIOR_EVENT);


var aa,ba;
c('queryThenMutateDOM')
(function(){


aa=c('PixelNumConverter').numValue
(c('getStyleProperty')(this.$DesktopHscrollUnit_adContainer,'padding-bottom'));

ba=this.$DesktopHscrollUnit_adContainer.offsetHeight;}.
bind(this),
function(){
c('Style').set
(this.$DesktopHscrollUnit_adContainer,
'min-height',
c('CSS').hasClass(this.$DesktopHscrollUnit_displayedItems[z].ad,p)?
'0px':
c('PixelNumConverter').pixelValue(ba-aa));


c('Style').set
(this.$DesktopHscrollUnit_displayedItems[0].ad,
c('Locale').isRTL()?'margin-right':'margin-left',
z*-100+'%');}.

bind(this));}



this.$DesktopHscrollUnit_selectedIndex=z;
this.$DesktopHscrollUnit_setUpTrackingData();};
y.prototype.

$DesktopHscrollUnit_insertItem=function(z){'use strict';
c('CSS').addClass(z.ad,l);
c('CSS').addClass(z.ad,q);
c('DOM').appendContent(this.$DesktopHscrollUnit_adContainer,z.ad);


c('Arbiter').inform
(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_INSERTED_EVENT);


if(z.subheader){
this.$DesktopHscrollUnit_initHeaderItem(z.subheader);
c('DOM').appendContent(this.$DesktopHscrollUnit_subheaderContainer,z.subheader);}

this.$DesktopHscrollUnit_displayedItems.push(z);};
y.prototype.

$DesktopHscrollUnit_setUpTrackingData=function(){'use strict';
var z=JSON.parse
(c('DataAttributeUtils').getDataFt(this.$DesktopHscrollUnit_displayedItems[this.$DesktopHscrollUnit_selectedIndex].ad)),



aa=JSON.parse(this.$DesktopHscrollUnit_originalFT);
for(var ba in z)
aa[ba]=z[ba];


c('DataAttributeUtils').setDataFt(this.$DesktopHscrollUnit_storyRoot,JSON.stringify(aa));

c('Arbiter').inform('FeedAdsClickLogger/refreshTrackingData',{});};
y.prototype.

$DesktopHscrollUnit_initHeaderItem=function(z){'use strict';
c('CSS').addClass(z,m);

if(this.$DesktopHscrollUnit_animationEnabled){


var aa=c('DOM').create('div');
c('CSS').addClass(aa,"_2_tm");
c('DOM').appendContent(z,aa);}};

y.prototype.

$DesktopHscrollUnit_getODSKeyWithGlobalPosition=function(){'use strict';
var z='old_desktop_hscroll_first_next_pos_';
return z.concat(this.$DesktopHscrollUnit_globalPosition);};



f.exports=y;
f.exports.getFirstAdsHscrollElement=
y.getFirstAdsHscrollElement;
f.exports.hideAdsHscroll=y.hideAdsHscroll;
f.exports.removeHeaderMargin=
y.removeHeaderMargin;
f.exports.handleOptimisticHideInUnit=
y.handleOptimisticHideInUnit;
f.exports.handleOptimisticUnhideInUnit=
y.handleOptimisticUnhideInUnit;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObject.js */




__d('EntstreamFeedObject',['csx','CSS','Parent'],(function a(b,c,d,e,f,g,h){






var i=



{getRoot:function j(k){
return c('Parent').bySelector(k,"._5jmm");},






getHscrollOuterRootIfAvailable:function j(k){
var l=k;

if(c('CSS').matchesSelector
(l,
"._170y"))


l=i.getRoot(l.parentNode);

return l;}};



f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectFollowTombstone.react.js */





__d('EntstreamFeedObjectFollowTombstone.react',['cx','fbt','AsyncRequest','LeftRight.react','React','URI','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits















(l,c('React').Component);k=j&&j.prototype;



function l(m){'use strict';
k.constructor.call(this,m);this.






toggleFollowState=function(){
this.setState({isFollowing:!this.state.isFollowing});
this.props.menuItem.toggleMenuItem();
var n=new (c('URI'))('/ajax/litestand/follow_post');
n.setQueryData
({follow:this.state.isFollowing,
message_id:this.state.postID});

new (c('AsyncRequest'))().
setURI(n).
setMethod('POST').
send();}.
bind(this);this.state={isFollowing:this.props.isFollowing,postID:this.props.postID};}l.prototype.

getFollowText=function(){'use strict';
if(this.state.isFollowing){
return i._(["You'll no longer get notifications about this post.","c62695d008ebd87deeb7c192bbe519e0"]);}else 







return i._(["You'll get a notification whenever someone comments on this post.","6d5d4558350b53981363c9cacb145c5c"]);};








l.prototype.

getFollowActionLinkText=function(){'use strict';
if(this.state.isFollowing){
return i._(["Turn On Notifications","bb21bfd70bed84c42ba0c679bd8c8f08"]);}else 







return i._(["Turn Off Notifications","1b998a3a73b9b6c26abf18cb583c9d66"]);};







l.prototype.

render=function(){'use strict';

return (c('React').createElement('div',{className:"_5w_i _5ww7 _5ww9"},

c('React').createElement(c('LeftRight.react'),null,
this.getFollowText(),
c('React').createElement(c('XUICloseButton.react'),
{className:"_5xsl"})),


c('React').createElement('a',
{onClick:this.toggleFollowState,
className:"_1f89"},
this.getFollowActionLinkText())));};






f.exports=l;}),null);

/** js/feed/FeedObjectCapstone.js */




__d('FeedObjectCapstone',['csx','DOM','Parent','ge'],(function a(b,c,d,e,f,g,h){







var i=
{getCapstone:function j(k){
var l=c('DOM').scry
(k,
"._x1g");

if(!l.length)
l=c('DOM').scry
(k.parentNode,
"._x1g");


return l?l[0]:null;},



addCapstoneByStoryID:function j(k,l){
var m=
c('Parent').bySelector(c('ge')(k),"._5jmm");
this.addCapstone
(m,
l);},



addCapstone:function j(k,l){
var m=
c('DOM').find(k,"._5v3q");
if(m)
k=m;



this.removeCapstone(k);

if(l)
c('DOM').prependContent(k,l);


return l;},


removeCapstone:function j(k){
var l=
i.getCapstone(k);
if(l)
c('DOM').remove(l);}};




f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectFollowup.js */




__d('EntstreamFeedObjectFollowup',['csx','cx','Arbiter','CSS','DOM','EntstreamFeedObject','Event','FeedObjectCapstone','ge'],(function a(b,c,d,e,f,g,h,i){

'use strict';












var j='EntstreamFeedObjectFollowup/removed',

k=

{getFollowup:function l(m){
var n=c('DOM').scry
(m,
"._5lum");

if(!n.length)
n=c('DOM').scry
(m.parentNode,
"._5lum");


return n?n[0]:null;},


initCloseButton:function l(m){
var n=c('DOM').scry(m,"._5xsl");
if(n.length==0)
return;


var o=c('Event').listen(n[0],'click',function(){
o.remove();
c('DOM').remove(m);
c('Arbiter').inform(j,m);});

m.listener=o;},


stopListenCloseButton:function l(m){
if(m.listener)
m.listener.remove();},



addFollowup:function l(m,n,o){

var p=
c('CSS').matchesSelector(m,"._5pat"),
q=c('DOM').create('div',
{className:"_5lum"});

if(p){
c('CSS').addClass(q,"_5pau");}else 

c('CSS').addClass(q,"_1f84");


if(o)
if(typeof o==='string'){
c('CSS').addClass(q,o);}else
if(o instanceof Array)
for(var r=0;r<o.length;r++)
c('CSS').addClass(q,o[r]);




var s=
c('DOM').scry(m,"._5v3q")[0];
if(s)
m=s;



var t=
k.getFollowup(m);
if(t)
this.removeFollowup(t);



c('FeedObjectCapstone').removeCapstone(m);

if(n){
c('DOM').appendContent(q,n);
this.initCloseButton(q);

if(c('CSS').matchesSelector(q,"._4-u3")){
c('DOM').prependContent(m,q);}else 

c('DOM').insertBefore(m,q);}else 





c('DOM').prependContent(m,q);


return q;},


removeFollowup:function l(m){
var n=k.getFollowup(m);
this.stopListenCloseButton(n);
c('DOM').remove(n);
c('Arbiter').inform(j,n);},



appendToFollowup:function l(m,n){
var o=c('EntstreamFeedObject').getRoot(c('ge')(m)),
p=k.getFollowup(o);
c('DOM').appendContent(p,n);},


addInstreamAdsFollowup:function l(m){
var n=c('DOM').scry
(m,
"._211q"),


o=c('DOM').create('div',
{className:"_5lum"});


c('DOM').prependContent(n[0],o);

return o;}};



f.exports=k;}),null);

/** js/entstream/core/feed_object/PostsByOtherPreviewObject.js */





__d('PostsByOtherPreviewObject',['csx','Parent'],(function a(b,c,d,e,f,g,h){





var i=
{getRoot:function j(k){
return c('Parent').bySelector
(k,
"._5kjo");}};




f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectFollow.js */





__d('EntstreamFeedObjectFollow',['cx','DOM','EntstreamFeedObject','EntstreamFeedObjectFollowup','EntstreamFeedObjectFollowTombstone.react','React','ReactDOM','PostsByOtherPreviewObject','ge'],(function a(b,c,d,e,f,g,h){

'use strict';














var i=
{toggleFollow:function j
(k,
l,
m){


if(m==null)
return;


var n=c('EntstreamFeedObject').getRoot(c('ge')(l));
if(n===null)
n=c('PostsByOtherPreviewObject').getRoot(c('ge')(l));

if(!n)
return;


var o=c('DOM').create
('div',

{className:"_1f86 _5wvy"}),



p=k.getValue()=='follow_post';
c('ReactDOM').render
(c('React').createElement(c('EntstreamFeedObjectFollowTombstone.react'),
{isFollowing:p,
postID:m,
menuItem:k}),

o);


c('EntstreamFeedObjectFollowup').addFollowup
(n,
o,
"_521o");}};




f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectHide.js */




__d('EntstreamFeedObjectHide',['cx','Event','CSS','DesktopHscrollUnit','EntstreamFeedObject','EntstreamFeedObjectFollowup','Focus','TabbableElements','ge'],(function a(b,c,d,e,f,g,h){













var i=

{hide:function j(k,l){
var m=c('EntstreamFeedObject').getRoot(c('ge')(k));
m=
c('EntstreamFeedObject').getHscrollOuterRootIfAvailable(m);
c('EntstreamFeedObjectFollowup').addFollowup(m,l);
var n=
c('DesktopHscrollUnit').hideAdsHscroll(m);
if(!n)
c('CSS').addClass(m,"_i6m");

i.setFocus(m);},



registerUnhide:function j(k,l){
c('Event').listen(k,'click',function(){
if(l)
l.send();

var m=c('EntstreamFeedObject').getRoot(k);
m=
c('EntstreamFeedObject').getHscrollOuterRootIfAvailable(m);
i.unhide(m);});},



setFocus:function j(k){
var l=c('TabbableElements').find(k);
if(l&&l[0])
c('Focus').setWithoutOutline(l[0]);},



unhide:function j(k){
c('EntstreamFeedObjectFollowup').removeFollowup(k);
c('CSS').removeClass(k,"_i6m");
i.setFocus(k);}};



f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectHideProfileForTopicUndoTombstone.react.js */





__d('EntstreamFeedObjectHideProfileForTopicUndoTombstone.react',['fbt','cx','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits






(l,
c('React').Component);k=j&&j.prototype;

function l(m){'use strict';
k.constructor.call(this,m);}
l.prototype.

render=function(){'use strict';

return (c('React').createElement('div',{className:"_4glo"},
this.props.feedbackText,
' ',
c('React').createElement('a',
{className:"_4glp",
onClick:this.props.onUndoButtonClick,
role:'button',
tabIndex:'0'},h._(["Undo","b146ade825bd13c77edc48b5ff765eb7"]))));};







f.exports=l;}),null);

/** www/__virtual__/x/XFeedHideProfileForTopicController.js */



__d("XFeedHideProfileForTopicController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/feed\/control\/hide_profile_for_topic\/",{topic:{type:"Int"},actor:{type:"Int"},action:{type:"Enum",enumType:1}});}),

null);

/** js/entstream/core/feed_object/EntstreamFeedObjectHideProfileForTopic.js */





__d('EntstreamFeedObjectHideProfileForTopic',['cx','CSS','DOM','React','ReactDOM','EntstreamFeedObject','ge','EntstreamFeedObjectHideProfileForTopicUndoTombstone.react','XFeedHideProfileForTopicController','FeedHideProfileForTopicControlAction','AsyncRequest'],(function a(b,c,d,e,f,g,h){















var i=
{hideProfile:function j
(k,
l){
var m=c('EntstreamFeedObject').getRoot(c('ge')(l));
if(!m)
return;


var n=k.getRoot().getAttribute('data-topic-id'),
o=k.getRoot().getAttribute('data-actor-id'),
p=k.getRoot().getAttribute('data-feedback-text');
c('CSS').hide(k.getRoot());
var q=c('DOM').create
('div',

{className:"_553t"});


c('DOM').replace(m,q);
c('ReactDOM').render
(c('React').createElement(c('EntstreamFeedObjectHideProfileForTopicUndoTombstone.react'),
{onUndoButtonClick:this._handleUndoButtonClick.bind
(this,
n,
o,
m,
q,
k),

feedbackText:p}),

q);},



_handleUndoButtonClick:function j
(k,
l,
m,
n,
o){
var p=c('XFeedHideProfileForTopicController').getURIBuilder().
setInt('actor',l).
setInt('topic',k).
setEnum('action',c('FeedHideProfileForTopicControlAction').UNHIDE_PROFILE).
getURI();

new (c('AsyncRequest'))().
setURI(p).
setMethod('POST').
send();
c('DOM').replace(n,m);
c('CSS').show(o.getRoot());}};



f.exports=i;}),null);

/** js/entstream/core/feed_object/EntstreamFeedObjectSeeFirstOffUndoTombstone.react.js */





__d('EntstreamFeedObjectSeeFirstOffUndoTombstone.react',['fbt','cx','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits






(l,c('React').Component);k=j&&j.prototype;

function l(m){'use strict';
k.constructor.call(this,m);}
l.prototype.

render=function(){'use strict';

return (c('React').createElement('div',{className:"_4i1z",tabIndex:'0'},
this.props.feedbackText,
' ',
c('React').createElement('a',{className:"_4ub0",
onClick:this.props.onUndoButtonClick,
role:'button',
tabIndex:'0'},h._(["Undo","b146ade825bd13c77edc48b5ff765eb7"]))));};







f.exports=l;}),null);

/** www/__virtual__/x/XFeedSubFollowController.js */



__d("XFeedSubFollowController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/feed\/profile\/sub_follow\/",{id:{type:"Int"},action:{type:"Enum",enumType:1},location:{type:"Int"},__asyncDialog:{type:"Int"}});}),

null);

/** js/entstream/core/feed_object/EntstreamFeedObjectSeeFirstOff.js */





__d('EntstreamFeedObjectSeeFirstOff',['cx','csx','DOM','React','ReactDOM','CSS','EntstreamFeedObject','ge','Parent','EntstreamFeedObjectSeeFirstOffUndoTombstone.react','ProfileSubFollowStatus','XFeedSubFollowController','AsyncRequest'],(function a(b,c,d,e,f,g,h,i){
















var j=
{turnOffSeeFirst:function k
(l,
m){
var n=c('EntstreamFeedObject').getRoot(c('ge')(m));
if(!n)
return;


var o=l.getRoot().getAttribute('data-see-first-off-id'),
p=l.getRoot().getAttribute('data-feedback-text');
c('CSS').hide(l.getRoot());
var q=c('DOM').create
('div',

{className:"_4ua_"});


c('DOM').prependContent(n,q);
c('ReactDOM').render
(c('React').createElement(c('EntstreamFeedObjectSeeFirstOffUndoTombstone.react'),
{onUndoButtonClick:this._handleUndoButtonClick.bind
(this,
o,
n,
q,
l),

feedbackText:p}),

q);

this.adjustIndicator(n,l);},


_handleUndoButtonClick:function k
(l,
m,
n,
o){
var p=c('XFeedSubFollowController').getURIBuilder().
setInt('id',l).
setEnum('action',c('ProfileSubFollowStatus').SEE_FIRST).
setInt('location',73).
getURI();
new (c('AsyncRequest'))().
setURI(p).
setMethod('POST').
send();
c('DOM').remove(n);
c('CSS').show(o.getRoot());
this.adjustIndicator(m,o);},


adjustIndicator:function k
(l,
m){
var n=c('DOM').scry(l,
"._zwz");
if(!n||n.length===0)
return;

n=n[0];
var o=c('Parent').bySelector
(m.getRoot(),
"._5pbk"),

p=c('DOM').scry(o,"._3bb4"),
q=true;
p.forEach(function(r){
q=q&&!c('CSS').shown(r);});

if(q){
c('CSS').hide(n);}else 

c('CSS').show(n);}};




f.exports=j;}),null);

/** js/ui/core/ui/flash/YouTube.js */







__d('YouTube',['cx','CSS','DOM','DOMQuery','Event','Keys','LitestandStoryInsertionStatus','SubscriptionsHandler','UserAgent_DEPRECATED','Focus'],(function a(b,c,d,e,f,g,h){














function i(j,k,l){'use strict';
var m=new (c('SubscriptionsHandler'))();
m.addSubscriptions
(c('Event').listen(j,'load',this.listening.bind(this)),
c('LitestandStoryInsertionStatus').registerBlocker
(function(){
return this.playerState===i.STATE_PLAYING;}.
bind(this)));



Object.assign(this,
{iframe:j,
autofocus:k,
autoplay:l,
playerState:i.STATE_UNSTARTED,
muted:false,
volume:100,
currentTime:0,
timer:null,
handler:m});


if(k)
c('Focus').set(j);}

i.prototype.

id=function(){'use strict';return this.iframe.id;};i.prototype.


post=function(j){'use strict';
j.id=this.id();
this.iframe.contentWindow.postMessage(JSON.stringify(j),'*');};
i.prototype.

listening=function(){'use strict';
this.post({event:'listening'});


clearTimeout(this.timer);
this.timer=setTimeout(this.listening.bind(this),100);};
i.prototype.

update=function(j){'use strict';
if(j.event=='initialDelivery'){

clearTimeout(this.timer);


if((c('UserAgent_DEPRECATED').webkit()||c('UserAgent_DEPRECATED').firefox())&&
j.info&&
j.info.debugText.match(/flashVersion/)){
this.addAccessibleButtons();


if(c('UserAgent_DEPRECATED').firefox())
this.iframe.tabIndex=-1;}}



if(j.info)
['playerState','muted','volume','currentTime'].
forEach(function(k){
if(Object.prototype.hasOwnProperty.call(j.info,k))
this[k]=j.info[k];}.

bind(this));};

i.prototype.

togglePlay=function(){'use strict';
this.post
({event:'command',
func:this.playerState==i.STATE_PLAYING?
'pauseVideo':
'playVideo'});};

i.prototype.

toggleMute=function(){'use strict';
this.post({event:'command',func:this.muted?'unMute':'mute'});};
i.prototype.

addAccessibleButtons=function(){'use strict';
this.addAccessibleButton
('Mute',
"_505m",
this.toggleMute.bind(this));

this.addAccessibleButton
('Play',
"_505n",
this.togglePlay.bind(this));};

i.prototype.

addAccessibleButton=function(j,k,l){'use strict';
var m=c('DOM').create('button',{'class':k,tabindex:0},j);
c('DOM').insertAfter(this.iframe,m);

this.handler.addSubscriptions
(c('Event').listen(m,'click',l),



c('Event').listen(m,'mouseover',c('CSS').hide.bind(null,m)),
c('Event').listen(this.iframe,'mouseout',c('CSS').show.bind(null,m)),



c('Event').listen(m,'focus',function(){
if(!this.autoplay&&this.playerState==i.STATE_UNSTARTED){
this.post({event:'command',func:'playVideo'});
this.post({event:'command',func:'pauseVideo'});}}.

bind(this)),

c('Event').listen(m,'keydown',function(n){
switch(n.keyCode){
case c('Keys').UP:
case c('Keys').DOWN:
this.post
({event:'command',
func:'setVolume',
args:[this.volume+(n.keyCode==c('Keys').UP?10:-10)]});

n.prevent();
break;
case c('Keys').RIGHT:
case c('Keys').LEFT:
this.post
({event:'command',
func:'seekTo',
args:[this.currentTime+(n.keyCode==c('Keys').RIGHT?10:-10)]});

n.prevent();
break;}}.

bind(this)));

return m;};
i.prototype.

destroy=function(){'use strict';
this.handler.release();
delete i.instances[this.id()];



if(!Object.keys(i.instances).length)
i.handler.remove();};

i.


register=function(j,k,l){'use strict';
if(!window.postMessage)return;

if(!Object.keys(i.instances).length)
i.handler=c('Event').listen(window,'message',function(n){

try{var o=JSON.parse(n.data);
if(i.instances[o.id])
i.instances[o.id].update(o);}catch(

n){}});


var m=
new i(c('DOMQuery').find(j,'iframe'),k,l);
i.instances[m.id()]=m;};



Object.assign(i,

{STATE_UNSTARTED:-1,

STATE_PLAYING:1,


instances:{},


handler:null});


f.exports=i;}),null);

/** js/entstream/home/feed_object/EntstreamHomeFeedObjectHide.js */




__d('EntstreamHomeFeedObjectHide',['csx','cx','fbt','AsyncRequest','CSS','DOM','EntstreamFeedObject','EntstreamFeedObjectHide','Event','TrackingNodes','YouTube','$','ge','getOrCreateDOMID'],(function a(b,c,d,e,f,g,h,i,j){

















var k=

{stopVideo:function l(m){
var n=c('$')(m),

o=c('DOM').find(n,"^._5jmm"),

p=c('DOM').scry(o,'iframe');

for(var q=0;q<p.length;q++){
var r=c('YouTube').instances[c('getOrCreateDOMID')(p[q])];
if(r&&r.playerState===c('YouTube').STATE_PLAYING)
r.togglePlay();}



var s=c('DOM').scry(o,'video');


for(var t=0;t<s.length;t++)
if('paused' in s[t]&&!s[t].paused)
if(typeof s[t].pause==='function')
s[t].pause();},






hide:function l(m,n,o,p){



k.stopVideo(m);

var q=c('EntstreamFeedObject').getRoot(c('ge')(m)),
r=
c('CSS').matchesSelector(q,"._5pat"),

s;
if(r&&o=='afrostart'){

s='';}else{

var t=o=='hide'||o=='afrostart'?j._(["This story is now hidden from your News Feed.","9dc5c1fdf54d62712d8bcae8d7845f3f"]):j._(["This story has been marked as spam.","53180c59f496bf9fe0537c4fcfb68e2d"]),











u=o=='hide'||o=='afrostart'?j._(["Unhide","90478cc4b9cb8b137c939cf7d31b276e"]):j._(["Undo","6e1c9968aea0b343648a2fa003d38945"]),











v=
c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.UNHIDE_LINK),
w=
c('DOM').create('a',{href:'#','data-ft':v},u),

x={};
if(n)
x.token=n;

if(p)
x.hideable_token=p;

var y=new (c('AsyncRequest'))().
setURI('/ajax/entstream/home/story/unhide').
setMethod('POST').
setData(x).
setRelativeTo(w);

c('EntstreamFeedObjectHide').registerUnhide(w,y);

s=c('DOM').create
('div',
{'class':"_1f86"},
[t,' ',w]);}



c('EntstreamFeedObjectHide').hide(m,s);},


registerHide:function l(m,n,o,p){
c('Event').listen(m,'click',function(){
k.hide
(m.getAttribute('id'),
n,
o,
p);});}};





f.exports=k;}),null);

/** js/video/player/commercial_break/CommercialBreakVideoHide.js */





__d('CommercialBreakVideoHide',['StoryComponentVideoPlayerControllerRegistry','$'],(function a(b,c,d,e,f,g){




var h=
{hide:function i(j,k){
if(!j||!k)
return;


var l=c('$')(j),
m=c('StoryComponentVideoPlayerControllerRegistry').
findVideoPlayerControllerForElement(l,k);

if(!m)
return;


var n=m.getOption
('VideoWithCommercialBreak',
'controller');


if(!n)
return;


n.onPauseAdFromNFX();}};



f.exports=h;}),null);

/** js/ui/core/abstract/menu/MenuTogglingItem.js */





__d('MenuTogglingItem',['DOM','MenuItem'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits




(j,c('MenuItem'));i=h&&h.prototype;j.prototype.
handleClick=function(){'use strict';
this.toggleMenuItem();
return i.handleClick.call(this);};
j.prototype.

toggleMenuItem=function(){'use strict';
this._data=babelHelpers['extends']({},
this._data,

{ajaxify:this._data.toggleAjaxify,
toggleAjaxify:this._data.ajaxify,

value:this._data.toggleValue,
toggleValue:this._data.value,

markup:this._data.toggleMarkup,
toggleMarkup:this._data.markup});

this._rerender();};
j.prototype.

setValue=function(k){'use strict';
this._data=babelHelpers['extends']({},this._data,{value:k});};
j.prototype.

_rerender=function(){'use strict';
var k=this._anchor;
c('DOM').replace(k,this._renderItemContent());};
function j(){'use strict';h.apply(this,arguments);}


f.exports=j;}),null);

/** www/__virtual__/x/XPrivacyPromotionTriggerRecordingController.js */



__d("XPrivacyPromotionTriggerRecordingController",["XController"],(function a(b,c,d,e,f,g){
f.exports=c("XController").create("\/privacy\/promotion_triggers\/record\/",{});}),

null);

/** js/entstream/home/feed_object/EntstreamHomeFeedObjectOptionsMenu.js */





__d('EntstreamHomeFeedObjectOptionsMenu',['csx','cx','AdsPrefs','AdsTransparencyTypedLogger','AsyncRequest','BanzaiLogger','CSS','CommercialBreakVideoHide','DOM','DesktopHscrollUnit','EntstreamFeedObject','EntstreamFeedObjectFollow','EntstreamFeedObjectFollowup','EntstreamFeedObjectHideProfileForTopic','EntstreamFeedObjectSeeFirstOff','EntstreamHomeFeedObjectHide','FBFeedLocations','FeedObjectCapstone','FunnelLogger','MenuTogglingItem','PrivacyPromotionTriggerEvent','SubscriptionsHandler','UFICentralUpdates','UFIConstants','XPrivacyPromotionTriggerRecordingController','ge','onEnclosingPageletDestroy'],(function a(b,c,d,e,f,g,h,i){

'use strict';


















































function j
(n,
o,
p,
q){


var r=








o.node_id,s=o.story_token,t=o.hideable_token,u=o.identifier,v=o.location,w=o.session_id,x=o.is_sponsored,y=o.is_self_story,z=o.host_video_id,

aa=q.item,
ba=aa.getRoot(),
ca=ba.getAttribute('data-feed-option-name'),
da=
c('CSS').matchesSelector
(ba,
"._50o2")||

c('CSS').matchesSelector
(ba,
"._50o0");

if(ca){
c('BanzaiLogger').log('FeedStoryOptionMenuLoggerConfig',
{option_name:ca,
is_secondary:da?1:0,
event_type:'clk',
feed_location:v,
session_id:w,
is_sponsored:x,
is_self_story:y});

var ea=v?'loc:'+v:'loc:null';
c('FunnelLogger').appendActionWithTag
('WWW_CHEVRON_FUNNEL',
'clk:'+ca,
'loc:'+ea);}




if(typeof aa.getValue!=='function')
return;


switch(aa.getValue()){
case 'hide':
case 'markspam':
case 'afrostart':
c('EntstreamHomeFeedObjectHide').hide
(r,
s,
aa.getValue(),
t);

break;
case 'afro_direct_action':

if(v===c('FBFeedLocations').INSTREAM_VIDEO_IN_LIVE||
v===c('FBFeedLocations').INSTREAM_VIDEO_IN_WASLIVE||
v===c('FBFeedLocations').INSTREAM_VIDEO_IN_NONLIVE){


c('CommercialBreakVideoHide').hide(r,z);
break;}


var fa=c('EntstreamFeedObject').getHscrollOuterRootIfAvailable
(c('EntstreamFeedObject').getRoot(c('ge')(r)));


c('FeedObjectCapstone').removeCapstone(fa);
var ga=
aa.getRoot().getAttribute('data-optimistic-hide');
if(ga){


if(c('EntstreamFeedObjectFollowup').getFollowup(fa))
c('EntstreamFeedObjectFollowup').removeFollowup(fa);


var ha=c('DOM').create
('div',

{className:"_5lum"});


c('DOM').appendContent
(ha,
aa.getRoot().getAttribute('data-action-in-progress-string'));

c('DOM').insertBefore
(fa.firstChild,
ha);





var ia=
c('DesktopHscrollUnit').handleOptimisticHideInUnit(fa);
if(!ia)
c('CSS').addClass
(fa,
"_i6m");}



break;
case 'follow_post':
case 'unfollow_post':
c('EntstreamFeedObjectFollow').toggleFollow(aa,r,u);
break;
case 'ad_useful':
case 'ad_neutral':
c('AdsPrefs').toggleFavorite(aa);









throw new Error('throw to prevent menu close');

case 'see_first_off':
c('EntstreamFeedObjectSeeFirstOff').turnOffSeeFirst
(aa,
r);

break;
case 'hide_profile_for_topic':
c('EntstreamFeedObjectHideProfileForTopic').hideProfile
(aa,
r);

break;}}



function k
(n,
o){


var p=




o.location,q=o.session_id,r=o.is_sponsored,s=o.is_self_story,t=o.ad_logging_data,

u=false;
return function(){
c('BanzaiLogger').log('FeedStoryOptionMenuLoggerConfig',
{option_name:'root',
event_type:'clk',
feed_location:p,
session_id:q,
is_sponsored:r,
is_self_story:s});

c('FunnelLogger').startFunnel('WWW_CHEVRON_FUNNEL');
var v=p?'loc:'+p:'loc:null';
c('FunnelLogger').addFunnelTag('WWW_CHEVRON_FUNNEL','loc:'+v);


if(!!t&&
Object.getOwnPropertyNames(t).length&&
u===false){

u=true;
new (c('AdsTransparencyTypedLogger'))().
setAdID(t.ad_id).
setEvent(t.transparency_event).
setIsDpa(t.is_dpa).
setProduct(t.product).
log();


new (c('AsyncRequest'))().
setURI
(c('XPrivacyPromotionTriggerRecordingController').getURIBuilder().getURI()).

setMethod('POST').
setData({event:c('PrivacyPromotionTriggerEvent').OPEN_AD_CONTEXTUAL_MENU}).
send();}


var w=c('CSS').matchesSelector
(n.getRoot(),
"._50o1"),

x=c('CSS').matchesSelector
(n.getRoot(),
"._50n_");

n.forEachItem(function(y){
var z=y.getRoot(),
aa=z.getAttribute('data-feed-option-name'),

ba=c('CSS').matchesSelector
(z,
"._50o2"),

ca=c('CSS').matchesSelector
(z,
"._50o0"),

da=c('CSS').matchesSelector
(z,
"._50nd"),

ea=c('CSS').matchesSelector
(z,
"._50ne"),

fa=
w&&ba||
x&&ca||
!w&&da||
!x&&ea,
ga=ba||ca;

if(aa&&!fa){
c('BanzaiLogger').log('FeedStoryOptionMenuLoggerConfig',
{option_name:aa,
is_secondary:ga?1:0,
event_type:'imp',
feed_location:p,
session_id:q,
is_sponsored:r,
is_self_story:s});

var ha=p?'loc:'+p:'loc:null';
c('FunnelLogger').appendActionWithTag
('WWW_CHEVRON_FUNNEL',
'imp:'+aa,
'loc:'+ha);}


y.onShow();});};}




function l
(n,
o,
p){


var q=
o.identifier;


if(p.payloadsource===c('UFIConstants').UFIPayloadSourceType.USER_ACTION){

var r=p.actions||[];
for(var s=0;s<r.length;s++){
var t=r[s];

if(t.actiontype===c('UFIConstants').UFIActionType.ADD_COMMENT_ACTION){

if(t.feedbackfbid!=q)
return;



n.getRoot();
n.forEachItem(function(u){

if(u instanceof c('MenuTogglingItem')&&
u.getValue()==='unfollow_post')

u.handleClick();});}}}}







function m
(n,
o){
var p,

q=
o.node_id,

r=
n.subscribe('itemclick',function(w,x){
j(n,o,w,x);}),


s=k(n,o),
t=
n.subscribe('show',s.bind(this)),

u=
c('UFICentralUpdates').subscribe('update-actions',function(w,x){
l(n,o,x);}),


v=c('ge')(q);
if(v)(function(){
var w=new (c('SubscriptionsHandler'))();
w.addSubscriptions
(r,
t,
u,
c('onEnclosingPageletDestroy')(v,function(){
n.done();
n.destroy();
w.release();}));})
();}




f.exports=m;}),null);
